Entered start.sh with args: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
Running hooks in: /usr/local/bin/start-notebook.d as uid: 1000 gid: 100
Done running hooks in: /usr/local/bin/start-notebook.d
Running hooks in: /usr/local/bin/before-notebook.d as uid: 1000 gid: 100
Sourcing shell script: /usr/local/bin/before-notebook.d/10activate-conda-env.sh
Done running hooks in: /usr/local/bin/before-notebook.d
Executing the specified command: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
Running executable in GDB: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
[r[m[2J[H[?7h[?1;4;6l[?1049h[22;0;0t[4l[?1h=[0m(B[1;24r[H[2J[H[2J[1m[35mGNU gdb (Ubuntu 12.1-0ubuntu1~22.04.2) 12.1[0m
Copyright (C) 2022 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<https://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
add symbol table from file "/home/jovyan/Python-3.11.9/debug/python"
add symbol table from file "/home/jovyan/Python-3.11.9/debug/libpython3.11d.so"
add symbol table from file "/home/jovyan/Python-3.11.9/debug/libpython3.11d.so.1.0"
add symbol table from file "/usr/local/lib/python3.11/site-packages/distributed_notebook/smr/_smr.cpython-311-x86_64-linux-gnu.so"
Loading Go Runtime support.
Reading symbols from [32m/home/jovyan/Python-3.11.9/debug/python[39m...
Loading Go Runtime support.
Starting program: [32m/home/jovyan/Python-3.11.9/debug/python[39m -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2\>\&1
[Thread debugging using libthread_db enabled]
Using host libthread_db library "[32m/lib/x86_64-linux-gnu/libthread_db.so.1[39m".
/usr/local/lib/python3.11/site-packages/jupyter_client/connect.py:22: DeprecationWarning: Jupyter is migrating its paths to use standard platformdirs
given by the platformdirs library.  To remove this warning and
see the appropriate new directories, set the environment variable
`JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
The use of platformdirs will be the default in `jupyter_core` v6
  from jupyter_core.paths import jupyter_data_dir, jupyter_runtime_dir, secure_write
[New Thread 0x7ffff2e87640 (LWP 48)]
[New Thread 0x7ffff1bf5640 (LWP 49)]
[New Thread 0x7ffff13f4640 (LWP 50)]
[New Thread 0x7ffff0bb3640 (LWP 51)]
[New Thread 0x7fffa5fff640 (LWP 52)]
[New Thread 0x7fffa57fe640 (LWP 53)]
Driver process has started running.
[IPKernelApp] Using existing profile dir: '/home/jovyan/.ipython/profile_default'
[IPKernelApp] Searching path ['/home/jovyan/.ipython/profile_default', '/usr/local/etc/ipython', '/etc/ipython'] for config files
[IPKernelApp] Attempting to load config file: ipython_config.py
[IPKernelApp] Looking for ipython_config in /etc/ipython
[IPKernelApp] Looking for ipython_config in /usr/local/etc/ipython
[IPKernelApp] Looking for ipython_config in /home/jovyan/.ipython/profile_default
[IPKernelApp] Loaded config file: /home/jovyan/.ipython/profile_default/ipython_config.json
[IPKernelApp] Attempting to load config file: ipython_kernel_config.py
[IPKernelApp] Looking for ipython_kernel_config in /etc/ipython
[IPKernelApp] Looking for ipython_kernel_config in /usr/local/etc/ipython
[IPKernelApp] Looking for ipython_kernel_config in /home/jovyan/.ipython/profile_default
[IPKernelApp] Loading connection file /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json
[Detaching after vfork from child process 54]
[Detaching after vfork from child process 55]
[Detaching after vfork from child process 56]
[IPKernelApp] Starting the kernel at pid: 45
[New Thread 0x7fffa4ffd640 (LWP 57)]
[New Thread 0x7fff8ffff640 (LWP 58)]
[IPKernelApp] shell ROUTER Channel on port: 9002
[IPKernelApp] stdin ROUTER Channel on port: 9003
[IPKernelApp] control ROUTER Channel on port: 9001
2024-08-12 22:21:29,747 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[IPKernelApp] iopub PUB Channel on port: 9004
2024-08-12 22:21:29,747 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[New Thread 0x7fff8f7fe640 (LWP 59)]
[IPKernelApp] Heartbeat REP Channel on port: 9000
[New Thread 0x7fff8effd640 (LWP 60)]
[New Thread 0x7fff8e7fc640 (LWP 61)]
[New Thread 0x7fff8dffb640 (LWP 62)]
[IPKernelApp] Connection file /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json with current information already exists
[IPKernelApp] To connect another client to this kernel, use:
[IPKernelApp]     --existing /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json
NOTE: When using the `ipython kernel` entry point, Ctrl-C will not work.

To exit, you will have to explicitly quit this process, by either sending
"quit" from a client, or using Ctrl-\ in UNIX-like environments.

To read more about this, see https://github.com/ipython/ipython/issues/2049


To connect another client to this kernel, use:
    --existing /kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json
[New Thread 0x7fff8d7fa640 (LWP 63)]
[New Thread 0x7fff8cff9640 (LWP 64)]
[IPKernelApp] Seeing logger to stderr, rerouting to raw filedescriptor.
2024-08-12 22:21:29,754 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[New Thread 0x7fff77fff640 (LWP 65)]
[Detaching after vfork from child process 66]
[New Thread 0x7fff777fe640 (LWP 67)]
2024-08-12 22:21:30,043 [INFO] DistributedKernel: The Debugger IS available/enabled. [MainThread (140737343412032)] 
2024-08-12 22:21:30,045 [INFO] DistributedKernel: Kwargs: {'parent': <ipykernel.kernelapp.IPKernelApp object at 0x7ffff7276f90>, 'session': <jupyter_client.session.Session object at 0x7ffff0127850>, 'control_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff017cd80>, 'debugpy_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff017d1e0>, 'debug_shell_socket': <zmq.Socket(zmq.DEALER) at 0x7ffff012cde0>, 'shell_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff017eb30>, 'control_thread': <ControlThread(Control, started daemon 140735206651456)>, 'iopub_thread': <ipykernel.iostream.IOPubThread object at 0x7ffff0125820>, 'iopub_socket': <ipykernel.iostream.BackgroundSocket object at 0x7ffff0125550>, 'stdin_socket': <zmq.Socket(zmq.ROUTER) at 0x7ffff40c35e0>, 'log': <Logger IPKernelApp (DEBUG)>, 'profile_dir': <IPython.core.profiledir.ProfileDir object at 0x7ffff017f8a0>, 'user_ns': None} [MainThread (140737343412032)] 
2024-08-12 22:21:30,047 [DEBUG] DistributedKernel: Deployment mode: docker [MainThread (140737343412032)] 
2024-08-12 22:21:30,048 [INFO] DistributedKernel: Connection file path: "/kernel_base/connection-kernel-2e269c66-a283-40d4-a150-0fd0d02ad274-2-2921034657.json" [MainThread (140737343412032)] 
2024-08-12 22:21:30,049 [INFO] DistributedKernel: IPython config file path: "/home/jovyan/.ipython/profile_default/ipython_config.json" [MainThread (140737343412032)] 
2024-08-12 22:21:30,050 [INFO] DistributedKernel: Session ID: "ab0f4982-f33c0084ccbc655d6cf398ef" [MainThread (140737343412032)] 
2024-08-12 22:21:30,052 [INFO] DistributedKernel: Kernel ID: "2e269c66-a283-40d4-a150-0fd0d02ad274" [MainThread (140737343412032)] 
2024-08-12 22:21:30,053 [INFO] DistributedKernel: Pod name: "9175dd59ffaa" [MainThread (140737343412032)] 
2024-08-12 22:21:30,054 [INFO] DistributedKernel: HDFS NameNode hostname: "host.docker.internal:10000" [MainThread (140737343412032)] 
2024-08-12 22:21:30,055 [INFO] DistributedKernel: CPU: 100, Memory: 1250, GPU: 1. [MainThread (140737343412032)] 
2024-08-12 22:21:30,058 [INFO] DistributedKernel: Connection info: {'ip': '0.0.0.0', 'control_port': 9001, 'shell_port': 9002, 'stdin_port': 9003, 'hb_port': 9000, 'iopub_port': 9004, 'iosub_port': 9005, 'ack_port': 0, 'transport': 'tcp', 'signature_scheme': 'hmac-sha256', 'key': 'cc12c36c-97fc66bfdc2ed08c1b83c792', 'starting_resource_port': 0, 'num_resource_ports': 0} [MainThread (140737343412032)] 
2024-08-12 22:21:30,059 [INFO] DistributedKernel: Registering with local daemon now. [MainThread (140737343412032)] 
2024-08-12 22:21:30,060 [INFO] DistributedKernel: Local Daemon network address: "cd87012d5a7c:8075" [MainThread (140737343412032)] 
2024-08-12 22:21:30,062 [INFO] DistributedKernel: Sending registration payload to local daemon: {'op': 'register', 'signature_scheme': 'hmac-sha256', 'key': 'cc12c36c-97fc66bfdc2ed08c1b83c792', 'replicaId': 2, 'numReplicas': 3, 'join': False, 'podName': '9175dd59ffaa', 'nodeName': 'DockerNode', 'connection-info': {'ip': '0.0.0.0', 'control_port': 9001, 'shell_port': 9002, 'stdin_port': 9003, 'hb_port': 9000, 'iopub_port': 9004, 'iosub_port': 9005, 'ack_port': 0, 'transport': 'tcp', 'signature_scheme': 'hmac-sha256', 'key': 'cc12c36c-97fc66bfdc2ed08c1b83c792', 'starting_resource_port': 0, 'num_resource_ports': 0}, 'kernel': {'id': '2e269c66-a283-40d4-a150-0fd0d02ad274', 'session': 'ab0f4982-f33c0084ccbc655d6cf398ef', 'signature_scheme': 'hmac-sha256', 'key': 'cc12c36c-97fc66bfdc2ed08c1b83c792'}} [MainThread (140737343412032)] 
2024-08-12 22:21:30,063 [INFO] DistributedKernel: Sent 709 byte(s) to local daemon. [MainThread (140737343412032)] 
2024-08-12 22:21:30,333 [INFO] DistributedKernel: Received 217 byte(s) in response from LocalDaemon: b'{"debug_port":32002,"hostname":"172.18.0.11","persistent_id":"243bb656-5fcc-4d13-a221-d7c6171f3160","replicas":{"1":"172.18.0.10","2":"172.18.0.11","3":"172.18.0.9"},"should_read_data_from_hdfs":false,"smr_node_id":2}' [MainThread (140737343412032)] 
2024-08-12 22:21:30,336 [INFO] DistributedKernel: Received persistent ID from registration: "243bb656-5fcc-4d13-a221-d7c6171f3160" [MainThread (140737343412032)] 
2024-08-12 22:21:30,337 [DEBUG] DistributedKernel: We should NOT read data from HDFS. [MainThread (140737343412032)] 
2024-08-12 22:21:30,339 [INFO] DistributedKernel: Assigned debug port to 32002 [MainThread (140737343412032)] 
2024-08-12 22:21:30,341 [INFO] DistributedKernel: [SMR-NODE-ID-ASSIGNED]2 [MainThread (140737343412032)] 
2024-08-12 22:21:30,342 [INFO] DistributedKernel: Received SMR Node ID after registering with local daemon: 2 [MainThread (140737343412032)] 
2024-08-12 22:21:30,345 [INFO] DistributedKernel: Replica hostnames: {1: '172.18.0.10:8080', 2: '172.18.0.11:8080', 3: '172.18.0.9:8080'} [MainThread (140737343412032)] 
[Detaching after fork from child process 68]
[IPKernelApp] Loading IPython extensions...
[IPKernelApp] Loading IPython extension: storemagic
2024-08-12 22:21:30,399 [INFO] DistributedKernel: Local TCP server process has PID=68 [MainThread (140737343412032)] 
2024-08-12 22:21:30,403 [INFO] DistributedKernel: [Local TCP Server] Starting. Port: 5555 [MainThread (140737343412032)] 
2024-08-12 22:21:30,408 [INFO] DistributedKernel: [Local TCP Server] Started. Port: 5555 [MainThread (140737343412032)] 
2024-08-12 22:21:30,421 [INFO] DistributedKernel: DistributedKernel is starting. Persistent ID = "243bb656-5fcc-4d13-a221-d7c6171f3160" [MainThread (140737343412032)] 
2024-08-12 22:21:30,426 [DEBUG] DistributedKernel: Starting debugpy server on 0.0.0.0:33002 [MainThread (140737343412032)] 
[Detaching after vfork from child process 73]
[New Thread 0x7fff76ffd640 (LWP 79)]
[New Thread 0x7fff767fc640 (LWP 80)]
[New Thread 0x7fff75ffb640 (LWP 82)]
[New Thread 0x7fff757fa640 (LWP 83)]
[New Thread 0x7fff74ff9640 (LWP 84)]
[Thread 0x7fff74ff9640 (LWP 84) exited]
[New Thread 0x7fff74ff9640 (LWP 85)]
[Thread 0x7fff74ff9640 (LWP 85) exited]
[New Thread 0x7fff74ff9640 (LWP 86)]
[Thread 0x7fff74ff9640 (LWP 86) exited]
[New Thread 0x7fff74ff9640 (LWP 87)]
[Thread 0x7fff74ff9640 (LWP 87) exited]
[New Thread 0x7fff74ff9640 (LWP 88)]
[Thread 0x7fff74ff9640 (LWP 88) exited]
[New Thread 0x7fff74ff9640 (LWP 89)]
[Thread 0x7fff74ff9640 (LWP 89) exited]
[New Thread 0x7fff74ff9640 (LWP 90)]
[Thread 0x7fff74ff9640 (LWP 90) exited]
[New Thread 0x7fff74ff9640 (LWP 91)]
[Thread 0x7fff74ff9640 (LWP 91) exited]
[New Thread 0x7fff74ff9640 (LWP 92)]
[Thread 0x7fff74ff9640 (LWP 92) exited]
[New Thread 0x7fff74ff9640 (LWP 93)]
[Thread 0x7fff74ff9640 (LWP 93) exited]
[New Thread 0x7fff74ff9640 (LWP 94)]
[Thread 0x7fff74ff9640 (LWP 94) exited]
[New Thread 0x7fff74ff9640 (LWP 95)]
[Thread 0x7fff74ff9640 (LWP 95) exited]
[New Thread 0x7fff74ff9640 (LWP 96)]
[Thread 0x7fff74ff9640 (LWP 96) exited]
[New Thread 0x7fff74ff9640 (LWP 97)]
[Thread 0x7fff74ff9640 (LWP 97) exited]
[New Thread 0x7fff74ff9640 (LWP 98)]
[Thread 0x7fff74ff9640 (LWP 98) exited]
2024-08-12 22:21:31,169 [INFO] DistributedKernel: Initializing Persistent Store on start, as persistent ID is available: "243bb656-5fcc-4d13-a221-d7c6171f3160" [Control (140735206651456)] 
2024-08-12 22:21:31,173 [INFO] DistributedKernel: Initializing the Persistent Store with Persistent ID: "243bb656-5fcc-4d13-a221-d7c6171f3160" [Control (140735206651456)] 
2024-08-12 22:21:31,174 [INFO] DistributedKernel: Full path of Persistent Store: "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160" [Control (140735206651456)] 
2024-08-12 22:21:31,175 [INFO] DistributedKernel: Disabling `outstream` now. [Control (140735206651456)] 
2024-08-12 22:21:31,186 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [Control (140735206651456)] 
2024-08-12 22:21:31,187 [INFO] DistributedKernel: Disabled `outstream`. [Control (140735206651456)] 
2024-08-12 22:21:31,187 [INFO] DistributedKernel: Overriding shell hooks now. [Control (140735206651456)] 
2024-08-12 22:21:31,188 [INFO] DistributedKernel: Confirmed node 172.18.0.11:8080 [Control (140735206651456)] 
2024-08-12 22:21:31,189 [DEBUG] DistributedKernel: Passing the following addresses to RaftLog: ['http://172.18.0.10:8080', 'http://172.18.0.11:8080', 'http://172.18.0.9:8080'] [Control (140735206651456)] 
2024-08-12 22:21:31,191 [DEBUG] DistributedKernel: Creating RaftLog now. [Control (140735206651456)] 
2024-08-12 22:21:31,192 [INFO] RaftLog2: Creating RaftNode 2 now. [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: persistent store path: /storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160 [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: hdfs_hostname: "host.docker.internal:10000" [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: should read data from HDFS: "False" [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: peer_addrs: ['http://172.18.0.10:8080', 'http://172.18.0.11:8080', 'http://172.18.0.9:8080'] [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: peer_ids: [1, 2, 3] [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: join: False [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: debug_port: 32002 [Control (140735206651456)] 
2024-08-12 22:21:31,193 [INFO] RaftLog2: >> CALLING INTO GO CODE (NewLogNode) [Control (140735206651456)] 
Calling: '_NewLogNode'
Released GIL at beginning of 'NewLogNode'
Creating a new LogNode [version 1.0.1].
Checking validity of hdfs hostname.
Creating LogNode struct now.
2024-08-12T22:21:31.196Z[8CINFO[4Csmr/lognode.go:313[6CLogNode 2 WAL directory: '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2'
2024/08/12 22:21:31 Serving debug HTTP server on port 32002.
2024-08-12T22:21:31.196Z[8CINFO[4Csmr/lognode.go:314[6CLogNode 2 Snapshot directory: '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2-snap'
LogNode 2 WAL directory: '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2'LogNode 2 Snapshot directory: '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2-snap'
2024-08-12T22:21:31.196Z[8CINFO[4Csmr/lognode.go:327[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.10:8080", "peer_id": 1}
Discovered peer 1: http://172.18.0.10:8080.
Discovered peer 2: http://172.18.0.11:8080.
2024-08-12T22:21:31.197Z[8CINFO[4Csmr/lognode.go:327[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.11:8080", "peer_id": 2}
2024-08-12T22:21:31.197Z[8CINFO[4Csmr/lognode.go:327[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.9:8080", "peer_id": 3}
2024-08-12T22:21:31.197Z[8CINFO[4Csmr/lognode.go:332[6CConnecting to HDFS at 'host.docker.internal:10000'
Discovered peer 3: http://172.18.0.9:8080.
Connecting to HDFS at 'host.docker.internal:10000'
[New Thread 0x7fff74ff9640 (LWP 99)]
2024-08-12T22:21:31.204Z[8CINFO[4Csmr/lognode.go:391[6CSuccessfully connected to HDFS at 'host.docker.internal:10000'
Successfully connected to HDFS at 'host.docker.internal:10000'
2024-08-12T22:21:31.205Z[8CINFO[4Csmr/lognode.go:469[6CWe've not been instructed to retrieve any data directory from HDFS.[5C{"data_directory": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160", "waldir": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"}
Returning LogNode now.
2024-08-12 22:21:31,205 [INFO] RaftLog2: << RETURNED FROM GO CODE (NewLogNode) [Control (140735206651456)] 
2024-08-12 22:21:31,207 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.ConnectedToHDFS) [Control (140735206651456)] 
Calling: 'smr_LogNode_ConnectedToHDFS'
Released GIL at beginning of 'ConnectedToHDFS'
2024-08-12 22:21:31,208 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.ConnectedToHDFS) [Control (140735206651456)] 
2024-08-12 22:21:31,210 [INFO] RaftLog2: Successfully created LogNode 2. [Control (140735206651456)] 
2024-08-12 22:21:31,211 [DEBUG] RaftLog2: Loading and applying serialized state. First, retrieving serialized state from LogNode. [Control (140735206651456)] 
2024-08-12 22:21:31,211 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.GetSerializedState) [Control (140735206651456)] 
Calling: 'smr_LogNode_GetSerializedState'
Released GIL at beginning of 'GetSerializedState'
2024-08-12T22:21:31.212Z[8CDEBUG   smr/lognode.go:555[6CReturning serialized state of size/length 0.
2024-08-12 22:21:31,212 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.GetSerializedState) [Control (140735206651456)] 
2024-08-12 22:21:31,214 [DEBUG] RaftLog2: Retrieved serialized state from LogNode: go.Slice_byte len: 0 handle: 4 [] [Control (140735206651456)] 
2024-08-12 22:21:31,214 [DEBUG] RaftLog2: Successfully converted Golang Slice_bytes to Python bytes. [Control (140735206651456)] 
2024-08-12 22:21:31,214 [DEBUG] RaftLog2: No serialized state found. Nothing to load and apply. [Control (140735206651456)] 
2024-08-12 22:21:31,215 [DEBUG] DistributedKernel: Successfully created RaftLog. [Control (140735206651456)] 
2024-08-12 22:21:31,216 [INFO] DistributedKernel: Creating Synchronizer now. [Control (140735206651456)] 
2024-08-12 22:21:31,217 [DEBUG] Synchronizer: Finished setting callbacks for Synclog (within Synchronizer). [Control (140735206651456)] 
2024-08-12 22:21:31,217 [INFO] DistributedKernel: Created Synchronizer. Starting Synchronizer now. [Control (140735206651456)] 
Calling: '_NewConfig'
Released GIL at beginning of 'NewConfig'
Calling: 'smr_LogNodeConfig_WithChangeCallback'
Released GIL at beginning of 'WithChangeCallback'
Calling: 'smr_LogNodeConfig_WithRestoreCallback'
Released GIL at beginning of 'WithRestoreCallback'
Calling: 'smr_LogNodeConfig_WithShouldSnapshotCallback'
Released GIL at beginning of 'WithShouldSnapshotCallback'
2024-08-12 22:21:31,218 [INFO] RaftLog2: Starting LogNode 2 now. [Control (140735206651456)] 
2024-08-12 22:21:31,219 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Start) [Control (140735206651456)] 
Calling: 'smr_LogNodeConfig_WithSnapshotCallback'
Released GIL at beginning of 'WithSnapshotCallback'
Calling: 'smr_LogNode_Start'
Released GIL at beginning of 'Start'
2024-08-12T22:21:31.221Z[8CDEBUG   smr/lognode.go:522[6CLogNode 2 is starting with config: {"ElectionTick":10,"HeartbeatTick":1,"Debug":false}
2024-08-12T22:21:31.221Z[8CDEBUG   smr/lognode.go:750[6CLogNode 2 is beginning start procedure now.
2024-08-12T22:21:31.222Z[8CINFO[4Csmr/lognode.go:1316[5CWAL directory "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2" does not already exist. Creating it now.[4C{"directory": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"}
[New Thread 0x7fff53fff640 (LWP 100)]
[New Thread 0x7fff537fe640 (LWP 101)]
2024-08-12T22:21:31.249Z[8CINFO[4Csmr/lognode.go:1328[5CSuccessfully created WAL direcotry: "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"[7C{"uri": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"}
2024-08-12T22:21:31.249Z[8CDEBUG   smr/lognode.go:1383[5CRecovered Raft HardState from WAL snapshot. Term: 0. Vote: 0. Commit: 0.
2024-08-12T22:21:31.250Z[8CDEBUG   smr/lognode.go:1384[5CRecovered 0 entry/entries from WAL snapshot.
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:1396[5CFinished replaying WAL.
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:794[6CAdding rpeer 2 at addr http://172.18.0.11:8080. {"id": 2, "address": "http://172.18.0.11:8080"}
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:794[6CAdding rpeer 3 at addr http://172.18.0.9:8080.  {"id": 3, "address": "http://172.18.0.9:8080"}
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:794[6CAdding rpeer 1 at addr http://172.18.0.10:8080. {"id": 1, "address": "http://172.18.0.10:8080"}
2024-08-12T22:21:31.250Z[8CDEBUG   smr/lognode.go:811[6CLogNode 2 will be starting (as if for the first time), as the old WAL directory is not available (false) and we've not been instructed to join.%!(EXTRA bool=false)
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=()
raft2024/08/12 22:21:31 INFO: 2 became follower at term 0
raft2024/08/12 22:21:31 INFO: newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]
raft2024/08/12 22:21:31 INFO: 2 became follower at term 1
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(2)
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(2 3)
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:825[6CStarting Raft HTTP transport now.
2024-08-12T22:21:31.250Z[8CINFO[4Csmr/lognode.go:829[6CAdding peer 1 at addr http://172.18.0.10:8080.  {"id": 1, "address": "http://172.18.0.10:8080"}
2024-08-12T22:21:31.250Z[8CINFO[4Crafthttp/peer.go:133[4Cstarting remote peer[4C{"remote-peer-id": "1"}
2024-08-12T22:21:31.251Z[8CINFO[4Crafthttp/pipeline.go:72 started HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "1"}
[New Thread 0x7fff52ffd640 (LWP 102)]
2024-08-12T22:21:31.252Z[8CINFO[4Crafthttp/peer.go:137[4Cstarted remote peer[5C{"remote-peer-id": "1"}
2024-08-12T22:21:31.252Z[8CINFO[4Crafthttp/transport.go:317[7Cadded remote peer[7C{"local-member-id": "2", "remote-peer-id": "1", "remote-peer-urls": ["http://172.18.0.10:8080"]}
2024-08-12T22:21:31.253Z[8CINFO[4Csmr/lognode.go:829[6CAdding peer 3 at addr http://172.18.0.9:8080.   {"id": 3, "address": "http://172.18.0.9:8080"}
2024-08-12T22:21:31.253Z[8CINFO[4Crafthttp/peer.go:133[4Cstarting remote peer[4C{"remote-peer-id": "3"}
2024-08-12T22:21:31.253Z[8CINFO[4Crafthttp/pipeline.go:72 started HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.253Z[8CINFO[4Crafthttp/peer.go:137[4Cstarted remote peer[5C{"remote-peer-id": "3"}
2024-08-12T22:21:31.251Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.253Z[8CINFO[4Crafthttp/transport.go:317[7Cadded remote peer[7C{"local-member-id": "2", "remote-peer-id": "3", "remote-peer-urls": ["http://172.18.0.9:8080"]}
2024-08-12T22:21:31.253Z[8CINFO[4Csmr/lognode.go:1544[5CLogNode 2 is serving channels.
2024-08-12T22:21:31.253Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 3. NumEntries: 3. NumMessages: 0. HardState: [Term: 1, Vote: 0, Commit: 3].
[New Thread 0x7fff527fc640 (LWP 103)]
2024-08-12 22:21:31,254 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Start) [Control (140735206651456)] 
2024-08-12 22:21:31,255 [INFO] RaftLog2: Successfully started RaftLog and LogNode. [Control (140735206651456)] 
2024-08-12 22:21:31,257 [INFO] DistributedKernel: Notified local daemon that SMR is ready. [Control (140735206651456)] 
2024-08-12T22:21:31.252Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12 22:21:31,258 [INFO] DistributedKernel: Started Synchronizer. [Control (140735206651456)] 
2024-08-12T22:21:31.252Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.259Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.259Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.259Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.259Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12 22:21:31,259 [INFO] DistributedKernel: Overrode shell hooks. [Control (140735206651456)] 
2024-08-12T22:21:31.252Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.260Z[8CINFO[4Csmr/lognode.go:1716[5CLogNode 2 is beginning to serve Raft.
2024-08-12 22:21:31,260 [INFO] DistributedKernel: Persistent store confirmed: /storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160 [Control (140735206651456)] 
2024-08-12T22:21:31.261Z[8CINFO[4Crafthttp/peer_status.go:53[6Cpeer became active[6C{"peer-id": "3"}
2024-08-12T22:21:31.261Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
[New Thread 0x7fff51ffb640 (LWP 104)]
2024-08-12T22:21:31.262Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.265Z[8CINFO[4Crafthttp/peer_status.go:53[6Cpeer became active[6C{"peer-id": "1"}
2024-08-12T22:21:31.266Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.267Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.268Z[8CINFO[4Csmr/lognode.go:1233[5Cincoming conf change: node_id:2 [8C{"type": 0, "context length": 0}
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-12T22:21:31.269Z[8CINFO[4Csmr/lognode.go:1233[5Cincoming conf change: node_id:3 [8C{"type": 0, "context length": 0}
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-12T22:21:31.269Z[8CINFO[4Csmr/lognode.go:1233[5Cincoming conf change: node_id:1 [8C{"type": 0, "context length": 0}
raft2024/08/12 22:21:31 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-12T22:21:31.322Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "3", "stream-type": "stream MsgApp v2"}
2024-08-12T22:21:31.322Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.324Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "3", "stream-type": "stream Message"}
2024-08-12T22:21:31.324Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:21:31.359Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "1", "stream-type": "stream Message"}
2024-08-12T22:21:31.359Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "1", "stream-type": "stream MsgApp v2"}
2024-08-12T22:21:31.359Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:21:31.359Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12 22:21:31,470 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'753d4b01-031'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'0fc67c894dbc'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:21:31,480 [DEBUG] DistributedKernel: Received SHELL message f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0 of type "kernel_info_request": {'header': {'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 460256, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:21:31,484 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_38', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 482796, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_38', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 460256, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'753d4b01-031a-412b-bf39-666d1342d310', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.c5a0430e-aa75-4dcb-ad73-6a6c7ac48cdb'] [MainThread (140737343412032)] 
2024-08-12 22:21:31,500 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:21:31,502 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:21:31,514 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 460256, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:21:31,517 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_40', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 517122, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_40', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 460256, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:21:31,523 [DEBUG] DistributedKernel: Finished processing shell message f1d26cfa-8266-4e7c-878e-715023dd6fb7_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-12 22:21:31,605 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'f1d26cfa-826'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'04d723357ef2'...64B)>, <zmq.Frame(b'{"date":"202'...231B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:21:31,609 [DEBUG] DistributedKernel: Received SHELL message bb7aca46-001b-4a22-8d10-8ed6edf6cfca of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 601000, tzinfo=tzutc()), 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'username': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'version': '5.2'}, 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:21:31,613 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "bb7aca46-001b-4a22-8d10-8ed6edf6cfca": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_42', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 612502, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_42', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 601000, tzinfo=tzutc()), 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'username': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'f1d26cfa-8266-4e7c-878e-715023dd6fb7', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.efc4b491-09d9-4288-9ecd-e096ea9b3e0d'] [MainThread (140737343412032)] 
2024-08-12 22:21:31,619 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:21:31,621 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:21:31,622 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 601000, tzinfo=tzutc()), 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'username': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'version': '5.2'}, 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:21:31,624 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_44', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 623959, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_44', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 21, 31, 601000, tzinfo=tzutc()), 'msg_id': 'bb7aca46-001b-4a22-8d10-8ed6edf6cfca', 'msg_type': 'kernel_info_request', 'session': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'username': 'f1d26cfa-8266-4e7c-878e-715023dd6fb7', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:21:31,629 [DEBUG] DistributedKernel: Finished processing shell message bb7aca46-001b-4a22-8d10-8ed6edf6cfca of type "kernel_info_request" [MainThread (140737343412032)] 
raft2024/08/12 22:21:32 INFO: 2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]
raft2024/08/12 22:21:32 INFO: 2 became follower at term 2
raft2024/08/12 22:21:32 INFO: 2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2
2024-08-12T22:21:32.766Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 3].
raft2024/08/12 22:21:32 INFO: raft.node: 2 elected leader 1 at term 2
2024-08-12T22:21:32.770Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12T22:21:32.772Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 4].
2024-08-12 22:23:17,104 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'a739080f-e11'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'ef164137f895'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:23:17,108 [DEBUG] DistributedKernel: Received SHELL message c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0 of type "kernel_info_request": {'header': {'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 98618, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,111 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_46', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 111089, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_46', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 98618, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'a739080f-e114-4822-8822-6caea19e566f', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.a86c3e29-1170-4eab-acd8-779f693488ca'] [MainThread (140737343412032)] 
2024-08-12 22:23:17,116 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:23:17,118 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:17,120 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 98618, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,122 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_48', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 121481, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_48', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 98618, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:17,128 [DEBUG] DistributedKernel: Finished processing shell message c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-12 22:23:17,173 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'c93ebdf4-84b'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'b560ddd9fc0c'...64B)>, <zmq.Frame(b'{"date":"202'...195B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:23:17,177 [DEBUG] DistributedKernel: Received SHELL message afead246-459c-44bf-ac9e-e76abcfc3b5e of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 166000, tzinfo=tzutc()), 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,180 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "afead246-459c-44bf-ac9e-e76abcfc3b5e": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_50', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 180080, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_50', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 166000, tzinfo=tzutc()), 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.e9ee8a76-93b2-44c7-b3f8-796bc82de25c'] [MainThread (140737343412032)] 
2024-08-12 22:23:17,187 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:23:17,189 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:17,191 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 166000, tzinfo=tzutc()), 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,193 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_52', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 192843, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_52', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 166000, tzinfo=tzutc()), 'msg_id': 'afead246-459c-44bf-ac9e-e76abcfc3b5e', 'msg_type': 'kernel_info_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:17,200 [DEBUG] DistributedKernel: Finished processing shell message afead246-459c-44bf-ac9e-e76abcfc3b5e of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-12 22:23:17,254 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'c93ebdf4-84b'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'614c385a38b5'...64B)>, <zmq.Frame(b'{"date":"202'...191B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{"idle-gpus"'...37B)>, <zmq.Frame(b'{"silent":fa'...138B)>] [MainThread (140737343412032)] 
2024-08-12 22:23:17,258 [DEBUG] DistributedKernel: Received SHELL message 5467e57a-e1c6-412e-bb8f-6aef033e149e of type "execute_request": {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 84000, tzinfo=tzutc()), 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'parent_header': {}, 'metadata': {'idle-gpus': '7', 'target_replica': -1}, 'content': b'{"silent":false,"store_history":true,"user_expressions":{},"allow_stdin":true,"stop_on_error":false,"code":"a = 1\\nprint(\\"a = %d\\" % a)"}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,261 [DEBUG] DistributedKernel: Sent 'ACK' for shell execute_request message "5467e57a-e1c6-412e-bb8f-6aef033e149e": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_54', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 261208, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_54', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 84000, tzinfo=tzutc()), 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'content': {'type': 'execute_request', 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.0c44e523-e518-49bf-a143-1bfb2491373b'] [MainThread (140737343412032)] 
2024-08-12 22:23:17,266 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:execute_request*** [MainThread (140737343412032)] 
2024-08-12 22:23:17,268 [DEBUG] DistributedKernel:    Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:17,269 [DEBUG] DistributedKernel: execute_request: {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 84000, tzinfo=tzutc()), 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'parent_header': {}, 'metadata': {'idle-gpus': '7', 'target_replica': -1}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:17,271 [DEBUG] DistributedKernel: execute_request called within the Distributed Python Kernel. [MainThread (140737343412032)] 
2024-08-12 22:23:17,273 [INFO] DistributedKernel: DistributedKernel is preparing to execute some code: a = 1
print("a = %d" % a)

 [MainThread (140737343412032)] 
2024-08-12 22:23:17,275 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [MainThread (140737343412032)] 
2024-08-12 22:23:17,277 [INFO] DistributedKernel: Calling synchronizer.ready(1) now with LEAD proposal. [MainThread (140737343412032)] 
2024-08-12 22:23:17,278 [DEBUG] Synchronizer: Synchronizer::Ready(LEAD): Proposing to lead now. [MainThread (140737343412032)] 
2024-08-12 22:23:17,278 [DEBUG] Synchronizer: Synchronizer is proposing to lead term 1 [MainThread (140737343412032)] 
2024-08-12 22:23:17,279 [DEBUG] RaftLog2: RaftLog 2 is proposing to lead term 1. [MainThread (140737343412032)] 
2024-08-12 22:23:17,280 [INFO] RaftLog2: Created new election with term number 1 [MainThread (140737343412032)] 
2024-08-12 22:23:17,280 [DEBUG] RaftLog2: Found no previous proposal for term 1. [MainThread (140737343412032)] 
2024-08-12 22:23:17,282 [DEBUG] RaftLog2: RaftLog 2 handling election in term 1, attempt #1. Will be proposing ElectionProposalKey.LEAD. [MainThread (140737343412032)] 
2024-08-12 22:23:17,292 [DEBUG] RaftLog2: Registering callback future on unknown loop. loop.is_running: True [MainThread (140737343412032)] 
2024-08-12 22:23:17,294 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282092,ID=b2a88894-1826-4b12-8e13-676bbc37c2fc] [MainThread (140737343412032)] 
2024-08-12 22:23:17,295 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-12T22:23:17.300Z[8CINFO[4Csmr/lognode.go:630[6CProvided Python resolve callback. Message: ElectionProposalKey.LEAD
2024-08-12T22:23:17.300Z[8CINFO[4Csmr/lognode.go:633[6CProposing to append value[7C{"key": "ElectionProposalKey.LEAD", "id": "dcf4ddff-6b9d-4106-be04-b30feea17d92"}
2024-08-12T22:23:17.300Z[8CINFO[4Csmr/lognode.go:639[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.LEAD", "id": "dcf4ddff-6b9d-4106-be04-b30feea17d92"}
2024-08-12T22:23:17.300Z[8CINFO[4Csmr/lognode.go:1582[5CLogNode 2: proposing something.
2024-08-12T22:23:17.300Z[8CINFO[4Csmr/lognode.go:1584[5CLogNode 2: finished proposing something.
2024-08-12 22:23:17,301 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-12T22:23:17.302Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12 22:23:17,303 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282092,ID=b2a88894-1826-4b12-8e13-676bbc37c2fc] [MainThread (140737343412032)] 
2024-08-12 22:23:17,304 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Awaiting result. [MainThread (140737343412032)] 
2024-08-12T22:23:17.305Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 2. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12T22:23:17.307Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 5].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,310 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 304. [Dummy-9 (140737232188992)] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,310 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=11} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,314 [DEBUG] RaftLog2: Received remote update of size 304 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,315 [DEBUG] readCloser-6e8fd: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,315 [DEBUG] readCloser-6e8fd: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
2024-08-12T22:23:17.315Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 6].
2024-08-12 22:23:17,315 [DEBUG] readCloser-6e8fd: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,315 [DEBUG] readCloser-6e8fd: reading data from readCloser now. size=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] readCloser-6e8fd: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] readCloser-6e8fd: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] readCloser-6e8fd: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] readCloser-6e8fd: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$a853210b-2a66-4208-8333-6d95f494906e\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5R\x11\xf1\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 3: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node3,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282345,ID=a853210b-2a66-4208-8333-6d95f494906e]. Match: False [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] Election1: Accepted "LEAD" proposal from node 3. NumLead: 1; NumYield: 0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,316 [DEBUG] Election1: Received proposals from node(s): 3. Missing proposals from node(s): 1, 2 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,318 [DEBUG] RaftLog2: Received 1 proposal(s) so far during term 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,319 [DEBUG] Election1: Cannot pick winner for election 1 yet. Received: 1, discarded: 0, number of replicas: 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,319 [DEBUG] RaftLog2: No winner to propose yet for election in term 1 because: insufficient number of proposals received to select a winner to propose (received: 1, discarded: 0, number of replicas: 3) [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,322 [DEBUG] RaftLog2: decideElection called for election 1. [MainThread (140737343412032)] 
2024-08-12 22:23:17,323 [DEBUG] RaftLog2: Sleeping for 9.993812084197998 seconds in decideElection coroutine for election 1. [MainThread (140737343412032)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:17,325 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,327 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 304. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,342 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=16} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
2024-08-12T22:23:17.345Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 7].
2024-08-12 22:23:17,345 [DEBUG] RaftLog2: Received remote update of size 304 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,346 [DEBUG] readCloser-82327: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,346 [DEBUG] readCloser-82327: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: reading data from readCloser now. size=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,347 [DEBUG] readCloser-82327: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$b6cab3c2-84c3-4e0e-a3fc-447daa95c65c\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5R\x0fd\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,348 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 1: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node1,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282189,ID=b6cab3c2-84c3-4e0e-a3fc-447daa95c65c]. Match: False [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,348 [DEBUG] Election1: Accepted "LEAD" proposal from node 1. NumLead: 2; NumYield: 0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,348 [DEBUG] Election1: Received proposals from node(s): 3, 1. Missing proposals from node(s): 2 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,349 [DEBUG] RaftLog2: Received 2 proposal(s) so far during term 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,349 [DEBUG] Election1: Cannot pick winner for election 1 yet. Received: 2, discarded: 0, number of replicas: 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,349 [DEBUG] RaftLog2: No winner to propose yet for election in term 1 because: insufficient number of proposals received to select a winner to propose (received: 2, discarded: 0, number of replicas: 3) [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:17,352 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,353 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="dcf4ddff-6b9d-4106-be04-b30feea17d92" of size 304. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,356 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=20} [Dummy-8 (140735156295232)] 
2024-08-12 22:23:17,359 [DEBUG] RaftLog2: Our proposal of size 304 bytes was committed. [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,359 [DEBUG] readCloser-23e68: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,359 [DEBUG] readCloser-23e68: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: reading data from readCloser now. size=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] readCloser-23e68: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$b2a88894-1826-4b12-8e13-676bbc37c2fc\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5R\r\xca\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 2: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282092,ID=b2a88894-1826-4b12-8e13-676bbc37c2fc]. Match: True [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,360 [DEBUG] Election1: Accepted "LEAD" proposal from node 2. NumLead: 3; NumYield: 0. [Dummy-9 (1Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
40737232188992)] 
2024-08-12 22:23:17,361 [DEBUG] Election1: Received proposals from node(s): 3, 1, 2. Missing proposals from node(s):  [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,361 [DEBUG] RaftLog2: Received 3 proposal(s) so far during term 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,361 [DEBUG] Election1: Will propose node 3; first 'LEAD' proposal for election term 1 came from node 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,361 [DEBUG] RaftLog2: Will propose that node 3 win the election in term 1. [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
2024-08-12 22:23:17,363 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Released GIL at beginning of 'Close'
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12T22:23:17.365Z[8CINFO[4Csmr/lognode.go:650[6CValue appended {"key": "ElectionProposalKey.LEAD", "id": "dcf4ddff-6b9d-4106-be04-b30feea17d92"}
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
[Thread 0x7fff527fc640 (LWP 103) exited]
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-12 22:23:17,370 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Setting result to value: ElectionProposalKey.LEAD [MainThread (140737343412032)] 
2024-08-12 22:23:17,372 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Result has been resolved: ElectionProposalKey.LEAD [MainThread (140737343412032)] 
2024-08-12 22:23:17,372 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-12 22:23:17.282092,ID=b2a88894-1826-4b12-8e13-676bbc37c2fc] [MainThread (140737343412032)] 
2024-08-12 22:23:17,372 [DEBUG] RaftLog2: RaftLog 2: Appending decision proposal for term 1 now. [MainThread (140737343412032)] 
2024-08-12 22:23:17,373 [DEBUG] RaftLog2: Registering callback future on _async_loop. _async_loop.is_running: True [MainThread (140737343412032)] 
2024-08-12 22:23:17,375 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-12 22:23:17,375 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-12T22:23:17.379Z[8CINFO[4Csmr/lognode.go:630[6CProvided Python resolve callback. Message: ElectionProposalKey.SYNC
2024-08-12T22:23:17.379Z[8CINFO[4Csmr/lognode.go:633[6CProposing to append value[7C{"key": "ElectionProposalKey.SYNC", "id": "636252b8-0267-459e-9d32-7babb4c4cf4d"}
2024-08-12T22:23:17.380Z[8CINFO[4Csmr/lognode.go:639[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.SYNC", "id": "636252b8-0267-459e-9d32-7babb4c4cf4d"}
2024-08-12T22:23:17.380Z[8CINFO[4Csmr/lognode.go:1582[5CLogNode 2: proposing something.
2024-08-12T22:23:17.380Z[8CINFO[4Csmr/lognode.go:1584[5CLogNode 2: finished proposing something.
2024-08-12 22:23:17,380 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-12T22:23:17.383Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,382 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-12 22:23:17,383 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Awaiting result. [MainThread (140737343412032)] 
2024-08-12T22:23:17.385Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 8].
2024-08-12 22:23:17,388 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="636252b8-0267-459e-9d32-7babb4c4cf4d" of size 322. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,414 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=25} [Dummy-8 (140735156295232)] 
Calling: 'smr_ReadCloser_Read'
2024-08-12 22:23:17,416 [DEBUG] RaftLog2: Our proposal of size 322 bytes was committed. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,416 [DEBUG] readCloser-93642: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,416 [DEBUG] readCloser-93642: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: reading data from readCloser now. size=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,417 [DEBUG] readCloser-93642: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$91864921-037e-4765-9a8a-4b8c0edfb4c5\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5W$\x07\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,418 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,418 [DEBUG] RaftLog2: Our 'leader_term' (0) < 'election_term' of latest committed 'SYNC' (1). Setting our 'leader_term' to 1 and the 'leader_id' to 3 (from newly-committed value). [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,418 [DEBUG] RaftLog2: Node 3 has won in term 1 as proposed by node 2. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,418 [DEBUG] Election1: Election 1 has completed successfully with winner: node 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,418 [DEBUG] RaftLog2: Scheduling the setting of result on '_leading_future' future to 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,419 [DEBUG] RaftLog2: Scheduled setting of result on '_leading_future' future. [Dummy-9 (140737232188992)] 
2024-08-12T22:23:17.420Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 2. NumMessages: 3. HardState: [Term: 2, Vote: 1, Commit: 9].
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,421 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12T22:23:17.423Z[8CINFO[4Csmr/lognode.go:650[6CValue appended {"key": "ElectionProposalKey.SYNC", "id": "636252b8-0267-459e-9d32-7babb4c4cf4d"}
2024-08-12 22:23:17,423 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 322. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,429 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=29} [Dummy-8 (140735156295232)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
[Thread 0x7ffff13f4640 (LWP 50) exited]
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
2024-08-12 22:23:17,431 [DEBUG] RaftLog2: Received remote update of size 322 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,431 [DEBUG] readCloser-6d42c: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,431 [DEBUG] readCloser-6d42c: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: reading data from readCloser now. size=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] readCloser-6d42c: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$2c04930f-4ab0-4d0f-b4b4-e82f32aeb9fb\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5WN\xea\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,432 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node1,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,433 [DEBUG] RaftLog2: We've already received at least 1 other 'VOTE' proposal during term 1. Ignoring 'VOTE' proposal from node 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,433 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
2024-08-12T22:23:17.434Z[8CDEBUG   smr/lognode.goCalling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
:1651   Storing Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 10].
2024-08-12 22:23:17,436 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Setting result to value: ElectionProposalKey.SYNC [MainThread (140737343412032)] 
2024-08-12 22:23:17,437 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 322. [Dummy-9 (140737232188992)] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,442 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=33} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,446 [DEBUG] RaftLog2: Received remote update of size 322 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,446 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Result has been resolved: ElectionProposalKey.SYNC [MainThread (140737343412032)] 
2024-08-12 22:23:17,446 [DEBUG] readCloser-95c3e: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,447 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-12 22:23:17,447 [DEBUG] readCloser-95c3e: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Read'
2024-08-12 22:23:17,448 [DEBUG] RaftLog2: RaftLog 2: Successfully appended decision proposal for term 1 now. [MainThread (140737343412032)] 
2024-08-12 22:23:17,449 [DEBUG] RaftLog2: RaftLog 2: returning for term 1 without waiting, is_leading=False [MainThread (140737343412032)] 
2024-08-12 22:23:17,449 [DEBUG] Synchronizer: We lost the election to lead term 1 [MainThread (140737343412032)] 
2024-08-12 22:23:17,450 [DEBUG] Synchronizer: Synchronizer::Ready(LEAD): Done with proposal protocol for lead. Result: 0 [MainThread (140737343412032)] 
2024-08-12 22:23:17,450 [DEBUG] readCloser-95c3e: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,450 [DEBUG] readCloser-95c3e: reading data from readCloser now. size=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] readCloser-95c3e: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] readCloser-95c3e: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] readCloser-95c3e: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] readCloser-95c3e: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$14f161f3-9175-49db-8615-0213996cd5a4\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5X\xfa)\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node3,Proposed=Node3,Timestamp=Mon Aug 12 22:23:17 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] RaftLog2: We've already received at least 1 other 'VOTE' proposal during term 1. Ignoring 'VOTE' proposal from node 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,451 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,450 [INFO] DistributedKernel: Completed call to synchronizer.ready(1) with LEAD proposal. shell.execution_count: 0 [MainThread (140737343412032)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:17,453 [DEBUG] DistributedKernel: I will NOT leading this execution. [MainThread (140737343412032)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,456 [INFO] DistributedKernel: Execution yielded: Failed to lead the exectuion. [MainThread (140737343412032)] 
2024-08-12 22:23:17,462 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_57', 'msg_type': 'execute_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 460439, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_57', 'msg_type': 'execute_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 17, 84000, tzinfo=tzutc()), 'msg_id': '5467e57a-e1c6-412e-bb8f-6aef033e149e', 'msg_type': 'execute_request', 'session': 'c93ebdf4-84b4-4e31-ac3c-e03e6a3a4460', 'username': '', 'version': '5.2'}, 'content': {'status': 'error', 'ename': 'ExecutionYieldError', 'evalue': 'Failed to lead the exectuion.', 'traceback': []}, 'metadata': {'started': datetime.datetime(2024, 8, 12, 22, 23, 17, 272552, tzinfo=datetime.timezone.utc), 'dependencies_met': True, 'engine': '226b2251-d355-4300-89a1-0bc1df6a164a', 'status': 'error'}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:17,468 [DEBUG] DistributedKernel: Finished processing shell message 5467e57a-e1c6-412e-bb8f-6aef033e149e of type "execute_request" [MainThread (140737343412032)] 
2024-08-12T22:23:17.546Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12T22:23:17.549Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 11].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,550 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 345. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,552 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=36} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,556 [DEBUG] RaftLog2: Received remote update of size 345 bytes [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Read'
2024-08-12 22:23:17,556 [DEBUG] readCloser-aafd1: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=345, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,556 [DEBUG] readCloser-aafd1: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,556 [DEBUG] readCloser-aafd1: Added 345 to self.w; self.w is now = 345, self.buffered()=345, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,556 [DEBUG] readCloser-aafd1: reading data from readCloser now. size=345 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,556 [DEBUG] readCloser-aafd1: Preparing to read buffer with size=345, self.r=0, self.w=345, self.w - self.r = 345, and len(self.buf)=345 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] readCloser-aafd1: require called with sz=345, self.r=0, self.w=345, self.w - self.r = 345, len(self.buf)=345, self.buffered = 345, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] readCloser-aafd1: Reading buffer[0: 345]; r = 0, n = 345. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] readCloser-aafd1: returning 345 byte(s) from readCloser: b'\x80\x04\x95N\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x11SynchronizedValue\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94K\x01\x8c\x0c_proposer_id\x94J\xff\xff\xff\xff\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94J\xff\xff\xff\xff\x8c\x05_data\x94\x8c\x03ast\x94\x8c\x06Module\x94\x93\x94)R\x94}\x94(\x8c\x04body\x94]\x94\x8c\x0ctype_ignores\x94]\x94ub\x8c\x01a\x94\x85\x94\x86\x94\x8c\x03_id\x94\x8c$4576bd74-f8e4-4e09-ab51-1e36a5e3ee23\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5bP\xa8\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x05_ast_\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] RaftLog2: Received SynchronizedValue: SynchronizedValue[Key=_ast_,Op=,End=FalReleased GIL at beginning of 'Read'
[readerWrapper] Read 345 bytes into buffer of maximum size 345. Error: <nil>.
se,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-12 22:23:17.536173,ID=4576bd74-f8e4-4e09-ab51-1e36a5e3ee23] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] RaftLog2: Updating self._leader_term from 1 to 1, the leader term of the committed non-proposal SynchronizedValue. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] RaftLog2: Returning synchronization value directly. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] Synchronizer: >> enter execution syncing... [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] Synchronizer: Restoring SynchronizedValue with key="_ast_": SynchronizedValue[Key=_ast_,Op=,End=False,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-12 22:23:17.536173,ID=4576bd74-f8e4-4e09-ab51-1e36a5e3ee23] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,557 [DEBUG] Synchronizer: _ast_:<class 'ast.Module'> [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:17,559 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12T22:23:17.574Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12T22:23:17.577Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 1, Commit: 12].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback o2024-08-12 22:23:17,578 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 287. [Dummy-9 (140737232188992)] 
f type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:17,581 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=40} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:17,584 [DEBUG] RaftLog2: Received remote update of size 287 bytes [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 287 bytes into buffer of maximum size 287. Error: <nil>.
2024-08-12 22:23:17,584 [DEBUG] readCloser-58639: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=287, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,584 [DEBUG] readCloser-58639: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: Added 287 to self.w; self.w is now = 287, self.buffered()=287, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: reading data from readCloser now. size=287 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: Preparing to read buffer with size=287, self.r=0, self.w=287, self.w - self.r = 287, and len(self.buf)=287 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: require called with sz=287, self.r=0, self.w=287, self.w - self.r = 287, len(self.buf)=287, self.buffered = 287, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: Reading buffer[0: 287]; r = 0, n = 287. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,585 [DEBUG] readCloser-58639: returning 287 byte(s) from readCloser: b'\x80\x04\x95\x14\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x11SynchronizedValue\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94K\x01\x8c\x0c_proposer_id\x94J\xff\xff\xff\xff\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94J\xff\xff\xff\xff\x8c\x05_data\x94K\x01\x8c\x03_id\x94\x8c$03cd5c00-9388-4e2f-a70c-e71343bcab1d\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd5d*J\x8c\n_operation\x94\x8c\x03add\x94\x8c\x15_should_end_execution\x94\x88\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x01a\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] RaftLog2: Received SynchronizedValue: SynchronizedValue[Key=a,Op=add,End=True,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-12 22:23:17.565081,ID=03cd5c00-9388-4e2f-a70c-e71343bcab1d] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] RaftLog2: Updating self._leader_term from 1 to 1, the leader term of the committed non-proposal SynchronizedValue. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] RaftLog2: Returning synchronization value directly. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] Synchronizer: Restoring SynchronizedValue with key="a": SynchronizedValue[Key=a,Op=add,End=True,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-12 22:23:17.565081,ID=03cd5c00-9388-4e2f-a70c-e71343bcab1d] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] Synchronizer: a:<class 'int'> [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,586 [DEBUG] Synchronizer: << exit execution syncing [2] [Dummy-9 (140737232188992)] 
2024-08-12 22:23:17,588 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:25,179 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'57b03d8e-b43'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'668886bca2c5'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:23:25,181 [DEBUG] DistributedKernel: Received control message b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1 of type "kernel_info_request" [Control (140735206651456)] 
2024-08-12 22:23:25,186 [DEBUG] DistributedKernel: Received SHELL message b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0 of type "kernel_info_request": {'header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 171873, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,193 [DEBUG] DistributedKernel: Sent 'ACK' for control kernel_info_request message "b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_60', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 191210, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_60', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 172770, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'55368a53-141b-4676-84d2-e81ba2576cb2', b'4366950a-fbf7-46bf-8cda-78e45f1d69cb', b'360f5cf1-262d-4c66-9484-dda6160a7faa', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.083035ef-e091-45f8-b481-9673825236eb'] [Control (140735206651456)] 
2024-08-12 22:23:25,195 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_61', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 193754, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_61', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 171873, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'57b03d8e-b43d-4648-8476-5a8d80cc398e', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.f231aab7-95f1-44a3-9c05-ef5f70395e9c'] [MainThread (140737343412032)] 
2024-08-12 22:23:25,207 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:23:25,208 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_63', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 206489, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_63', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 172770, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735206651456)] 
2024-08-12 22:23:25,211 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:25,216 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 171873, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,215 [DEBUG] DistributedKernel: Finished processing control message b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_1 of type "kernel_info_request" [Control (140735206651456)] 
2024-08-12 22:23:25,221 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_65', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 219107, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_65', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 171873, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:25,229 [DEBUG] DistributedKernel: Finished processing shell message b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-12 22:23:25,249 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'b86f52f9-66e'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'0fd745f494dd'...64B)>, <zmq.Frame(b'{"date":"202'...195B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-12 22:23:25,253 [DEBUG] DistributedKernel: Received SHELL message 8cf702e9-de1f-42f8-8e0e-72b2bce45807 of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 241000, tzinfo=tzutc()), 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'username': '', 'version': '5.2'}, 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,258 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "8cf702e9-de1f-42f8-8e0e-72b2bce45807": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_67', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 256143, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_67', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 241000, tzinfo=tzutc()), 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'username': '', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.f89e22b7-dc4b-4f42-af8b-ce7e62f05173'] [MainThread (140737343412032)] 
2024-08-12 22:23:25,263 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-12 22:23:25,265 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:25,267 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 241000, tzinfo=tzutc()), 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'username': '', 'version': '5.2'}, 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,270 [DEBUG] DistributedKernel: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_69', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 269086, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_69', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 241000, tzinfo=tzutc()), 'msg_id': '8cf702e9-de1f-42f8-8e0e-72b2bce45807', 'msg_type': 'kernel_info_request', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'username': '', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:25,276 [DEBUG] DistributedKernel: Finished processing shell message 8cf702e9-de1f-42f8-8e0e-72b2bce45807 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-12 22:23:25,320 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'd92f1607-07d'...36B)>, <zmq.Frame(b'ce1fbec5-e7d'...36B)>, <zmq.Frame(b'b86f52f9-66e'...36B)>, <zmq.Frame(b'dest.2e269c6'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'9982cc331935'...64B)>, <zmq.Frame(b'{"msg_id":"4'...189B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{"idle-gpus"'...80B)>, <zmq.Frame(b'{"silent":fa'...138B)>] [MainThread (140737343412032)] 
2024-08-12 22:23:25,323 [DEBUG] DistributedKernel: Received SHELL message 40313c2a-1e72-4338-96c2-58d625dddb2e of type "yield_execute": {'header': {'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'username': '', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 153000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': b'{"silent":false,"store_history":true,"user_expressions":{},"allow_stdin":true,"stop_on_error":false,"code":"a = 1\\nprint(\\"a = %d\\" % a)"}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,327 [DEBUG] DistributedKernel: Sent 'ACK' for shell yield_execute message "40313c2a-1e72-4338-96c2-58d625dddb2e": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_71', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 326071, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_71', 'msg_type': 'ACK', 'parent_header': {'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'username': '', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 153000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'content': {'type': 'yield_execute', 'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'd92f1607-07db-4958-a300-7bfcf035cbb5', b'ce1fbec5-e7d3-404c-8f22-5ebe98d2d115', b'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.136de2e2-4b9d-4771-9d02-c55805722d63'] [MainThread (140737343412032)] 
2024-08-12 22:23:25,332 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:yield_execute*** [MainThread (140737343412032)] 
2024-08-12 22:23:25,334 [DEBUG] DistributedKernel:    Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}
   --->
    [MainThread (140737343412032)] 
2024-08-12 22:23:25,336 [DEBUG] DistributedKernel: yield_execute: {'header': {'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'username': '', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 153000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,338 [INFO] DistributedKernel: DistributedKernel is preparing to yield the execution of some code to another replica.

 [MainThread (140737343412032)] 
2024-08-12 22:23:25,339 [DEBUG] DistributedKernel: Parent: {'header': {'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'username': '', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 153000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-12 22:23:25,340 [DEBUG] DistributedKernel: Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'} [MainThread (140737343412032)] 
2024-08-12 22:23:25,343 [DEBUG] DistributedKernel: yield_execute has been called. [MainThread (140737343412032)] 
2024-08-12 22:23:25,344 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [MainThread (140737343412032)] 
2024-08-12 22:23:25,345 [INFO] DistributedKernel: Calling synchronizer.ready(2) now with YIELD proposal. [MainThread (140737343412032)] 
2024-08-12 22:23:25,346 [DEBUG] Synchronizer: Synchronizer::Ready(YIELD): Proposing to yield now. [MainThread (140737343412032)] 
2024-08-12 22:23:25,346 [DEBUG] Synchronizer: Synchronizer is proposing to yield term 2 [MainThread (140737343412032)] 
2024-08-12 22:23:25,347 [DEBUG] RaftLog2: RaftLog 2: proposing to yield term 2. [MainThread (140737343412032)] 
2024-08-12 22:23:25,347 [INFO] RaftLog2: Created new election with term number 2 [MainThread (140737343412032)] 
2024-08-12 22:23:25,348 [DEBUG] RaftLog2: Found no previous proposal for term 2. [MainThread (140737343412032)] 
2024-08-12 22:23:25,348 [DEBUG] RaftLog2: RaftLog 2 handling election in term 2, attempt #1. Will be proposing ElectionProposalKey.YIELD. [MainThread (140737343412032)] 
2024-08-12 22:23:25,353 [DEBUG] RaftLog2: Registering callback future on _async_loop. _async_loop.is_running: True [MainThread (140737343412032)] 
2024-08-12 22:23:25,355 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.348685,ID=57c2adf3-b1c9-4f9a-b7eb-8d58d09a79c2] [MainThread (140737343412032)] 
2024-08-12 22:23:25,355 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-12T22:23:25.359Z[8CINFO[4Csmr/lognode.go:630[6CProvided Python resolve callback. Message: ElectionProposalKey.YIELD
2024-08-12T22:23:25.359Z[8CINFO[4Csmr/lognode.go:633[6CProposing to append value[7C{"key": "ElectionProposalKey.YIELD", "id": "e6d7e86e-44e0-456a-b28e-c97f5942246d"}
2024-08-12T22:23:25.359Z[8CINFO[4Csmr/lognode.go:639[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.YIELD", "id": "e6d7e86e-44e0-456a-b28e-c97f5942246d"}
2024-08-12T22:23:25.359Z[8CINFO[4Csmr/lognode.go:1582[5CLogNode 2: proposing something.
2024-08-12T22:23:25.360Z[8CINFO[4Csmr/lognode.go:1584[5CLogNode 2: finished proposing something.
2024-08-12 22:23:25,360 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-12T22:23:25.362Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12 22:23:25,363 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.348685,ID=57c2adf3-b1c9-4f9a-b7eb-8d58d09a79c2] [MainThread (140737343412032)] 
2024-08-12 22:23:25,363 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Awaiting result. [MainThread (140737343412032)] 
2024-08-12T22:23:25.369Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 1. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-12T22:23:25.375Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 1. NumMessages: 2. HardState: [Term: 2, Vote: 1, Commit: 13].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:25,386 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 305. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,389 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=45} [Dummy-8 (140735156295232)] 
2024-08-12T22:23:25.392Z[8CDEBUG   smr/lognode.go:1651[5CStoring Raft entries to WAL. NumCommittedEntries: 2. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 1, Commit: 15].
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:25,392 [DEBUG] RaftLog2: Received remote update of size 305 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,392 [DEBUG] readCloser-bfe05: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,392 [DEBUG] readCloser-bfe05: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: reading data from readCloser now. size=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] readCloser-bfe05: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$9a4877c0-951e-4e68-8b04-a1fe32467511\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd7V<\x83\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,393 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 1: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node1,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.347443,ID=9a4877c0-951e-4e68-8b04-a1fe32467511]. Match: False [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,394 [DEBUG] Election2: Accepted "YIELD" proposal from node 1. NumLead: 0; NumYield: 1. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,394 [DEBUG] Election2: Received proposals from node(s): 1. Missing proposals from node(s): 2, 3 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,394 [DEBUG] RaftLog2: Received 1 proposal(s) so far during term 2. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,394 [DEBUG] Election2: Cannot pick winner for election 2 yet. Received: 1, discarded: 0, number of replicas: 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,394 [DEBUG] RaftLog2: No winner to propose yet for election in term 2 because: insufficient number of proposals received to select a winner to propose (received: 1, discarded: 0, number of replicas: 3) [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:25,395 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:25,397 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="e6d7e86e-44e0-456a-b28e-c97f5942246d" of size 305. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:25,401 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=50} [Dummy-8 (140735156295232)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-12 22:23:25,403 [DEBUG] RaftLog2: Our proposal of size 305 bytes was committed. [Dummy-9 (140737232188992)] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: reading data from readCloser now. size=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,404 [DEBUG] readCloser-bafc3: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] readCloser-bafc3: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$57c2adf3-b1c9-4f9a-b7eb-8d58d09a79c2\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd7VP\xdb\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 2: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.348685,ID=57c2adf3-b1c9-4f9a-b7eb-8d58d09a79c2]. Match: True [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] Election2: Accepted "YIELD" proposal from node 2. NumLead: 0; NumYield: 2. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] Election2: Received proposals from node(s): 1, 2. Missing proposals from node(s): 3 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] RaftLog2: Received 2 proposal(s) so far during term 2. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] Election2: Cannot pick winner for election 2 yet. Received: 2, discarded: 0, number of replicas: 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,405 [DEBUG] RaftLog2: No winner to propose yet for election in term 2 because: insufficient number of proposals received to select a winner to propose (received: 2, discarded: 0, number of replicas: 3) [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:25,407 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12T22:23:25.409Z[8CINFO[4Csmr/lognode.go:650[6CValue appended {"key": "ElectionProposalKey.YIELD", "id": "e6d7e86e-44e0-456a-b28e-c97f5942246d"}
2024-08-12 22:23:25,409 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 305. [Dummy-9 (140737232188992)] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
[Thread 0x7fff53fff640 (LWP 100) exited]
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-12 22:23:25,415 [DEBUG] RaftLog2: Received remote update of size 305 bytes [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,415 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Setting result to value: ElectionProposalKey.YIELD [MainThread (140737343412032)] 
2024-08-12 22:23:25,416 [DEBUG] readCloser-06647: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,418 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Result has been resolved: ElectionProposalKey.YIELD [MainThread (140737343412032)] 
Calling: 'smr_ReadCloser_Read'
2024-08-12 22:23:25,418 [DEBUG] readCloser-06647: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,418 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.348685,ID=57c2adf3-b1c9-4f9a-b7eb-8d58d09a79c2] [MainThread (140737343412032)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
2024-08-12 22:23:25,419 [DEBUG] readCloser-06647: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] readCloser-06647: reading data from readCloser now. size=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] readCloser-06647: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] readCloser-06647: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] readCloser-06647: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] readCloser-06647: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$49e4e23b-8859-438b-adf4-95c73e707bfd\x94\x8c\n_timestamp\x94GA\xd9\xae\xa2\xd7VG\x1d\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 3: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node3,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-12 22:23:25.348090,ID=49e4e23b-8859-438b-adf4-95c73e707bfd]. Match: False [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,427 [DEBUG] Election2: Accepted "YIELD" proposal from node 3. NumLead: 0; NumYield: 3. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,428 [WARNING] Election2: Received third 'YIELD' proposal. Election is doomed to fail! Automatically transitioning to the 'FAILED' state. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,428 [DEBUG] Election2: Received proposals from node(s): 1, 2, 3. Missing proposals from node(s):  [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,428 [DEBUG] RaftLog2: Received 3 proposal(s) so far during term 2. [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,428 [WARNING] Election2: We have nobody to propose as the winner of the election. Proposing 'FAILURE' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,428 [DEBUG] RaftLog2: Will propose 'FAILURE' for election in term 2. [Dummy-9 (140737232188992)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-12 22:23:25,431 [DEBUG] RaftLog2: RaftLog 2: Got decision to propose: election failed. No replicas proposed 'LEAD'. [MainThread (140737343412032)] 
2024-08-12 22:23:25,431 [DEBUG] Synchronizer: Successfully yielded the execution to another replica for term 2 [MainThread (140737343412032)] 
2024-08-12 22:23:25,432 [DEBUG] Synchronizer: Synchronizer::Ready(YIELD): Done with proposal protocol for yield. Result: 0 [MainThread (140737343412032)] 
2024-08-12 22:23:25,434 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140737232188992)] 
2024-08-12 22:23:25,432 [INFO] DistributedKernel: Completed call to synchronizer.ready(2) with YIELD proposal. shell.execution_count: 0 [MainThread (140737343412032)] 
2024-08-12 22:23:25,435 [DEBUG] DistributedKernel: I will NOT leading this execution. [MainThread (140737343412032)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-12 22:23:25,439 [DEBUG] DistributedKernel: Sent the following reply after yield_execute: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_74', 'msg_type': 'execute_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 438447, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_74', 'msg_type': 'execute_reply', 'parent_header': {'msg_id': '40313c2a-1e72-4338-96c2-58d625dddb2e', 'username': '', 'session': 'b86f52f9-66e3-4c76-90cb-2c9fa4fa07e3', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 153000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'content': {'status': 'error', 'ename': 'ExecutionYieldError', 'evalue': 'Failed to lead the exectuion.', 'traceback': [], 'payload': []}, 'metadata': {'started': datetime.datetime(2024, 8, 12, 22, 23, 25, 341816, tzinfo=datetime.timezone.utc), 'dependencies_met': True, 'engine': '226b2251-d355-4300-89a1-0bc1df6a164a', 'status': 'error'}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-12 22:23:25,444 [DEBUG] DistributedKernel: Finished processing shell message 40313c2a-1e72-4338-96c2-58d625dddb2e of type "yield_execute" [MainThread (140737343412032)] 
2024-08-12 22:23:25,447 [DEBUG] DistributedKernel: Received control message 7b2f0c15-cc1c-4046-b058-cfef6df96ded of type "prepare_to_migrate_request" [Control (140735206651456)] 
2024-08-12 22:23:25,453 [DEBUG] DistributedKernel: Sent 'ACK' for control prepare_to_migrate_request message "7b2f0c15-cc1c-4046-b058-cfef6df96ded": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_77', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 452285, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_77', 'msg_type': 'ACK', 'parent_header': {'msg_id': '7b2f0c15-cc1c-4046-b058-cfef6df96ded', 'username': 'username', 'session': 'ab0f4982-f33c0084ccbc655d6cf398ef', 'date': '2024-08-12T22:23:25.445236597Z', 'msg_type': 'prepare_to_migrate_request', 'version': '1.0'}, 'content': {'type': 'prepare_to_migrate_request', 'msg_id': '7b2f0c15-cc1c-4046-b058-cfef6df96ded', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'55368a53-141b-4676-84d2-e81ba2576cb2', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.edd20662-cf67-4413-bec3-a3a5145ab8bb'] [Control (140735206651456)] 
2024-08-12 22:23:25,454 [INFO] DistributedKernel: Received 'prepare-to-migrate request'. [Control (140735206651456)] 
2024-08-12 22:23:25,455 [INFO] DistributedKernel: Preparing for migration of replica 2 of kernel 2e269c66-a283-40d4-a150-0fd0d02ad274. [Control (140735206651456)] 
2024-08-12 22:23:25,456 [INFO] DistributedKernel: Closing the SyncLog (and therefore the etcd-Raft process) now. [Control (140735206651456)] 
2024-08-12 22:23:25,457 [WARNING] RaftLog2: Closing LogNode 2 now. [Control (140735206651456)] 
2024-08-12 22:23:25,457 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Close) [Control (140735206651456)] 
Calling: 'smr_LogNode_Close'
Released GIL at beginning of 'Close'
2024-08-12T22:23:25.458Z[8CINFO[4Csmr/lognode.go:717[6CClosing nodes...
2024-08-12T22:23:25.458Z[8CINFO[4Csmr/lognode.go:1578[5CClearing local proposal channel.
2024-08-12T22:23:25.458Z[8CINFO[4Csmr/lognode.go:1589[5CClearing local confChange channel.
2024-08-12T22:23:25.458Z[8CINFO[4Csmr/lognode.go:1601[5CClient closed channel(s). Shutting down Raft (if it isn't already shutdown).
2024-08-12T22:23:25.458Z[8CINFO[4Csmr/lognode.go:688[6CWaiting for Raft node to stop...
2024-08-12T22:23:25.458Z[8CWARN[4Csmr/lognode.go:1680[5CLogNode 2 is stopping now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1680
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:835
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:533
2024-08-12T22:23:25.458Z[8CWARN[4Csmr/lognode.go:1435[5CStopping HTTP server now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopHTTP
[8C/go/src/in/smr/lognode.go:1435
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopServing
[8C/go/src/in/smr/lognode.go:1427
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1682
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:835
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:533
2024-08-12T22:23:25.458Z[8CINFO[4Crafthttp/peer.go:330[4Cstopping re[Thread 0x7ffff0bb3640 (LWP 51) exited]
mote peer[7C{"remote-peer-id": "1"}
2024-08-12T22:23:25.459Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "1"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-12T22:23:25.459Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "1"}
2024-08-12T22:23:25.459Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream Message", "remote-peer-id": "1"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-12T22:23:25.459Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream Message", "remote-peer-id": "1"}
2024-08-12T22:23:25.459Z[8CINFO[4Crafthttp/pipeline.go:85 stopped HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:23:25.460Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-12T22:23:25.460Z[8CWARN[4Crafthttp/peer_status.go:66[6Cpeer became inactive (message send to peer failed)[6C{"peer-id": "1", "error": "failed to read 1 on stream MsgApp v2 (context canceled)"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*peerStatus).deactivate
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/peer_status.go:66
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:435
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:23:25.460Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/peer.go:335[4Cstopped remote peer[5C{"remote-peer-id": "1"}
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/peer.go:330[4Cstopping remote peer[4C{"remote-peer-id": "3"}
2024-08-12T22:23:25.460Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "3"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "3"}
2024-08-12T22:23:25.460Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream Message", "remote-peer-id": "3"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream Message", "remote-peer-id": "3"}
2024-08-12T22:23:25.460Z[8CINFO[4Crafthttp/pipeline.go:85 stopped HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:23:25.461Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-12T22:23:25.461Z[8CWARN[4Crafthttp/peer_status.go:66[6Cpeer became inactive (message send to peer failed)[6C{"peer-id": "3", "error": "failed to read 3 on stream MsgApp v2 (context canceled)"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*peerStatus).deactivate
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/peer_status.go:66
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:435
2024-08-12T22:23:25.461Z[8CINFO[4Crafthttp/stream.[Thread 0x7fff74ff9640 (LWP 99) exited]
go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:23:25.461Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-12T22:23:25.461Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-12T22:23:25.461Z[8CINFO[4Crafthttp/peer.go:335[4Cstopped remote peer[5C{"remote-peer-id": "3"}
2024-08-12T22:23:25.462Z[8CWARN[4Csmr/lognode.go:1428[5CStopping raft node now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopServing
[8C/go/src/in/smr/lognode.go:1428
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1682
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:835
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:533
2024-08-12T22:23:25.462Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "1", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-12T22:23:25.462Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from"Calling: 'smr_LogNode_WriteDataDirectoryToHDFS'
: "3", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-12T22:23:25.462Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "3", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-12T22:23:25.462Z[8CINFO[4Csmr/lognode.go:693[6CClosed LogNode.
2024-08-12T22:23:25.462Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "1", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-12 22:23:25,462 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Close) [Control (140735206651456)] 
2024-08-12 22:23:25,464 [DEBUG] RaftLog2: RaftLog 2 has closed. [Control (140735206651456)] 
2024-08-12 22:23:25,464 [INFO] DistributedKernel: SyncLog closed successfully. Writing etcd-Raft data directory to HDFS now. [Control (140735206651456)] 
2024-08-12 22:23:Released GIL at beginning of 'WriteDataDirectoryToHDFS'
25,466 [INFO] RaftLog2: Writing etcd-Raft data directory to HDFS. [Control (140735206651456)] 
2024-08-12 22:23:25,466 [INFO] RaftLog2: Serialized important state to be written along with etcd-Raft data. Size: 2599 bytes. [Control (140735206651456)] 
2024-08-12 22:23:25,467 [DEBUG] RaftLog2: Registering callback future on _start_loop. _start_loop.is_running: True [Control (140735206651456)] 
2024-08-12 22:23:25,468 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.WriteDataDirectoryToHDFS) [Control (140735206651456)] 
2024-08-12 22:23:25,478 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.WriteDataDirectoryToHDFS) [Control (140735206651456)] 
2024-08-12 22:23:25,480 [DEBUG] Future[write_data_hdfs]: Awaiting result. [Control (140735206651456)] 
2024-08-12T22:23:25.520Z[8CINFO[4Csmr/lognode.go:367[6CDialing HDFS DataNode. Original address: '127.0.0.1:9866'

2024-08-12T22:23:25.520Z[8CERROR   smr/lognode.go:378[6CFailed to dial HDFS DataNode at address '127.0.0.1:9866' because: dial tcp 127.0.0.1:9866: connect: connection refused
github.com/zhangjyr/distributed-notebook/smr.NewLogNode.func2
[8C/go/src/in/smr/lognode.go:378
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).connectNext
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:129
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:76
github.com/colinmarc/hdfs/v2.(*FileWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/file_writer.go:191
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeRaftLogSerializedStateToHdfs
[8C/go/src/in/smr/lognode.go:1000
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1182
2024-08-12T22:23:25.520Z[8CERROR   smr/lognode.go:1002[5CError while writing serialized state to file.   {"path": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/serialized_raft_log_states/serialized_state.json-node2.json", "error": "dial tcp 127.0.0.1:9866: connect: connection refused"}
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeRaftLogSerializedStateToHdfs
[8C/go/src/in/smr/lognode.go:1002
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1182
2024-08-12T22:23:25.525Z[8CINFO[4Csmr/lognode.go:1064[5CFound local directory '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2'[5C{"directory": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"}
2024-08-12T22:23:25.527Z[8CINFO[4Csmr/lognode.go:1072[5CSuccessfully created remote (HDFS) directory: '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2'[5C{"directory": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2"}
2024-08-12T22:23:25.527Z[8CINFO[4Csmr/lognode.go:1074[5CFound local file '/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2/0000000000000000-0000000000000000.wal'[4C{"file": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2/0000000000000000-0000000000000000.wal"}
2024-08-12T22:23:25.540Z[8CINFO[4Csmr/lognode.go:367[6CDialing HDFS DataNode. Original address: '127.0.0.1:9866'

2024-08-12T22:23:25.540Z[8CERROR   smr/lognode.go:378[6CFailed to dial HDFS DataNode at address '127.0.0.1:9866' because: dial tcp 127.0.0.1:9866: connect: connection refused
github.com/zhangjyr/distributed-notebook/smr.NewLogNode.func2
[8C/go/src/in/smr/lognode.go:378
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).connectNext
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:129
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:76
github.com/colinmarc/hdfs/v2.(*FileWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/file_writer.go:191
io.copyBuffer
[8C/usr/local/go/src/io/io.go:431
io.Copy
[8C/usr/local/go/src/io/io.go:388
os.genericWriteTo
[8C/usr/local/go/src/os/file.go:269
os.(*File).WriteTo
[8C/usr/local/go/src/os/file.go:247
io.copyBuffer
[8C/usr/local/go/src/io/io.go:411
io.Copy
[8C/usr/local/go/src/io/io.go:388
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs.func1
[8C/go/src/in/smr/lognode.go:1109
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:443
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:465
path/filepath.WalkDir
[8C/usr/local/go/src/path/filepath/path.go:533
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs
[8C/go/src/in/smr/lognode.go:1061
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1185
2024-08-12T22:23:25.540Z[8CERROR   smr/lognode.go:1111[5CFailed to copy local file to HDFS.[6C{"path": "/storage/store/243bb656-5fcc-4d13-a221-d7c6171f3160/dnlog-2/0000000000000000-0000000000000000.wal", "error": "dial tcp 127.0.0.1:9866: connect: connection refused"}
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs.func1
[8C/go/src/in/smr/lognode.go:1111
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:443
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:465
path/filepath.WalkDir
[8C/usr/local/go/src/path/filepath/path.go:533
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs
[8C/go/src/in/smr/lognode.go:1061
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1185
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
2024-08-12 22:23:25,547 [DEBUG] Future[write_data_hdfs]: Setting exception to: dial tcp 127.0.0.1:9866: connect: connection refused [Control (140735206651456)] 
[Thread 0x7fff537fe640 (LWP 101) exited]
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
2024-08-12 22:23:25,548 [ERROR] DistributedKernel: Failed to write the data directory of replica 2 of kernel 2e269c66-a283-40d4-a150-0fd0d02ad274 to HDFS: dial tcp 127.0.0.1:9866: connect: connection refused [Control (140735206651456)] 
2024-08-12 22:23:25,551 [ERROR] DistributedKernel: Traceback (most recent call last):
 [Control (140735206651456)] 
2024-08-12 22:23:25,551 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/kernel/kernel.py", line 1167, in prepare_to_migrate
    waldir_path:str = await self.synclog.write_data_dir_to_hdfs()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 [Control (140735206651456)] 
2024-08-12 22:23:25,552 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/sync/raft_log2.py", line 1416, in write_data_dir_to_hdfs
    waldir_path:str = await future.result()
                      ^^^^^^^^^^^^^^^^^^^^^
 [Control (140735206651456)] 
2024-08-12 22:23:25,553 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/sync/future.py", line 27, in result
    res: Any = await self.future
               ^^^^^^^^^^^^^^^^^
 [Control (140735206651456)] 
2024-08-12 22:23:25,554 [ERROR] DistributedKernel: distributed_notebook.sync.errors.SyncError: dial tcp 127.0.0.1:9866: connect: connection refused
 [Control (140735206651456)] 
2024-08-12 22:23:25,555 [DEBUG] DistributedKernel: Sending 'error_report' message for error "Failed to Write HDFS Data Directory" now... [Control (140735206651456)] 
2024-08-12 22:23:25,556 [DEBUG] DistributedKernel: Sent 'error_report' message: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_78', 'msg_type': 'error_report', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 556177, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_78', 'msg_type': 'error_report', 'parent_header': {}, 'content': {'error': 'Failed to Write HDFS Data Directory', 'message': 'dial tcp 127.0.0.1:9866: connect: connection refused', 'kernel_id': '2e269c66-a283-40d4-a150-0fd0d02ad274'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735206651456)] 
2024-08-12 22:23:25,557 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.CloseHdfsClient) [Control (140735206651456)] 
Calling: 'smr_LogNode_CloseHdfsClient'
Released GIL at beginning of 'CloseHdfsClient'
2024-08-12 22:23:25,559 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.CloseHdfsClient) [Control (140735206651456)] 
2024-08-12 22:23:25,561 [ERROR] DistributedKernel: Failed to prepare to migrate... [Control (140735206651456)] 
2024-08-12 22:23:25,561 [DEBUG] DistributedKernel: Sending 'prepare_to_migrate_reply' response now. [Control (140735206651456)] 
2024-08-12 22:23:25,563 [DEBUG] DistributedKernel: Sent 'prepare_to_migrate_reply message: {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_79', 'msg_type': 'prepare_to_migrate_reply', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 25, 562699, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_79', 'msg_type': 'prepare_to_migrate_reply', 'parent_header': {'msg_id': '7b2f0c15-cc1c-4046-b058-cfef6df96ded', 'username': 'username', 'session': 'ab0f4982-f33c0084ccbc655d6cf398ef', 'date': '2024-08-12T22:23:25.445236597Z', 'msg_type': 'prepare_to_migrate_request', 'version': '1.0'}, 'content': {'status': 'error', 'ename': 'SyncError', 'evalue': 'dial tcp 127.0.0.1:9866: connect: connection refused', 'traceback': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735206651456)] 
2024-08-12 22:23:25,566 [DEBUG] DistributedKernel: Finished processing control message 7b2f0c15-cc1c-4046-b058-cfef6df96ded of type "prepare_to_migrate_request" [Control (140735206651456)] 
2024-08-12 22:23:25,569 [DEBUG] Future[write_data_hdfs]: Setting exception to: dial tcp 127.0.0.1:9866: connect: connection refused [Control (140735206651456)] 
2024-08-12T22:23:25.956Z[8CWARN[4Crafthttp/http.go:145[4Cfailed to process Raft message  {"local-member-id": "2", "error": "raft: stopped"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*pipelineHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:145
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024/08/12 22:23:25 http: panic serving 172.18.0.10:54944: raft: stopped
goroutine 211 [running]:
net/http.(*conn).serve.func1()
[8C/usr/local/go/src/net/http/server.go:1903 +0x13f
panic({0x7ffff3aa0800?, 0xc0002287d0?})
[8C/usr/local/go/src/runtime/panic.go:770 +0x136
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*pipelineHandler).ServeHTTP(0xc0000cc4c0, {0x7ffff3ba78b8, 0xc000237180}, 0xc00023d9e0)
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:153 +0x1189
net/http.(*ServeMux).ServeHTTP(0xc0003de0d0, {0x7ffff3ba78b8, 0xc000237180}, 0xc00023d9e0)
[8C/usr/local/go/src/net/http/server.go:2688 +0x37e
net/http.serverHandler.ServeHTTP({0xc0002b83c0}, {0x7ffff3ba78b8, 0xc000237180}, 0xc00023d9e0)
[8C/usr/local/go/src/net/http/server.go:3142 +0x257
net/http.(*conn).serve(0xc0004186c0, {0x7ffff3ba8970, 0xc000396820})
[8C/usr/local/go/src/net/http/server.go:2044 +0x1ab5
created by net/http.(*Server).Serve in goroutine 62
[8C/usr/local/go/src/net/http/server.go:3290 +0xa9a
2024-08-12 22:23:27,321 [DEBUG] RaftLog2: Done sleeping in decideElection coroutine for election 1. [MainThread (140737343412032)] 
2024-08-12 22:23:27,321 [DEBUG] RaftLog2: Election 1 has already been decided; returning from decideElection coroutine now. [MainThread (140737343412032)] 
2024-08-12 22:23:30,568 [DEBUG] DistributedKernel: Received control message 92500e1c-a063-48b7-b3bb-cd0ad7e22e20 of type "shutdown_request" [Control (140735206651456)] 
2024-08-12 22:23:30,572 [DEBUG] DistributedKernel: Sent 'ACK' for control shutdown_request message "92500e1c-a063-48b7-b3bb-cd0ad7e22e20": {'header': {'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_82', 'msg_type': 'ACK', 'username': 'username', 'session': '2d6e1fb9-0785f6c2e85687db73c49ac7', 'date': datetime.datetime(2024, 8, 12, 22, 23, 30, 571085, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': '2d6e1fb9-0785f6c2e85687db73c49ac7_45_82', 'msg_type': 'ACK', 'parent_header': {'msg_id': '92500e1c-a063-48b7-b3bb-cd0ad7e22e20', 'username': 'username', 'session': 'ab0f4982-f33c0084ccbc655d6cf398ef', 'date': '2024-08-12T22:23:30.567032199Z', 'msg_type': 'shutdown_request', 'version': '1.0'}, 'content': {'type': 'shutdown_request', 'msg_id': '92500e1c-a063-48b7-b3bb-cd0ad7e22e20', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'55368a53-141b-4676-84d2-e81ba2576cb2', b'dest.2e269c66-a283-40d4-a150-0fd0d02ad274.req.59448daa-abd8-445a-95f0-3d19aba181e5'] [Control (140735206651456)] 
2024-08-12 22:23:30,573 [INFO] DistributedKernel: Replica 2 of kernel 2e269c66-a283-40d4-a150-0fd0d02ad274 is shutting down. [Control (140735206651456)] 
2024-08-12 22:23:30,574 [INFO] DistributedKernel: Closing the Synchronizer. [Control (140735206651456)] 
2024-08-12 22:23:30,575 [INFO] DistributedKernel: Successfully closed the Synchronizer. [Control (140735206651456)] 
2024-08-12 22:23:30,575 [INFO] DistributedKernel: Not stopping/removing node from etcd/raft cluster. [Control (140735206651456)] 
2024-08-12 22:23:30,579 [DEBUG] DistributedKernel: Sending <Signals.SIGTERM: 15> to subprocess psutil.Process(pid=68, name='python', status='sleeping', started='22:21:30') [Control (140735206651456)] 
2024-08-12 22:23:30,581 [DEBUG] DistributedKernel: Will sleep 0.01 sec before checking for children and retrying. [psutil.Process(pid=68, name='python', status='running', started='22:21:30')] [Control (140735206651456)] 
2024-08-12 22:23:30,595 [DEBUG] DistributedKernel: Sending <Signals.SIGTERM: 15> to subprocess psutil.Process(pid=68, name='python', status='zombie', started='22:21:30') [Control (140735206651456)] 
2024-08-12 22:23:30,597 [DEBUG] DistributedKernel: Will sleep 0.03 sec before checking for children and retrying. [psutil.Process(pid=68, name='python', status='zombie', started='22:21:30')] [Control (140735206651456)] 
