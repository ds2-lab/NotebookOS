Entered start.sh with args: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
Running hooks in: /usr/local/bin/start-notebook.d as uid: 1000 gid: 100
Done running hooks in: /usr/local/bin/start-notebook.d
Running hooks in: /usr/local/bin/before-notebook.d as uid: 1000 gid: 100
Sourcing shell script: /usr/local/bin/before-notebook.d/10activate-conda-env.sh
Done running hooks in: /usr/local/bin/before-notebook.d
Executing the specified command: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
Running executable in GDB: /home/jovyan/Python-3.11.9/debug/python -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2>&1
[r[m[2J[H[?7h[?1;4;6l[?1049h[22;0;0t[4l[?1h=[0m(B[1;24r[H[2J[H[2J[1m[35mGNU gdb (Ubuntu 12.1-0ubuntu1~22.04.2) 12.1[0m
Copyright (C) 2022 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<https://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
add symbol table from file "/home/jovyan/Python-3.11.9/debug/python"
add symbol table from file "/home/jovyan/Python-3.11.9/debug/libpython3.11d.so"
add symbol table from file "/home/jovyan/Python-3.11.9/debug/libpython3.11d.so.1.0"
add symbol table from file "/usr/local/lib/python3.11/site-packages/distributed_notebook/smr/_smr.cpython-311-x86_64-linux-gnu.so"
Loading Go Runtime support.
Reading symbols from [32m/home/jovyan/Python-3.11.9/debug/python[39m...
Loading Go Runtime support.
Starting program: [32m/home/jovyan/Python-3.11.9/debug/python[39m -m distributed_notebook.kernel -f /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json --debug --IPKernelApp.outstream_class=distributed_notebook.kernel.iostream.OutStream 2\>\&1
[Thread debugging using libthread_db enabled]
Using host libthread_db library "[32m/lib/x86_64-linux-gnu/libthread_db.so.1[39m".
/usr/local/lib/python3.11/site-packages/jupyter_client/connect.py:22: DeprecationWarning: Jupyter is migrating its paths to use standard platformdirs
given by the platformdirs library.  To remove this warning and
see the appropriate new directories, set the environment variable
`JUPYTER_PLATFORM_DIRS=1` and then run `jupyter --paths`.
The use of platformdirs will be the default in `jupyter_core` v6
  from jupyter_core.paths import jupyter_data_dir, jupyter_runtime_dir, secure_write
[New Thread 0x7ffff2e85640 (LWP 48)]
[New Thread 0x7ffff1bf3640 (LWP 49)]
[New Thread 0x7ffff13f2640 (LWP 50)]
[New Thread 0x7ffff0bb1640 (LWP 51)]
[New Thread 0x7fffa5fff640 (LWP 52)]
[New Thread 0x7fffa57fe640 (LWP 53)]
[New Thread 0x7fffa4ffd640 (LWP 54)]
Driver process has started running.
[IPKernelApp] Using existing profile dir: '/home/jovyan/.ipython/profile_default'
[IPKernelApp] Searching path ['/home/jovyan/.ipython/profile_default', '/usr/local/etc/ipython', '/etc/ipython'] for config files
[IPKernelApp] Attempting to load config file: ipython_config.py
[IPKernelApp] Looking for ipython_config in /etc/ipython
[IPKernelApp] Looking for ipython_config in /usr/local/etc/ipython
[IPKernelApp] Looking for ipython_config in /home/jovyan/.ipython/profile_default
[IPKernelApp] Loaded config file: /home/jovyan/.ipython/profile_default/ipython_config.json
[IPKernelApp] Attempting to load config file: ipython_kernel_config.py
[IPKernelApp] Looking for ipython_kernel_config in /etc/ipython
[IPKernelApp] Looking for ipython_kernel_config in /usr/local/etc/ipython
[IPKernelApp] Looking for ipython_kernel_config in /home/jovyan/.ipython/profile_default
[IPKernelApp] Loading connection file /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json
[Detaching after vfork from child process 55]
[Detaching after vfork from child process 56]
[Detaching after vfork from child process 57]
[IPKernelApp] Starting the kernel at pid: 45
[New Thread 0x7fff8ffff640 (LWP 58)]
[New Thread 0x7fff8f7fe640 (LWP 59)]
[IPKernelApp] shell ROUTER Channel on port: 9002
[IPKernelApp] stdin ROUTER Channel on port: 9003
[IPKernelApp] control ROUTER Channel on port: 9001
2024-08-13 15:11:36,863 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[IPKernelApp] iopub PUB Channel on port: 9004
2024-08-13 15:11:36,866 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[New Thread 0x7fff8effd640 (LWP 60)]
[IPKernelApp] Heartbeat REP Channel on port: 9000
[New Thread 0x7fff8e7fc640 (LWP 61)]
[New Thread 0x7fff8dffb640 (LWP 62)]
[New Thread 0x7fff8d7fa640 (LWP 63)]
[IPKernelApp] Connection file /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json with current information already exists
[IPKernelApp] To connect another client to this kernel, use:
[IPKernelApp]     --existing /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json
NOTE: When using the `ipython kernel` entry point, Ctrl-C will not work.

To exit, you will have to explicitly quit this process, by either sending
"quit" from a client, or using Ctrl-\ in UNIX-like environments.

To read more about this, see https://github.com/ipython/ipython/issues/2049


To connect another client to this kernel, use:
    --existing /kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json
[New Thread 0x7fff8cff9640 (LWP 64)]
[New Thread 0x7fff73fff640 (LWP 65)]
[IPKernelApp] Seeing logger to stderr, rerouting to raw filedescriptor.
2024-08-13 15:11:36,903 [DEBUG] asyncio: Using selector: EpollSelector [MainThread (140737343412032)] 
[New Thread 0x7fff737fe640 (LWP 66)]
[Detaching after vfork from child process 67]
[New Thread 0x7fff72ffd640 (LWP 68)]
2024-08-13 15:11:37,262 [INFO] DistributedKernel: The Debugger IS available/enabled. [MainThread (140737343412032)] 
2024-08-13 15:11:37,264 [INFO] DistributedKernel: Kwargs: {'parent': <ipykernel.kernelapp.IPKernelApp object at 0x7ffff7276f90>, 'session': <jupyter_client.session.Session object at 0x7ffff0127760>, 'control_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff017cfb0>, 'debugpy_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff017d370>, 'debug_shell_socket': <zmq.Socket(zmq.DEALER) at 0x7ffff012cde0>, 'shell_stream': <zmq.eventloop.zmqstream.ZMQStream object at 0x7ffff0126f90>, 'control_thread': <ControlThread(Control, started daemon 140735131149888)>, 'iopub_thread': <ipykernel.iostream.IOPubThread object at 0x7ffff01255a0>, 'iopub_socket': <ipykernel.iostream.BackgroundSocket object at 0x7ffff01255f0>, 'stdin_socket': <zmq.Socket(zmq.ROUTER) at 0x7ffff40c35e0>, 'log': <Logger IPKernelApp (DEBUG)>, 'profile_dir': <IPython.core.profiledir.ProfileDir object at 0x7ffff017f710>, 'user_ns': None} [MainThread (140737343412032)] 
2024-08-13 15:11:37,265 [DEBUG] DistributedKernel: Deployment mode: docker [MainThread (140737343412032)] 
2024-08-13 15:11:37,267 [INFO] DistributedKernel: Connection file path: "/kernel_base/connection-kernel-2ffa3dd3-f92d-449e-ac61-c6f85d9abec5-2-1508740717.json" [MainThread (140737343412032)] 
2024-08-13 15:11:37,269 [INFO] DistributedKernel: IPython config file path: "/home/jovyan/.ipython/profile_default/ipython_config.json" [MainThread (140737343412032)] 
2024-08-13 15:11:37,271 [INFO] DistributedKernel: Session ID: "7e124e7c-e5d1105d25b18a8f45ae039b" [MainThread (140737343412032)] 
2024-08-13 15:11:37,272 [INFO] DistributedKernel: Kernel ID: "2ffa3dd3-f92d-449e-ac61-c6f85d9abec5" [MainThread (140737343412032)] 
2024-08-13 15:11:37,274 [INFO] DistributedKernel: Pod name: "51f3aec585d8" [MainThread (140737343412032)] 
2024-08-13 15:11:37,276 [INFO] DistributedKernel: HDFS NameNode hostname: "host.docker.internal:10000" [MainThread (140737343412032)] 
2024-08-13 15:11:37,277 [INFO] DistributedKernel: CPU: 100, Memory: 1250, GPU: 1. [MainThread (140737343412032)] 
2024-08-13 15:11:37,279 [INFO] DistributedKernel: Connection info: {'ip': '0.0.0.0', 'control_port': 9001, 'shell_port': 9002, 'stdin_port': 9003, 'hb_port': 9000, 'iopub_port': 9004, 'iosub_port': 9005, 'ack_port': 0, 'transport': 'tcp', 'signature_scheme': 'hmac-sha256', 'key': '46d998aa-3c45801fc45f2164b0cb99a9', 'starting_resource_port': 0, 'num_resource_ports': 0} [MainThread (140737343412032)] 
2024-08-13 15:11:37,283 [INFO] DistributedKernel: Registering with local daemon now. [MainThread (140737343412032)] 
2024-08-13 15:11:37,288 [INFO] DistributedKernel: Local Daemon network address: "d76f147a8b63:8075" [MainThread (140737343412032)] 
2024-08-13 15:11:37,292 [INFO] DistributedKernel: Sending registration payload to local daemon: {'op': 'register', 'signature_scheme': 'hmac-sha256', 'key': '46d998aa-3c45801fc45f2164b0cb99a9', 'replicaId': 2, 'numReplicas': 3, 'join': False, 'podName': '51f3aec585d8', 'nodeName': 'DockerNode', 'connection-info': {'ip': '0.0.0.0', 'control_port': 9001, 'shell_port': 9002, 'stdin_port': 9003, 'hb_port': 9000, 'iopub_port': 9004, 'iosub_port': 9005, 'ack_port': 0, 'transport': 'tcp', 'signature_scheme': 'hmac-sha256', 'key': '46d998aa-3c45801fc45f2164b0cb99a9', 'starting_resource_port': 0, 'num_resource_ports': 0}, 'kernel': {'id': '2ffa3dd3-f92d-449e-ac61-c6f85d9abec5', 'session': '7e124e7c-e5d1105d25b18a8f45ae039b', 'signature_scheme': 'hmac-sha256', 'key': '46d998aa-3c45801fc45f2164b0cb99a9'}} [MainThread (140737343412032)] 
2024-08-13 15:11:37,294 [INFO] DistributedKernel: Sent 709 byte(s) to local daemon. [MainThread (140737343412032)] 
2024-08-13 15:11:37,325 [INFO] DistributedKernel: Received 217 byte(s) in response from LocalDaemon: b'{"debug_port":32003,"hostname":"172.18.0.10","persistent_id":"695c1414-2924-40ee-8318-10a15ca062de","replicas":{"1":"172.18.0.11","2":"172.18.0.10","3":"172.18.0.9"},"should_read_data_from_hdfs":false,"smr_node_id":2}' [MainThread (140737343412032)] 
2024-08-13 15:11:37,326 [INFO] DistributedKernel: Received persistent ID from registration: "695c1414-2924-40ee-8318-10a15ca062de" [MainThread (140737343412032)] 
2024-08-13 15:11:37,329 [DEBUG] DistributedKernel: We should NOT read data from HDFS. [MainThread (140737343412032)] 
2024-08-13 15:11:37,331 [INFO] DistributedKernel: Assigned debug port to 32003 [MainThread (140737343412032)] 
2024-08-13 15:11:37,332 [INFO] DistributedKernel: [SMR-NODE-ID-ASSIGNED]2 [MainThread (140737343412032)] 
2024-08-13 15:11:37,334 [INFO] DistributedKernel: Received SMR Node ID after registering with local daemon: 2 [MainThread (140737343412032)] 
2024-08-13 15:11:37,338 [INFO] DistributedKernel: Replica hostnames: {1: '172.18.0.11:8080', 2: '172.18.0.10:8080', 3: '172.18.0.9:8080'} [MainThread (140737343412032)] 
[Detaching after fork from child process 69]
[IPKernelApp] Loading IPython extensions...
[IPKernelApp] Loading IPython extension: storemagic
2024-08-13 15:11:37,423 [INFO] DistributedKernel: Local TCP server process has PID=69 [MainThread (140737343412032)] 
2024-08-13 15:11:37,426 [INFO] DistributedKernel: [Local TCP Server] Starting. Port: 5555 [MainThread (140737343412032)] 
2024-08-13 15:11:37,430 [INFO] DistributedKernel: [Local TCP Server] Started. Port: 5555 [MainThread (140737343412032)] 
2024-08-13 15:11:37,452 [INFO] DistributedKernel: DistributedKernel is starting. Persistent ID = "695c1414-2924-40ee-8318-10a15ca062de" [MainThread (140737343412032)] 
2024-08-13 15:11:37,455 [DEBUG] DistributedKernel: Starting debugpy server on 0.0.0.0:33003 [MainThread (140737343412032)] 
[Detaching after vfork from child process 74]
[New Thread 0x7fff727fc640 (LWP 88)]
[New Thread 0x7fff71ffb640 (LWP 89)]
[New Thread 0x7fff717fa640 (LWP 91)]
[New Thread 0x7fff70ff9640 (LWP 92)]
[New Thread 0x7fff53fff640 (LWP 93)]
[New Thread 0x7fff537fe640 (LWP 94)]
[Thread 0x7fff53fff640 (LWP 93) exited]
[Thread 0x7fff537fe640 (LWP 94) exited]
[New Thread 0x7fff537fe640 (LWP 95)]
[Thread 0x7fff537fe640 (LWP 95) exited]
[New Thread 0x7fff537fe640 (LWP 96)]
[Thread 0x7fff537fe640 (LWP 96) exited]
[New Thread 0x7fff537fe640 (LWP 97)]
[New Thread 0x7fff537fe640 (LWP 98)]
[Thread 0x7fff537fe640 (LWP 97) exited]
[Thread 0x7fff537fe640 (LWP 98) exited]
[New Thread 0x7fff537fe640 (LWP 99)]
[Thread 0x7fff537fe640 (LWP 99) exited]
[New Thread 0x7fff537fe640 (LWP 100)]
[Thread 0x7fff537fe640 (LWP 100) exited]
[New Thread 0x7fff537fe640 (LWP 101)]
[Thread 0x7fff537fe640 (LWP 101) exited]
[New Thread 0x7fff537fe640 (LWP 102)]
[Thread 0x7fff537fe640 (LWP 102) exited]
[New Thread 0x7fff537fe640 (LWP 103)]
[Thread 0x7fff537fe640 (LWP 103) exited]
[New Thread 0x7fff537fe640 (LWP 104)]
[Thread 0x7fff537fe640 (LWP 104) exited]
[New Thread 0x7fff537fe640 (LWP 105)]
[Thread 0x7fff537fe640 (LWP 105) exited]
[New Thread 0x7fff537fe640 (LWP 106)]
[Thread 0x7fff537fe640 (LWP 106) exited]
[New Thread 0x7fff537fe640 (LWP 107)]
[Thread 0x7fff537fe640 (LWP 107) exited]
2024-08-13 15:11:38,789 [INFO] DistributedKernel: Initializing Persistent Store on start, as persistent ID is available: "695c1414-2924-40ee-8318-10a15ca062de" [Control (140735131149888)] 
2024-08-13 15:11:38,793 [INFO] DistributedKernel: Initializing the Persistent Store with Persistent ID: "695c1414-2924-40ee-8318-10a15ca062de" [Control (140735131149888)] 
2024-08-13 15:11:38,796 [INFO] DistributedKernel: Full path of Persistent Store: "/storage/store/695c1414-2924-40ee-8318-10a15ca062de" [Control (140735131149888)] 
2024-08-13 15:11:38,800 [INFO] DistributedKernel: Disabling `outstream` now. [Control (140735131149888)] 
2024-08-13 15:11:38,806 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [Control (140735131149888)] 
2024-08-13 15:11:38,806 [INFO] DistributedKernel: Disabled `outstream`. [Control (140735131149888)] 
2024-08-13 15:11:38,807 [INFO] DistributedKernel: Overriding shell hooks now. [Control (140735131149888)] 
2024-08-13 15:11:38,808 [INFO] DistributedKernel: Confirmed node 172.18.0.10:8080 [Control (140735131149888)] 
2024-08-13 15:11:38,809 [DEBUG] DistributedKernel: Passing the following addresses to RaftLog: ['http://172.18.0.11:8080', 'http://172.18.0.10:8080', 'http://172.18.0.9:8080'] [Control (140735131149888)] 
2024-08-13 15:11:38,811 [DEBUG] DistributedKernel: Creating RaftLog now. [Control (140735131149888)] 
2024-08-13 15:11:38,812 [INFO] RaftLog2: Creating RaftNode 2 now. [Control (140735131149888)] 
2024-08-13 15:11:38,813 [INFO] RaftLog2: persistent store path: /storage/store/695c1414-2924-40ee-8318-10a15ca062de [Control (140735131149888)] 
2024-08-13 15:11:38,813 [INFO] RaftLog2: hdfs_hostname: "host.docker.internal:10000" [Control (140735131149888)] 
2024-08-13 15:11:38,813 [INFO] RaftLog2: should read data from HDFS: "False" [Control (140735131149888)] 
2024-08-13 15:11:38,813 [INFO] RaftLog2: peer_addrs: ['http://172.18.0.11:8080', 'http://172.18.0.10:8080', 'http://172.18.0.9:8080'] [Control (140735131149888)] 
2024-08-13 15:11:38,813 [INFO] RaftLog2: peer_ids: [1, 2, 3] [Control (140735131149888)] 
2024-08-13 15:11:38,814 [INFO] RaftLog2: join: False [Control (140735131149888)] 
2024-08-13 15:11:38,814 [INFO] RaftLog2: debug_port: 32003 [Control (140735131149888)] 
2024-08-13 15:11:38,814 [INFO] RaftLog2: >> CALLING INTO GO CODE (NewLogNode) [Control (140735131149888)] 
Calling: '_NewLogNode'
Released GIL at beginning of 'NewLogNode'
Creating a new LogNode [version 1.0.1].
Checking validity of hdfs hostname.
Creating LogNode struct now.
2024-08-13T15:11:38.816Z[8CINFO[4Csmr/lognode.go:314[6CLogNode 2 WAL directory: '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2'
2024-08-13T15:11:38.817Z[8CINFO[4Csmr/lognode.go:315[6CLogNode 2 Snapshot directory: '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2-snap'
LogNode 2 WAL directory: '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2'LogNode 2 Snapshot directory: '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2-snap'
Discovered peer 1: http://172.18.0.11:8080.
Discovered peer 2: http://172.18.0.10:8080.
Discovered peer 3: http://172.18.0.9:8080.
Connecting to HDFS at 'host.docker.internal:10000'
2024/08/13 15:11:38 Serving debug HTTP server on port 32003.
2024-08-13T15:11:38.817Z[8CINFO[4Csmr/lognode.go:328[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.11:8080", "peer_id": 1}
2024-08-13T15:11:38.817Z[8CINFO[4Csmr/lognode.go:328[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.10:8080", "peer_id": 2}
2024-08-13T15:11:38.817Z[8CINFO[4Csmr/lognode.go:328[6CDiscovered peer.
[8C{"peer_address": "http://172.18.0.9:8080", "peer_id": 3}
2024-08-13T15:11:38.817Z[8CINFO[4Csmr/lognode.go:333[6CConnecting to HDFS at 'host.docker.internal:10000'
2024-08-13T15:11:38.829Z[8CINFO[4Csmr/lognode.go:394[6CSuccessfully connected to HDFS at 'host.docker.internal:10000'
2024-08-13T15:11:38.830Z[8CINFO[4Csmr/lognode.go:472[6CWe've not been instructed to retrieve any data directory from HDFS.[5C{"data_directory": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de", "waldir": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"}
Returning LogNode now.
Successfully connected to HDFS at 'host.docker.internal:10000'
2024-08-13 15:11:38,832 [INFO] RaftLog2: << RETURNED FROM GO CODE (NewLogNode) [Control (140735131149888)] 
2024-08-13 15:11:38,838 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.ConnectedToHDFS) [Control (140735131149888)] 
Calling: 'smr_LogNode_ConnectedToHDFS'
Released GIL at beginning of 'ConnectedToHDFS'
2024-08-13 15:11:38,839 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.ConnectedToHDFS) [Control (140735131149888)] 
2024-08-13 15:11:38,848 [INFO] RaftLog2: Successfully created LogNode 2. [Control (140735131149888)] 
2024-08-13 15:11:38,850 [DEBUG] RaftLog2: Loading and applying serialized state. First, retrieving serialized state from LogNode. [Control (140735131149888)] 
2024-08-13 15:11:38,850 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.GetSerializedState) [Control (140735131149888)] 
Calling: 'smr_LogNode_GetSerializedState'
Released GIL at beginning of 'GetSerializedState'
2024-08-13T15:11:38.854Z[8CDEBUG   smr/lognode.go:558[6CReturning serialized state of size/length 0.
2024-08-13 15:11:38,854 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.GetSerializedState) [Control (140735131149888)] 
2024-08-13 15:11:38,856 [DEBUG] RaftLog2: Retrieved serialized state from LogNode: go.Slice_byte len: 0 handle: 4 [] [Control (140735131149888)] 
2024-08-13 15:11:38,856 [DEBUG] RaftLog2: Successfully converted Golang Slice_bytes to Python bytes. [Control (140735131149888)] 
2024-08-13 15:11:38,856 [DEBUG] RaftLog2: No serialized state found. Nothing to load and apply. [Control (140735131149888)] 
2024-08-13 15:11:38,860 [DEBUG] DistributedKernel: Successfully created RaftLog. [Control (140735131149888)] 
2024-08-13 15:11:38,861 [INFO] DistributedKernel: Creating Synchronizer now. [Control (140735131149888)] 
2024-08-13 15:11:38,862 [DEBUG] Synchronizer: Finished setting callbacks for Synclog (within Synchronizer). [Control (140735131149888)] 
2024-08-13 15:11:38,862 [INFO] DistributedKernel: Created Synchronizer. Starting Synchronizer now. [Control (140735131149888)] 
Calling: '_NewConfig'
Released GIL at beginning of 'NewConfig'
Calling: 'smr_LogNodeConfig_WithChangeCallback'
Released GIL at beginning of 'WithChangeCallback'
Calling: 'smr_LogNodeConfig_WithRestoreCallback'
Released GIL at beginning of 'WithRestoreCallback'
Calling: 'smr_LogNodeConfig_WithShouldSnapshotCallback'
Released GIL at beginning of 'WithShouldSnapshotCallback'
Calling: 'smr_LogNodeConfig_WithSnapshotCallback'
Released GIL at beginning of 'WithSnapshotCallback'
2024-08-13 15:11:38,864 [INFO] RaftLog2: Starting LogNode 2 now. [Control (140735131149888)] 
2024-08-13 15:11:38,864 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Start) [Control (140735131149888)] 
2024-08-13T15:11:38.869Z[8CDEBUG   smr/lognode.go:525[6CLogNode 2 is starting with config: {"ElectionTick":10,"HeartbeatTick":1,"Debug":false}
2024-08-13T15:11:38.869Z[8CDEBUG   smr/lognode.go:753[6CLogNode 2 is beginning start procedure now.
Calling: 'smr_LogNode_Start'
Released GIL at beginning of 'Start'
2024-08-13T15:11:38.881Z[8CINFO[4Csmr/lognode.go:1319[5CWAL directory "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2" does not already exist. Creating it now.[4C{"directory": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"}
[New Thread 0x7fff537fe640 (LWP 108)]
2024-08-13T15:11:38.929Z[8CINFO[4Csmr/lognode.go:1331[5CSuccessfully created WAL direcotry: "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"[7C{"uri": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"}
2024-08-13T15:11:38.930Z[8CDEBUG   smr/lognode.go:1386[5CRecovered Raft HardState from WAL snapshot. Term: 0. Vote: 0. Commit: 0.
2024-08-13T15:11:38.930Z[8CDEBUG   smr/lognode.go:1387[5CRecovered 0 entry/entries from WAL snapshot.
2024-08-13T15:11:38.930Z[8CINFO[4Csmr/lognode.go:1399[5CFinished replaying WAL.
2024-08-13T15:11:38.930Z[8CINFO[4Csmr/lognode.go:797[6CAdding rpeer 1 at addr http://172.18.0.11:8080. {"id": 1, "address": "http://172.18.0.11:8080"}
2024-08-13T15:11:38.930Z[8CINFO[4Csmr/lognode.go:797[6CAdding rpeer 2 at addr http://172.18.0.10:8080. {"id": 2, "address": "http://172.18.0.10:8080"}
2024-08-13T15:11:38.930Z[8CINFO[4Csmr/lognode.go:797[6CAdding rpeer 3 at addr http://172.18.0.9:8080.  {"id": 3, "address": "http://172.18.0.9:8080"}
2024-08-13T15:11:38.930Z[8CDEBUG   smr/lognode.go:814[6CLogNode 2 will be starting (as if for the first time), as the old WAL directory is not available (false) and we've not been instructed to join.%!(EXTRA bool=false)
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=()
raft2024/08/13 15:11:38 INFO: 2 became follower at term 0
raft2024/08/13 15:11:38 INFO: newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]
raft2024/08/13 15:11:38 INFO: 2 became follower at term 1
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1)
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1 2)
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-13T15:11:38.932Z[8CINFO[4Csmr/lognode.go:828[6CStarting Raft HTTP transport now.
2024-08-13T15:11:38.932Z[8CINFO[4Csmr/lognode.go:832[6CAdding peer 1 at addr http://172.18.0.11:8080.  {"id": 1, "address": "http://172.18.0.11:8080"}
2024-08-13T15:11:38.932Z[8CINFO[4Crafthttp/peer.go:133[4Cstarting remote peer[4C{"remote-peer-id": "1"}
2024-08-13T15:11:38.932Z[8CINFO[4Crafthttp/pipeline.go:72 started HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "1"}
[New Thread 0x7fff53fff640 (LWP 109)]
2024-08-13T15:11:38.936Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:38.936Z[8CINFO[4Crafthttp/peer.go:137[4Cstarted remote peer[5C{"remote-peer-id": "1"}
2024-08-13T15:11:38.936Z[8CINFO[4Crafthttp/transport.go:317[7Cadded remote peer[7C{"local-member-id": "2", "remote-peer-id": "1", "remote-peer-urls": ["http://172.18.0.11:8080"]}
2024-08-13T15:11:38.936Z[8CINFO[4Csmr/lognode.go:832[6CAdding peer 3 at addr http://172.18.0.9:8080.   {"id": 3, "address": "http://172.18.0.9:8080"}
2024-08-13T15:11:38.936Z[8CINFO[4Crafthttp/peer.go:133[4Cstarting remote peer[4C{"remote-peer-id": "3"}
2024-08-13T15:11:38.937Z[8CINFO[4Crafthttp/pipeline.go:72 started HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.937Z[8CINFO[4Crafthttp/peer.go:137[4Cstarted remote peer[5C{"remote-peer-id": "3"}
2024-08-13T15:11:38.937Z[8CINFO[4Crafthttp/transport.go:317[7Cadded remote peer[7C{"local-member-id": "2", "remote-peer-id": "3", "remote-peer-urls": ["http://172.18.0.9:8080"]}
2024-08-13T15:11:38.937Z[8CINFO[4Csmr/lognode.go:1547[5CLogNode 2 is serving channels.
2024-08-13T15:11:38.937Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 3. NumEntries: 3. NumMessages: 0. HardState: [Term: 1, Vote: 0, Commit: 3].
2024-08-13T15:11:38.936Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:38.938Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "3"}
2024-08-13 15:11:38,938 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Start) [Control (140735131149888)] 
2024-08-13 15:11:38,941 [INFO] RaftLog2: Successfully started RaftLog and LogNode. [Control (140735131149888)] 
2024-08-13 15:11:38,943 [INFO] DistributedKernel: Notified local daemon that SMR is ready. [Control (140735131149888)] 
2024-08-13 15:11:38,945 [INFO] DistributedKernel: Started Synchronizer. [Control (140735131149888)] 
2024-08-13 15:11:38,945 [INFO] DistributedKernel: Overrode shell hooks. [Control (140735131149888)] 
2024-08-13 15:11:38,947 [INFO] DistributedKernel: Persistent store confirmed: /storage/store/695c1414-2924-40ee-8318-10a15ca062de [Control (140735131149888)] 
[New Thread 0x7fff52ffd640 (LWP 110)]
2024-08-13T15:11:38.957Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:38.957Z[8CINFO[4Csmr/lognode.go:1719[5CLogNode 2 is beginning to serve Raft.
2024-08-13T15:11:38.957Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.957Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:38.957Z[8CINFO[4Crafthttp/stream.go:169  started stream writer with remote peer  {"local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.958Z[8CINFO[4Crafthttp/peer_status.go:53[6Cpeer became active[6C{"peer-id": "3"}
2024-08-13T15:11:38.958Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.959Z[8CINFO[4Crafthttp/stream.go:395  started stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.961Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:38.991Z[8CINFO[4Csmr/lognode.go:1236[5Cincoming conf change: node_id:1 [8C{"type": 0, "context length": 0}
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-13T15:11:38.991Z[8CINFO[4Csmr/lognode.go:1236[5Cincoming conf change: node_id:2 [8C{"type": 0, "context length": 0}
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-13T15:11:38.991Z[8CINFO[4Csmr/lognode.go:1236[5Cincoming conf change: node_id:3 [8C{"type": 0, "context length": 0}
raft2024/08/13 15:11:38 INFO: 2 switched to configuration voters=(1 2 3)
2024-08-13T15:11:38.992Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "1", "stream-type": "stream Message"}
2024-08-13T15:11:38.992Z[8CINFO[4Crafthttp/peer_status.go:53[6Cpeer became active[6C{"peer-id": "1"}
2024-08-13T15:11:38.992Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:38.992Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "1", "stream-type": "stream MsgApp v2"}
2024-08-13T15:11:38.992Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:39.051Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "3", "stream-type": "stream Message"}
2024-08-13T15:11:39.051Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:39.051Z[8CINFO[4Crafthttp/stream.go:249  set message encoder[5C{"from": "2", "to": "3", "stream-type": "stream MsgApp v2"}
2024-08-13T15:11:39.051Z[8CINFO[4Crafthttp/stream.go:274  established TCP streaming connection with remote peer   {"stream-writer-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:39.060Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:39.061Z[8CINFO[4Crafthttp/stream.go:412  established TCP streaming connection with remote peer   {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13 15:11:39,197 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'd22ed6f8-a11'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'c33e1b863df8'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:39,210 [DEBUG] DistributedKernel: Received SHELL message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0 of type "kernel_info_request": {'header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 189817, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,214 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_37', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 213390, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_37', 'msg_type': 'ACK', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 189817, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'd22ed6f8-a11a-4805-a9f7-7191580dda2f', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.8ad8668d-4290-48ac-80e8-8b964104f035'] [MainThread (140737343412032)] 
2024-08-13 15:11:39,233 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:39,236 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:39,239 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 189817, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,248 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_39', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 247131, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_39', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 189817, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:39,262 [DEBUG] DistributedKernel: Finished processing shell message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:39,288 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'57b8acdb-fc3'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'659e335aa58c'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:39,293 [DEBUG] DistributedKernel: Received SHELL message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1 of type "kernel_info_request": {'header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283099, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,295 [DEBUG] DistributedKernel: Received control message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2 of type "kernel_info_request" [Control (140735131149888)] 
2024-08-13 15:11:39,299 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_41', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 298324, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_41', 'msg_type': 'ACK', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283099, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'57b8acdb-fc38-44c0-b64e-242e15edb9f2', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.6b723702-92ae-4cf0-b368-c278654dba7d'] [MainThread (140737343412032)] 
2024-08-13 15:11:39,306 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:39,310 [DEBUG] DistributedKernel: Sent 'ACK' for control kernel_info_request message "23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_44', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 307097, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_44', 'msg_type': 'ACK', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283870, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'285cd012-9a28-4d5a-8359-e948698301c3', b'a540ca73-c0a5-4d8c-a970-9726903b583a', b'58202587-1971-4199-b167-66ecfe7d954c', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.3a69b26d-9a50-44e4-a7e8-0efc1457f586'] [Control (140735131149888)] 
2024-08-13 15:11:39,310 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:39,312 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283099, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,314 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_45', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 314116, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_45', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283870, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735131149888)] 
2024-08-13 15:11:39,317 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_46', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 316451, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_46', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 283099, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:39,322 [DEBUG] DistributedKernel: Finished processing control message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_2 of type "kernel_info_request" [Control (140735131149888)] 
2024-08-13 15:11:39,329 [DEBUG] DistributedKernel: Finished processing shell message 23f6bf43-ce81-44f1-a57c-7b4119dbeefa_23_1 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:39,381 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'23f6bf43-ce8'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'aab32368944a'...64B)>, <zmq.Frame(b'{"date":"202'...231B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:39,384 [DEBUG] DistributedKernel: Received SHELL message 375bee6b-0bfe-4659-b9cc-2d50a55951d1 of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 374000, tzinfo=tzutc()), 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'username': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'version': '5.2'}, 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,387 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "375bee6b-0bfe-4659-b9cc-2d50a55951d1": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_49', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 387123, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_49', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 374000, tzinfo=tzutc()), 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'username': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'23f6bf43-ce81-44f1-a57c-7b4119dbeefa', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.3050565b-f7fb-4cb6-ba54-d4b6b696566e'] [MainThread (140737343412032)] 
2024-08-13 15:11:39,393 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:39,395 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:39,396 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 374000, tzinfo=tzutc()), 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'username': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'version': '5.2'}, 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:39,398 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_51', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 398037, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_51', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 39, 374000, tzinfo=tzutc()), 'msg_id': '375bee6b-0bfe-4659-b9cc-2d50a55951d1', 'msg_type': 'kernel_info_request', 'session': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'username': '23f6bf43-ce81-44f1-a57c-7b4119dbeefa', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:39,403 [DEBUG] DistributedKernel: Finished processing shell message 375bee6b-0bfe-4659-b9cc-2d50a55951d1 of type "kernel_info_request" [MainThread (140737343412032)] 
raft2024/08/13 15:11:40 INFO: 2 is starting a new election at term 1
raft2024/08/13 15:11:40 INFO: 2 became candidate at term 2
raft2024/08/13 15:11:40 INFO: 2 received MsgVoteResp from 2 at term 2
raft2024/08/13 15:11:40 INFO: 2 [logterm: 1, index: 3] sent MsgVote request to 1 at term 2
raft2024/08/13 15:11:40 INFO: 2 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2
2024-08-13T15:11:40.238Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 3].
raft2024/08/13 15:11:40 INFO: 2 received MsgVoteResp from 1 at term 2
raft2024/08/13 15:11:40 INFO: 2 has received 2 MsgVoteResp votes and 0 vote rejections
raft2024/08/13 15:11:40 INFO: 2 became leader at term 2
raft2024/08/13 15:11:40 INFO: raft.node: 2 elected leader 2 at term 2
2024-08-13T15:11:40.251Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:40.279Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 1. HardState: [Term: 2, Vote: 2, Commit: 4].
2024-08-13 15:11:42,706 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'a4408378-69a'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'e93893fef024'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:42,710 [DEBUG] DistributedKernel: Received SHELL message d7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0 of type "kernel_info_request": {'header': {'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 701795, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,713 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "d7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_53', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 713002, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_53', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 701795, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'a4408378-69a6-4597-9368-fc8750bde1eb', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.7f36f86c-868a-4a2b-bbbf-8bbef74dd2de'] [MainThread (140737343412032)] 
2024-08-13 15:11:42,718 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:42,719 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:42,721 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 701795, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,725 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_55', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 724364, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_55', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 701795, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:42,737 [DEBUG] DistributedKernel: Finished processing shell message d7568d16-63f5-40c9-bbd3-e4375d3601f2_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:42,796 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'd7568d16-63f'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'4d1c5fd67c7b'...64B)>, <zmq.Frame(b'{"date":"202'...195B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:42,799 [DEBUG] DistributedKernel: Received SHELL message 30a5d4ff-e222-4780-bd51-621af2a6069c of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 789000, tzinfo=tzutc()), 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,802 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "30a5d4ff-e222-4780-bd51-621af2a6069c": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_57', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 802099, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_57', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 789000, tzinfo=tzutc()), 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'd7568d16-63f5-40c9-bbd3-e4375d3601f2', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.f0b33bc8-ff3c-47f0-9925-f9e81f37e7dc'] [MainThread (140737343412032)] 
2024-08-13 15:11:42,812 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:42,813 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:42,814 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 789000, tzinfo=tzutc()), 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,817 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_59', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 816984, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_59', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 789000, tzinfo=tzutc()), 'msg_id': '30a5d4ff-e222-4780-bd51-621af2a6069c', 'msg_type': 'kernel_info_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:42,827 [DEBUG] DistributedKernel: Finished processing shell message 30a5d4ff-e222-4780-bd51-621af2a6069c of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:42,891 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'd7568d16-63f'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'7c181d80ae37'...64B)>, <zmq.Frame(b'{"date":"202'...191B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{"idle-gpus"'...37B)>, <zmq.Frame(b'{"silent":fa'...138B)>] [MainThread (140737343412032)] 
2024-08-13 15:11:42,894 [DEBUG] DistributedKernel: Received SHELL message 958814a1-b489-4ebf-bf0f-d9783ae83142 of type "execute_request": {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 686000, tzinfo=tzutc()), 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'parent_header': {}, 'metadata': {'idle-gpus': '7', 'target_replica': -1}, 'content': b'{"silent":false,"store_history":true,"user_expressions":{},"allow_stdin":true,"stop_on_error":false,"code":"a = 1\\nprint(\\"a = %d\\" % a)"}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,898 [DEBUG] DistributedKernel: Sent 'ACK' for shell execute_request message "958814a1-b489-4ebf-bf0f-d9783ae83142": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_61', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 897448, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_61', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 686000, tzinfo=tzutc()), 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'content': {'type': 'execute_request', 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'd7568d16-63f5-40c9-bbd3-e4375d3601f2', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.70c37964-14b1-48af-b0d4-24dd8c0902a3'] [MainThread (140737343412032)] 
2024-08-13 15:11:42,902 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:execute_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:42,904 [DEBUG] DistributedKernel:    Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:42,906 [DEBUG] DistributedKernel: execute_request: {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 686000, tzinfo=tzutc()), 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'parent_header': {}, 'metadata': {'idle-gpus': '7', 'target_replica': -1}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:42,907 [DEBUG] DistributedKernel: execute_request called within the Distributed Python Kernel. [MainThread (140737343412032)] 
2024-08-13 15:11:42,910 [INFO] DistributedKernel: DistributedKernel is preparing to execute some code: a = 1
print("a = %d" % a)

 [MainThread (140737343412032)] 
2024-08-13 15:11:42,912 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [MainThread (140737343412032)] 
2024-08-13 15:11:42,918 [INFO] DistributedKernel: Calling synchronizer.ready(1) now with LEAD proposal. [MainThread (140737343412032)] 
2024-08-13 15:11:42,919 [DEBUG] Synchronizer: Synchronizer::Ready(LEAD): Proposing to lead now. [MainThread (140737343412032)] 
2024-08-13 15:11:42,920 [DEBUG] Synchronizer: Synchronizer is proposing to lead term 1 [MainThread (140737343412032)] 
2024-08-13 15:11:42,920 [DEBUG] RaftLog2: RaftLog 2 is proposing to lead term 1. [MainThread (140737343412032)] 
2024-08-13 15:11:42,921 [INFO] RaftLog2: Created new election with term number 1 [MainThread (140737343412032)] 
2024-08-13 15:11:42,922 [DEBUG] RaftLog2: Found no previous proposal for term 1. [MainThread (140737343412032)] 
2024-08-13 15:11:42,923 [DEBUG] RaftLog2: RaftLog 2 handling election in term 1, attempt #1. Will be proposing ElectionProposalKey.LEAD. [MainThread (140737343412032)] 
2024-08-13 15:11:42,943 [DEBUG] RaftLog2: Registering callback future on unknown loop. loop.is_running: True [MainThread (140737343412032)] 
2024-08-13 15:11:42,945 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.923187,ID=ff565768-0e50-46f8-b3e3-2020a1406d83] [MainThread (140737343412032)] 
2024-08-13 15:11:42,946 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-13T15:11:42.953Z[8CINFO[4Csmr/lognode.go:633[6CProvided Python resolve callback. Message: ElectionProposalKey.LEAD
2024-08-13T15:11:42.954Z[8CINFO[4Csmr/lognode.go:636[6CProposing to append value[7C{"key": "ElectionProposalKey.LEAD", "id": "cae0781c-2d79-40c8-a259-f3e7257d87b5"}
2024-08-13T15:11:42.954Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:42.954Z[8CINFO[4Csmr/lognode.go:642[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.LEAD", "id": "cae0781c-2d79-40c8-a259-f3e7257d87b5"}
2024-08-13T15:11:42.954Z[8CINFO[4Csmr/lognode.go:1585[5CLogNode 2: proposing something.
2024-08-13T15:11:42.954Z[8CINFO[4Csmr/lognode.go:1587[5CLogNode 2: finished proposing something.
2024-08-13 15:11:42,955 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-13 15:11:42,959 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.923187,ID=ff565768-0e50-46f8-b3e3-2020a1406d83] [MainThread (140737343412032)] 
2024-08-13 15:11:42,960 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Awaiting result. [MainThread (140737343412032)] 
2024-08-13T15:11:42.969Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 2. NumMessages: 4. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:42.973Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 5].
2024-08-13 15:11:42,974 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 304. [Dummy-9 (140734602671680)] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:42,977 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=11} [Dummy-8 (140735978403392)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13T15:11:42.979Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 2. NumEntries: 0. NumMessages: 4. HardState: [Term: 2, Vote: 2, Commit: 7].
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:42,980 [DEBUG] RaftLog2: Received remote update of size 304 bytes [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: reading data from readCloser now. size=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,981 [DEBUG] readCloser-0b0cc: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,982 [DEBUG] readCloser-0b0cc: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,982 [DEBUG] readCloser-0b0cc: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$0b64e4fb-0c50-41cd-8380-1d6218cae8af\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xbb\x15\xa9\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,982 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 3: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node3,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.923197,ID=0b64e4fb-0c50-41cd-8380-1d6218cae8af]. Match: False [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,982 [DEBUG] Election1: Accepted "LEAD" proposal from node 3. NumLead: 1; NumYield: 0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,982 [DEBUG] Election1: Received proposals from node(s): 3. Missing proposals from node(s): 1, 2 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,984 [DEBUG] RaftLog2: Received 1 proposal(s) so far during term 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,985 [DEBUG] Election1: Cannot pick winner for election 1 yet. Received: 1, discarded: 0, number of replicas: 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,985 [DEBUG] RaftLog2: No winner to propose yet for election in term 1 because: insufficient number of proposals received to select a winner to propose (received: 1, discarded: 0, number of replicas: 3) [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:42,991 [DEBUG] RaftLog2: decideElection called for election 1. [MainThread (140737343412032)] 
2024-08-13 15:11:42,992 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:42,992 [DEBUG] RaftLog2: Sleeping for 9.99050259590149 seconds in decideElection coroutine for election 1. [MainThread (140737343412032)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:42,997 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="cae0781c-2d79-40c8-a259-f3e7257d87b5" of size 304. [Dummy-9 (140734602671680)] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,020 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=16} [Dummy-8 (140735978403392)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
2024-08-13 15:11:43,023 [DEBUG] RaftLog2: Our proposal of size 304 bytes was committed. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,024 [DEBUG] readCloser-24f8d: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,024 [DEBUG] readCloser-24f8d: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
2024-08-13 15:11:43,024 [DEBUG] readCloser-24f8d: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,024 [DEBUG] readCloser-24f8d: reading data from readCloser now. size=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] readCloser-24f8d: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] readCloser-24f8d: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] readCloser-24f8d: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] readCloser-24f8d: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$ff565768-0e50-46f8-b3e3-2020a1406d83\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xbb\x15\x7f\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 2: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.923187,ID=ff565768-0e50-46f8-b3e3-2020a1406d83]. Match: True [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] Election1: Accepted "LEAD" proposal from node 2. NumLead: 2; NumYield: 0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] Election1: Received proposals from node(s): 3, 2. Missing proposals froCalling: 'smr_ReadCloser_Close'
m node(s): 1 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,025 [DEBUG] RaftLog2: Received 2 proposal(s) so far during term 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,026 [DEBUG] Election1: Cannot pick winner for election 1 yet. Received: 2, discarded: 0, number of replicas: 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,026 [DEBUG] RaftLog2: No winner to propose yet for election in term 1 because: insufficient number of proposals received to select a winner to propose (received: 2, discarded: 0, number of replicas: 3) [Dummy-9 (140734602671680)] 
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,027 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13T15:11:43.029Z[8CINFO[4Csmr/lognode.go:653[6CValue appended {"key": "ElectionProposalKey.LEAD", "id": "cae0781c-2d79-40c8-a259-f3e7257d87b5"}
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-13 15:11:43,029 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 304. [Dummy-9 (140734602671680)] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
[Thread 0x7ffff0bb1640 (LWP 51) exited]
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-13 15:11:43,035 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Setting result to value: ElectionProposalKey.LEAD [MainThread (140737343412032)] 
2024-08-13 15:11:43,036 [DEBUG] RaftLog2: Received remote update of size 304 bytes [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=304, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 304 bytes into buffer of maximum size 304. Error: <nil>.
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: Added 304 to self.w; self.w is now = 304, self.buffered()=304, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: reading data from readCloser now. size=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: Preparing to read buffer with size=304, self.r=0, self.w=304, self.w - self.r = 304, and len(self.buf)=304 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: require called with sz=304, self.r=0, self.w=304, self.w - self.r = 304, len(self.buf)=304, self.buffered = 304, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: Reading buffer[0: 304]; r = 0, n = 304. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,041 [DEBUG] readCloser-c91fc: returning 304 byte(s) from readCloser: b'\x80\x04\x95%\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$674e9b38-8efb-4329-ba87-07a3f34c4c39\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xbb\x11\xb9\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.LEAD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,042 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.LEAD" from node 1: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node1,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.922957,ID=674e9b38-8efb-4329-ba87-07a3f34c4c39]. Match: False [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,042 [DEBUG] Election1: Accepted "LEAD" proposal from node 1. NumLead: 3; NumYield: 0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,042 [DEBUG] Election1: Received proposals from node(s): 3, 2, 1. Missing proposalsCalling: 'smr_ReadCloser_Close'
 from node(s):  [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,042 [DEBUG] RaftLog2: Received 3 proposal(s) so far during term 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,042 [DEBUG] Election1: Will propose node 3; first 'LEAD' proposal for election term 1 came from node 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,047 [DEBUG] RaftLog2: Will propose that node 3 win the election in term 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,049 [DEBUG] Future[append_val["ElectionProposalKey.LEAD"]]: Result has been resolved: ElectionProposalKey.LEAD [MainThread (140737343412032)] 
2024-08-13 15:11:43,049 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.LEAD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=1,AttemptNumber=1,Timestamp=2024-08-13 15:11:42.923187,ID=ff565768-0e50-46f8-b3e3-2020a1406d83] [MainThread (140737343412032)] 
2024-08-13 15:11:43,083 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
2024-08-13T15:11:43.086Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:43.114Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 8].
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,128 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 322. [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,139 [DEBUG] RaftLog2: RaftLog 2: Appending decision proposal for term 1 now. [MainThread (140737343412032)] 
2024-08-13 15:11:43,141 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=23} [Dummy-8 (140735978403392)] 
2024-08-13 15:11:43,144 [DEBUG] RaftLog2: Registering callback future on _async_loop. _async_loop.is_running: True [MainThread (140737343412032)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13T15:11:43.147Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 4. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13 15:11:43,148 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-13 15:11:43,148 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
[New Thread 0x7ffff0bb1640 (LWP 120)]
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-13T15:11:43.153Z[8CINFO[4Csmr/lognode.go:633[6CProvided Python resolve callback. Message: ElectionProposalKey.SYNC
2024-08-13T15:11:43.153Z[8CINFO[4Csmr/lognode.go:636[6CProposing to append value[7C{"key": "ElectionProposalKey.SYNC", "id": "2e33db4d-ce08-444c-8909-724dcac1b5dc"}
2024-08-13T15:11:43.153Z[8CINFO[4Csmr/lognode.go:642[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.SYNC", "id": "2e33db4d-ce08-444c-8909-724dcac1b5dc"}
2024-08-13T15:11:43.153Z[8CINFO[4Csmr/lognode.go:1585[5CLogNode 2: proposing something.
2024-08-13T15:11:43.153Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:43.153Z[8CINFO[4Csmr/lognode.go:1587[5CLogNode 2: finished proposing something.
2024-08-13 15:11:43,154 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
2024-08-13 15:11:43,158 [DEBUG] RaftLog2: Received remote update of size 322 bytes [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,158 [DEBUG] readCloser-8efa0: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13T15:11:43.158Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 3. HardState: [Term: 2, Vote: 2, Commit: 9].
2024-08-13 15:11:43,158 [DEBUG] readCloser-8efa0: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,158 [DEBUG] readCloser-8efa0: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,159 [DEBUG] readCloser-8efa0: reading data from readCloser now. size=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,159 [DEBUG] readCloser-8efa0: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,159 [DEBUG] readCloser-8efa0: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,159 [DEBUG] readCloser-8efa0: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,159 [DEBUG] readCloser-8efa0: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$2b0a4b7f-0ba5-46bb-a812-5307a3637514\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xc2\xe5<\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,160 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node1,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,160 [DEBUG] RaftLog2: Our 'leader_term' (0) < 'election_term' of latest committed 'SYNC' (1). Setting our 'leader_term' to 1 and the 'leader_id' to 3 (from newly-committed value). [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,160 [DEBUG] RaftLog2: Node 3 has won in term 1 as proposed by node 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,160 [DEBUG] Election1: Election 1 has completed successfully with winner: node 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,160 [DEBUG] RaftLog2: Scheduling the setting of result on '_leading_future' future to 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,161 [DEBUG] RaftLog2: Scheduled setting of result on '_leading_future' future. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,162 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-13 15:11:43,163 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Awaiting result. [MainThread (140737343412032)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,170 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:43,172 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 322. [Dummy-9 (140734602671680)] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,175 [DEBUG] RaftLog2: Received remote update of size 322 bytes [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Read'
2024-08-13 15:11:43,176 [DEBUG] readCloser-12c26: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,176 [DEBUG] readCloser-12c26: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,176 [DEBUG] readCloser-12c26: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,176 [DEBUG] readCloser-12c26: reading data from readCloser now. size=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,176 [DEBUG] readCloser-12c26: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] readCloser-12c26: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] readCloser-12c26: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] readCloser-12c26: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$d4a2fab1-3813-4bc6-9e90-cb95fd9f1bd4\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xc7oP\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node3,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] RaftLog2: We've already received at least 1 other 'VOTE' proposal during term 1. Ignoring 'VOTE' proposal from node 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,177 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,183 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=30} [Dummy-8 (140735978403392)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13T15:11:43.208Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 10].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:43,208 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="2e33db4d-ce08-444c-8909-724dcac1b5dc" of size 322. [Dummy-9 (140734602671680)] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:43,212 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=32} [Dummy-8 (140735978403392)] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,215 [DEBUG] RaftLog2: Our proposal of size 322 bytes was committed. [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 322 bytes into buffer of maximum size 322. Error: <nil>.
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,216 [DEBUG] readCloser-cc530: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=322, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,216 [DEBUG] readCloser-cc530: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,216 [DEBUG] readCloser-cc530: Added 322 to self.w; self.w is now = 322, self.buffered()=322, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,216 [DEBUG] readCloser-cc530: reading data from readCloser now. size=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,216 [DEBUG] readCloser-cc530: Preparing to read buffer with size=322, self.r=0, self.w=322, self.w - self.r = 322, and len(self.buf)=322 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,217 [DEBUG] readCloser-cc530: require called with sz=322, self.r=0, self.w=322, self.w - self.r = 322, len(self.buf)=322, self.buffered = 322, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,217 [DEBUG] readCloser-cc530: Reading buffer[0: 322]; r = 0, n = 322. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,217 [DEBUG] readCloser-cc530: returning 322 byte(s) from readCloser: b'\x80\x04\x957\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x12LeaderElectionVote\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$e77bea90-dc5e-4f9e-a243-3d1ca7f5c523\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xc3\x10\xc4\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x18ElectionProposalKey.SYNC\x94\x8c\x11_proposed_node_id\x94K\x03ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,217 [DEBUG] RaftLog2: Received VOTE: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [Dummy-9 (140734602671680)] 
2024-08-Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
13 15:11:43,217 [DEBUG] RaftLog2: We've already received at least 1 other 'VOTE' proposal during term 1. Ignoring 'VOTE' proposal from node 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,217 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
2024-08-13T15:11:43.219Z[8CINFO[4Csmr/lognode.go:653[6CValue appended {"key": "ElectionProposalKey.SYNC", "id": "2e33db4d-ce08-444c-8909-724dcac1b5dc"}
[Thread 0x7fff537fe640 (LWP 108) exited]
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-13 15:11:43,221 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Setting result to value: ElectionProposalKey.SYNC [MainThread (140737343412032)] 
2024-08-13 15:11:43,223 [DEBUG] Future[append_val["ElectionProposalKey.SYNC"]]: Result has been resolved: ElectionProposalKey.SYNC [MainThread (140737343412032)] 
2024-08-13 15:11:43,223 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: LeaderElectionVote[Proposer=Node2,Proposed=Node3,Timestamp=Tue Aug 13 15:11:43 2024,ElectionTerm=1,AttemptNumber=1] [MainThread (140737343412032)] 
2024-08-13 15:11:43,224 [DEBUG] RaftLog2: RaftLog 2: Successfully appended decision proposal for term 1 now. [MainThread (140737343412032)] 
2024-08-13 15:11:43,224 [DEBUG] RaftLog2: RaftLog 2: returning for term 1 without waiting, is_leading=False [MainThread (140737343412032)] 
2024-08-13 15:11:43,224 [DEBUG] Synchronizer: We lost the election to lead term 1 [MainThread (140737343412032)] 
2024-08-13 15:11:43,225 [DEBUG] Synchronizer: Synchronizer::Ready(LEAD): Done with proposal protocol for lead. Result: 0 [MainThread (140737343412032)] 
2024-08-13 15:11:43,225 [INFO] DistributedKernel: Completed call to synchronizer.ready(1) with LEAD proposal. shell.execution_count: 0 [MainThread (140737343412032)] 
2024-08-13 15:11:43,226 [DEBUG] DistributedKernel: I will NOT leading this execution. [MainThread (140737343412032)] 
2024-08-13 15:11:43,229 [INFO] DistributedKernel: Execution yielded: Failed to lead the exectuion. [MainThread (140737343412032)] 
2024-08-13 15:11:43,235 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_64', 'msg_type': 'execute_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 43, 233462, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_64', 'msg_type': 'execute_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 42, 686000, tzinfo=tzutc()), 'msg_id': '958814a1-b489-4ebf-bf0f-d9783ae83142', 'msg_type': 'execute_request', 'session': 'd7568d16-63f5-40c9-bbd3-e4375d3601f2', 'username': '', 'version': '5.2'}, 'content': {'status': 'error', 'ename': 'ExecutionYieldError', 'evalue': 'Failed to lead the exectuion.', 'traceback': []}, 'metadata': {'started': datetime.datetime(2024, 8, 13, 15, 11, 42, 909288, tzinfo=datetime.timezone.utc), 'dependencies_met': True, 'engine': 'e26db73f-1b87-4882-822c-8ab7f20e21f5', 'status': 'error'}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:43,242 [DEBUG] DistributedKernel: Finished processing shell message 958814a1-b489-4ebf-bf0f-d9783ae83142 of type "execute_request" [MainThread (140737343412032)] 
2024-08-13T15:11:43.378Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:43.404Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 11].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:43,404 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 345. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,408 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=35} [Dummy-8 (140735978403392)] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
2024-08-13 15:11:43,411 [DEBUG] RaftLog2: Received remote update of size 345 bytes [Dummy-9 (140734602671680)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 345 bytes into buffer of maximum size 345. Error: <nil>.
2024-08-13 15:11:43,411 [DEBUG] readCloser-b9a3a: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=345, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,411 [DEBUG] readCloser-b9a3a: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,411 [DEBUG] readCloser-b9a3a: Added 345 to self.w; self.w is now = 345, self.buffered()=345, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,411 [DEBUG] readCloser-b9a3a: reading data from readCloser now. size=345 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] readCloser-b9a3a: Preparing to read buffer with size=345, self.r=0, self.w=345, self.w - self.r = 345, and len(self.buf)=345 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] readCloser-b9a3a: require called with sz=345, self.r=0, self.w=345, self.w - self.r = 345, len(self.buf)=345, self.buffered = 345, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] readCloser-b9a3a: Reading buffer[0: 345]; r = 0, n = 345. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] readCloser-b9a3a: returning 345 byte(s) from readCloser: b'\x80\x04\x95N\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x11SynchronizedValue\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94K\x01\x8c\x0c_proposer_id\x94J\xff\xff\xff\xff\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94J\xff\xff\xff\xff\x8c\x05_data\x94\x8c\x03ast\x94\x8c\x06Module\x94\x93\x94)R\x94}\x94(\x8c\x04body\x94]\x94\x8c\x0ctype_ignores\x94]\x94ub\x8c\x01a\x94\x85\x94\x86\x94\x8c\x03_id\x94\x8c$94551634-552a-4ec1-b45e-599d495a455b\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xd7\x17\xc3\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x05_ast_\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] RaftLog2: Received SynchronizedValue: SynchronizedValue[Key=_ast_,Op=,End=False,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-13 15:11:43.360825,ID=94551634-552a-4ec1-b45e-599d495a455b] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] RaftLog2: Updating self._leader_term from 1 to 1, the leader term of the committed non-proposal SynchronizedValue. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,412 [DEBUG] RaftLog2: Returning synchronization value directly. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,413 [DEBUG] Synchronizer: >> enter execution syncing... [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,413 [DEBUG] Synchronizer: Restoring SynchronizedValue with key="_ast_": SynchronizedValue[Key=_ast_,Op=,End=False,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-13 15:11:43.360825,ID=94551634-552a-4ec1-b45e-599d495a455b] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,413 [DEBUG] Synchronizer: _ast_:<class 'ast.Module'> [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,415 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13T15:11:43.432Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:43.437Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 12].
2024-08-13 15:11:43,438 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 287. [Dummy-9 (140734602671680)] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,440 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=39} [Dummy-8 (140735978403392)] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:43,443 [DEBUG] RaftLog2: Received remote update of size 287 bytes [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Read'
2024-08-13 15:11:43,444 [DEBUG] readCloser-f5028: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=287, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,444 [DEBUG] readCloser-f5028: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,444 [DEBUG] readCloser-f5028: Added 287 to self.w; self.w is now = 287, self.buffered()=287, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,444 [DEBUG] readCloser-f5028: reading data from readCloser now. size=287 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] readCloser-f5028: Preparing to read buffer with size=287, self.r=0, self.w=287, self.w - self.r = 287, and len(self.buf)=287 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] readCloser-f5028: require called with sz=287, self.r=0, self.w=287, self.w - self.r = 287, len(self.buf)=287, self.buffered = 287, and extra = 0 [Dummy-9 (140734602671680)] 
Released GIL at beginning of 'Read'
[readerWrapper] Read 287 bytes into buffer of maximum size 287. Error: <nil>.
2024-08-13 15:11:43,445 [DEBUG] readCloser-f5028: Reading buffer[0: 287]; r = 0, n = 287. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] readCloser-f5028: returning 287 byte(s) from readCloser: b'\x80\x04\x95\x14\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x11SynchronizedValue\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94K\x01\x8c\x0c_proposer_id\x94J\xff\xff\xff\xff\x8c\x0e_election_term\x94K\x01\x8c\x0f_attempt_number\x94J\xff\xff\xff\xff\x8c\x05_data\x94K\x01\x8c\x03_id\x94\x8c$86832ea5-d217-44c9-b6d1-86e371d2cef4\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xeb\xdb+\x8b\x8c\n_operation\x94\x8c\x03add\x94\x8c\x15_should_end_execution\x94\x88\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x01a\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] RaftLog2: Received SynchronizedValue: SynchronizedValue[Key=a,Op=add,End=True,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-13 15:11:43.424533,ID=86832ea5-d217-44c9-b6d1-86e371d2cef4] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] RaftLog2: Updating self._leader_term from 1 to 1, the leader term of the committed non-proposal SynchronizedValue. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,445 [DEBUG] RaftLog2: Returning synchronization value directly. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,446 [DEBUG] Synchronizer: Restoring SynchronizedValue with key="a": SynchronizedValue[Key=a,Op=add,End=True,Tag=1,Proposer=Node-1,ElectionTerm=1,AttemptNumber=-1,Timestamp=2024-08-13 15:11:43.424533,ID=86832ea5-d217-44c9-b6d1-86e371d2cef4] [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,446 [DEBUG] Synchronizer: a:<class 'int'> [Dummy-9 (140734602671680)] 
2024-08-13 15:11:43,446 [DEBUG] Synchronizer: << exit execution syncing [2] [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:43,448 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:45,873 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'df76119f-c7e'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'90a6c951ec2a'...64B)>, <zmq.Frame(b'{"msg_id": "'...222B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:45,877 [DEBUG] DistributedKernel: Received SHELL message 1e0a5342-85fa-4848-b928-fb4189402f99_23_0 of type "kernel_info_request": {'header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 866646, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:45,881 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "1e0a5342-85fa-4848-b928-fb4189402f99_23_0": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_66', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 879964, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_66', 'msg_type': 'ACK', 'parent_header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 866646, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'df76119f-c7e7-443f-800f-9c7b07e23062', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.b97dfb64-e5a4-43dc-a753-21dc9aaff9a3'] [MainThread (140737343412032)] 
2024-08-13 15:11:45,894 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:45,897 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:45,899 [DEBUG] DistributedKernel: Received control message 1e0a5342-85fa-4848-b928-fb4189402f99_23_1 of type "kernel_info_request" [Control (140735131149888)] 
2024-08-13 15:11:45,900 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 866646, tzinfo=tzutc()), 'version': '5.3'}, 'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:45,904 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_68', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 902918, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_68', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_0', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 866646, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:45,907 [DEBUG] DistributedKernel: Sent 'ACK' for control kernel_info_request message "1e0a5342-85fa-4848-b928-fb4189402f99_23_1": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_70', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 906659, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_70', 'msg_type': 'ACK', 'parent_header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 869923, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'type': 'kernel_info_request', 'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_1', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'285cd012-9a28-4d5a-8359-e948698301c3', b'a540ca73-c0a5-4d8c-a970-9726903b583a', b'bb1ea0c6-055e-45c8-956b-7e92661aea98', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.4eee0a8d-4c31-42e4-b196-04842a691846'] [Control (140735131149888)] 
2024-08-13 15:11:45,914 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_71', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 912750, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_71', 'msg_type': 'kernel_info_reply', 'parent_header': {'msg_id': '1e0a5342-85fa-4848-b928-fb4189402f99_23_1', 'msg_type': 'kernel_info_request', 'username': 'username', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 869923, tzinfo=tzutc()), 'version': '5.3'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735131149888)] 
2024-08-13 15:11:45,921 [DEBUG] DistributedKernel: Finished processing shell message 1e0a5342-85fa-4848-b928-fb4189402f99_23_0 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:45,929 [DEBUG] DistributedKernel: Finished processing control message 1e0a5342-85fa-4848-b928-fb4189402f99_23_1 of type "kernel_info_request" [Control (140735131149888)] 
2024-08-13 15:11:45,966 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'1e0a5342-85f'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'48b598a7f1b0'...64B)>, <zmq.Frame(b'{"date":"202'...195B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{}')>] [MainThread (140737343412032)] 
2024-08-13 15:11:45,970 [DEBUG] DistributedKernel: Received SHELL message 6eadc6a8-05ff-4b48-8127-44914cf2a473 of type "kernel_info_request": {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 959000, tzinfo=tzutc()), 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'username': '', 'version': '5.2'}, 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': b'{}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:45,974 [DEBUG] DistributedKernel: Sent 'ACK' for shell kernel_info_request message "6eadc6a8-05ff-4b48-8127-44914cf2a473": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_74', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 973341, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_74', 'msg_type': 'ACK', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 959000, tzinfo=tzutc()), 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'username': '', 'version': '5.2'}, 'content': {'type': 'kernel_info_request', 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'1e0a5342-85fa-4848-b928-fb4189402f99', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.c94b5906-c33b-497e-b6a3-ca15eee93a62'] [MainThread (140737343412032)] 
2024-08-13 15:11:45,986 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:kernel_info_request*** [MainThread (140737343412032)] 
2024-08-13 15:11:45,988 [DEBUG] DistributedKernel:    Content: {}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:45,991 [DEBUG] DistributedKernel: kernel_info_request: {'header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 959000, tzinfo=tzutc()), 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'username': '', 'version': '5.2'}, 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'parent_header': {}, 'metadata': {}, 'content': {}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:46,007 [DEBUG] DistributedKernel: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_76', 'msg_type': 'kernel_info_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 993371, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_76', 'msg_type': 'kernel_info_reply', 'parent_header': {'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 959000, tzinfo=tzutc()), 'msg_id': '6eadc6a8-05ff-4b48-8127-44914cf2a473', 'msg_type': 'kernel_info_request', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'username': '', 'version': '5.2'}, 'content': {'status': 'ok', 'protocol_version': '5.3', 'implementation': 'Distributed Python 3', 'implementation_version': '0.2', 'language_info': {'name': 'Any text', 'mimetype': 'text/plain', 'file_extension': '.txt'}, 'banner': "Python 3.11.9 (main, Aug 12 2024, 14:55:28) [GCC 11.4.0]\nType 'copyright', 'credits' or 'license' for more information\nIPython 8.26.0 -- An enhanced Interactive Python. Type '?' for help.\n", 'help_links': [{'text': 'Python Reference', 'url': 'https://docs.python.org/3.11'}, {'text': 'IPython Reference', 'url': 'https://ipython.org/documentation.html'}, {'text': 'NumPy Reference', 'url': 'https://docs.scipy.org/doc/numpy/reference/'}, {'text': 'SciPy Reference', 'url': 'https://docs.scipy.org/doc/scipy/reference/'}, {'text': 'Matplotlib Reference', 'url': 'https://matplotlib.org/contents.html'}, {'text': 'SymPy Reference', 'url': 'http://docs.sympy.org/latest/index.html'}, {'text': 'pandas Reference', 'url': 'https://pandas.pydata.org/pandas-docs/stable/'}]}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:46,021 [DEBUG] DistributedKernel: Finished processing shell message 6eadc6a8-05ff-4b48-8127-44914cf2a473 of type "kernel_info_request" [MainThread (140737343412032)] 
2024-08-13 15:11:46,139 [DEBUG] DistributedKernel: Received SHELL message: [<zmq.Frame(b'f34b7acd-372'...36B)>, <zmq.Frame(b'd8634c97-c27'...36B)>, <zmq.Frame(b'1e0a5342-85f'...36B)>, <zmq.Frame(b'dest.2ffa3dd'...82B)>, <zmq.Frame(b'<IDS|MSG>')>, <zmq.Frame(b'2ccf5197231a'...64B)>, <zmq.Frame(b'{"msg_id":"a'...189B)>, <zmq.Frame(b'{}')>, <zmq.Frame(b'{"idle-gpus"'...80B)>, <zmq.Frame(b'{"silent":fa'...138B)>] [MainThread (140737343412032)] 
2024-08-13 15:11:46,143 [DEBUG] DistributedKernel: Received SHELL message a5f00069-00b6-4fb5-8407-f21560f408a0 of type "yield_execute": {'header': {'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'username': '', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 851000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': b'{"silent":false,"store_history":true,"user_expressions":{},"allow_stdin":true,"stop_on_error":false,"code":"a = 1\\nprint(\\"a = %d\\" % a)"}', 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:46,147 [DEBUG] DistributedKernel: Sent 'ACK' for shell yield_execute message "a5f00069-00b6-4fb5-8407-f21560f408a0": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_78', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 46, 145780, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_78', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'username': '', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 851000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'content': {'type': 'yield_execute', 'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'f34b7acd-372e-4f7f-9913-d98336ad28e2', b'd8634c97-c275-4d6c-8f52-2baf50677d15', b'1e0a5342-85fa-4848-b928-fb4189402f99', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.84a4025d-fcd5-4e49-9224-d12536df35ac'] [MainThread (140737343412032)] 
2024-08-13 15:11:46,155 [DEBUG] DistributedKernel: 
*** MESSAGE TYPE:yield_execute*** [MainThread (140737343412032)] 
2024-08-13 15:11:46,157 [DEBUG] DistributedKernel:    Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}
   --->
    [MainThread (140737343412032)] 
2024-08-13 15:11:46,158 [DEBUG] DistributedKernel: yield_execute: {'header': {'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'username': '', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 851000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:46,159 [INFO] DistributedKernel: DistributedKernel is preparing to yield the execution of some code to another replica.

 [MainThread (140737343412032)] 
2024-08-13 15:11:46,160 [DEBUG] DistributedKernel: Parent: {'header': {'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'username': '', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 851000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'msg_type': 'yield_execute', 'parent_header': {}, 'metadata': {'idle-gpus': '6', 'target_replica': -1, 'yield-reason': 'YieldExplicitlyInstructed'}, 'content': {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'}, 'buffers': []} [MainThread (140737343412032)] 
2024-08-13 15:11:46,162 [DEBUG] DistributedKernel: Content: {'silent': False, 'store_history': True, 'user_expressions': {}, 'allow_stdin': True, 'stop_on_error': False, 'code': 'a = 1\nprint("a = %d" % a)'} [MainThread (140737343412032)] 
2024-08-13 15:11:46,164 [DEBUG] DistributedKernel: yield_execute has been called. [MainThread (140737343412032)] 
2024-08-13 15:11:46,165 [DEBUG] DistributedKernel: stdout and stderr DISABLED. [MainThread (140737343412032)] 
2024-08-13 15:11:46,166 [INFO] DistributedKernel: Calling synchronizer.ready(2) now with YIELD proposal. [MainThread (140737343412032)] 
2024-08-13 15:11:46,167 [DEBUG] Synchronizer: Synchronizer::Ready(YIELD): Proposing to yield now. [MainThread (140737343412032)] 
2024-08-13 15:11:46,168 [DEBUG] Synchronizer: Synchronizer is proposing to yield term 2 [MainThread (140737343412032)] 
2024-08-13 15:11:46,168 [DEBUG] RaftLog2: RaftLog 2: proposing to yield term 2. [MainThread (140737343412032)] 
2024-08-13 15:11:46,168 [INFO] RaftLog2: Created new election with term number 2 [MainThread (140737343412032)] 
2024-08-13 15:11:46,169 [DEBUG] RaftLog2: Found no previous proposal for term 2. [MainThread (140737343412032)] 
2024-08-13 15:11:46,169 [DEBUG] RaftLog2: RaftLog 2 handling election in term 2, attempt #1. Will be proposing ElectionProposalKey.YIELD. [MainThread (140737343412032)] 
Calling: 'smr_LogNode_Propose'
Released GIL at beginning of 'Propose'
2024-08-13 15:11:46,179 [DEBUG] RaftLog2: Registering callback future on _async_loop. _async_loop.is_running: True [MainThread (140737343412032)] 
2024-08-13 15:11:46,181 [DEBUG] RaftLog2: Calling 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.169398,ID=27af777d-1dbe-4fb0-ac27-0b82e0721df7] [MainThread (140737343412032)] 
2024-08-13 15:11:46,182 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-13T15:11:46.186Z[8CINFO[4Csmr/lognode.go:633[6CProvided Python resolve callback. Message: ElectionProposalKey.YIELD
2024-08-13T15:11:46.186Z[8CINFO[4Csmr/lognode.go:636[6CProposing to append value[7C{"key": "ElectionProposalKey.YIELD", "id": "1892b62d-ff1a-40ab-a5be-55992d5fe346"}
2024-08-13T15:11:46.186Z[8CINFO[4Csmr/lognode.go:642[6CProposed value. Waiting for committed or retry. {"key": "ElectionProposalKey.YIELD", "id": "1892b62d-ff1a-40ab-a5be-55992d5fe346"}
2024-08-13T15:11:46.186Z[8CINFO[4Csmr/lognode.go:1585[5CLogNode 2: proposing something.
2024-08-13T15:11:46.186Z[8CINFO[4Csmr/lognode.go:1587[5CLogNode 2: finished proposing something.
2024-08-13T15:11:46.186Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 1. NumMessages: 2. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13 15:11:46,187 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Propose) [MainThread (140737343412032)] 
2024-08-13 15:11:46,193 [DEBUG] RaftLog2: Called 'propose' now for SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.169398,ID=27af777d-1dbe-4fb0-ac27-0b82e0721df7] [MainThread (140737343412032)] 
2024-08-13 15:11:46,194 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Awaiting result. [MainThread (140737343412032)] 
2024-08-13T15:11:46.200Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 0. NumEntries: 2. NumMessages: 4. HardState: [Term: 0, Vote: 0, Commit: 0].
2024-08-13T15:11:46.211Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 13].
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:46,213 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="1892b62d-ff1a-40ab-a5be-55992d5fe346" of size 305. [Dummy-9 (140734602671680)] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback o2024-08-13 15:11:46,215 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=44} [Dummy-8 (140735978403392)] 
f type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:46,218 [DEBUG] RaftLog2: Our proposal of size 305 bytes was committed. [Dummy-9 (140734602671680)] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
2024-08-13T15:11:46.218Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 14].
2024-08-13 15:11:46,218 [DEBUG] readCloser-6532f: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: reading data from readCloser now. size=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,219 [DEBUG] readCloser-6532f: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x02\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$27af777d-1dbe-4fb0-ac27-0b82e0721df7\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xec\x8a\xd7i\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 2: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.169398,ID=27af777d-1dbe-4fb0-ac27-0b82e0721df7]. Match: True [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] Election2: Accepted "YIELD" proposal from node 2. NumLead: 0; NumYield: 1. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] Election2: Received proposals from node(s): 2. Missing proposals from node(s): 1, 3 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] RaftLog2: Received 1 proposal(s) so far during term 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] Election2: Cannot pick winner for election 2 yet. Received: 1, discarded: 0, number of replicas: 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,220 [DEBUG] RaftLog2: No winner to propose yet for election in term 2 because: insufficient number of proposals received to select a winner to propose (received: 1, discarded: 0, number of replicas: 3) [Dummy-9 (140734602671680)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:46,222 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13T15:11:46.223Z[8CINFO[4Csmr/lognode.go:653[6CValue appended {"key": "ElectionProposalKey.YIELD", "id": "1892b62d-ff1a-40ab-a5be-55992d5fe346"}
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Se2024-08-13 15:11:46,223 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 305. [Dummy-9 (140734602671680)] 
tting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_Propose] 
[Thread 0x7fff52ffd640 (LWP 110) exited]
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_Propose] 
2024-08-13 15:11:46,228 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=49} [Dummy-8 (140735978403392)] 
Calling: 'smr_ReadCloser_Read'
[New Thread 0x7fff52ffd640 (LWP 129)]
2024-08-13 15:11:46,229 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Setting result to value: ElectionProposalKey.YIELD [MainThread (140737343412032)] 
2024-08-13 15:11:46,233 [DEBUG] Future[append_val["ElectionProposalKey.YIELD"]]: Result has been resolved: ElectionProposalKey.YIELD [MainThread (140737343412032)] 
2024-08-13 15:11:46,233 [DEBUG] RaftLog2: Successfully proposed and appended SynchronizedValue: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node2,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.169398,ID=27af777d-1dbe-4fb0-ac27-0b82e0721df7] [MainThread (140737343412032)] 
2024-08-13 15:11:46,238 [DEBUG] RaftLog2: Received remote update of size 305 bytes [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,238 [DEBUG] readCloser-50618: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,239 [DEBReleased GIL at beginning of 'Read'
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
UG] readCloser-50618: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13T15:11:46.245Z[8CDEBUG   smr/lognode.go:1654[5CStoring Raft entries to WAL. NumCommittedEntries: 1. NumEntries: 0. NumMessages: 2. HardState: [Term: 2, Vote: 2, Commit: 15].
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: reading data from readCloser now. size=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,245 [DEBUG] readCloser-50618: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x03\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$49f49c1f-ddd2-477f-95f1-c4cef2b5c673\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xec\x8bGd\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 3: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node3,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.176232,ID=49f49c1f-ddd2-477f-95f1-c4cef2b5c673]. Match:Calling: 'smr_ReadCloser_Close'
 False [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] Election2: Accepted "YIELD" proposal from node 3. NumLead: 0; NumYield: 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] Election2: Received proposals from node(s): 2, 3. Missing proposals from node(s): 1 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] RaftLog2: Received 2 proposal(s) so far during term 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] Election2: Cannot pick winner for election 2 yet. Received: 2, discarded: 0, number of replicas: 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,246 [DEBUG] RaftLog2: No winner to propose yet for election in term 2 because: insufficient number of proposals received to select a winner to propose (received: 2, discarded: 0, number of replicas: 3) [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,249 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
Released GIL at beginning of 'Close'
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Acquired GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Setting up Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Setup Python arguments tuple for Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Calling into Python callback of type smr.StateValueCallback now [smr_LogNodeConfig_WithChangeCallback] 
Preparing to call into Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Acquired GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setting up Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Setup Python arguments tuple for Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Calling into Python callback of type smr.ShouldLogNodeCallback now [smr_LogNodeConfig_WithShouldSnapshotCallback] 
2024-08-13 15:11:46,251 [DEBUG] RaftLog2: Calling self._valueCommitted with value ID="" of size 305. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,255 [DEBUG] RaftLog2: shouldSnapshotCallback called with logNode = smr.LogNode{handle=53} [Dummy-8 (140735978403392)] 
Calling: 'smr_ReadCloser_Read'
Released GIL at beginning of 'Read'
2024-08-13 15:11:46,256 [DEBUG] RaftLog2: Received remote update of size 305 bytes [Dummy-9 (140734602671680)] 
[readerWrapper] Read 305 bytes into buffer of maximum size 305. Error: <nil>.
Returned from Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
Released GIL in Python callback of type smr.ShouldLogNodeCallback [smr_LogNodeConfig_WithShouldSnapshotCallback] 
[New Thread 0x7fff537fe640 (LWP 130)]
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: require called with sz=131072, self.r=0, self.w=0, self.w - self.r = 0, len(self.buf)=305, self.buffered = 0, and extra = 131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: Buffering 131072 bytes now self.w=0, self.r=0. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: Added 305 to self.w; self.w is now = 305, self.buffered()=305, sz=131072 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: reading data from readCloser now. size=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: Preparing to read buffer with size=305, self.r=0, self.w=305, self.w - self.r = 305, and len(self.buf)=305 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: require called with sz=305, self.r=0, self.w=305, self.w - self.r = 305, len(self.buf)=305, self.buffered = 305, and extra = 0 [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,257 [DEBUG] readCloser-03cee: Reading buffer[0: 305]; r = 0, n = 305. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [DEBUG] readCloser-03cee: returning 305 byte(s) from readCloser: b'\x80\x04\x95&\x01\x00\x00\x00\x00\x00\x00\x8c\x1ddistributed_notebook.sync.log\x94\x8c\x16LeaderElectionProposal\x94\x93\x94)\x81\x94}\x94(\x8c\x04_tag\x94N\x8c\x0c_proposer_id\x94K\x01\x8c\x0e_election_term\x94K\x02\x8c\x0f_attempt_number\x94K\x01\x8c\x05_data\x94N\x8c\x03_id\x94\x8c$08bce804-d7e4-4f12-a03e-90cdd8ca476a\x94\x8c\n_timestamp\x94GA\xd9\xae\xdd\xec\x8b\x0et\x8c\n_operation\x94\x8c\x00\x94\x8c\x15_should_end_execution\x94\x89\x8c\x06_prmap\x94N\x8c\x04_key\x94\x8c\x19ElectionProposalKey.YIELD\x94ub.' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [DEBUG] RaftLog2: Received proposal "ElectionProposalKey.YIELD" from node 1: SynchronizedValue[Key=ElectionProposalKey.YIELD,Op=,End=False,Tag=None,Proposer=Node1,ElectionTerm=2,AttemptNumber=1,Timestamp=2024-08-13 15:11:46.172757,ID=08bce804-d7e4-4f12-a03e-90cdd8ca476a]. Match: False [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [DEBUG] Election2: Accepted "YIELD" proposal from node 1. NumLead: 0; NumYield: 3. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [WARNING] Election2: Received third 'YIELD' proposal. Election is doomed to fail! Automatically transitioning to the 'FAILED' state. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [DEBUG] Election2: Received proposals from node(s): 2, 3, 1. Missing proposals from node(s):  [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [DEBUG] RaftLog2: Received 3 proposal(s) so far during term 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,258 [WARNING] Election2: We have nobody to propose as the winner of the election. Proposing 'FAILURE' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,259 [DEBUG] RaftLog2: Will propose 'FAILURE' for election in term 2. [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,265 [DEBUG] RaftLog2: RaftLog 2: Got decision to propose: election failed. No replicas proposed 'LEAD'. [MainThread (140737343412032)] 
2024-08-13 15:11:46,265 [DEBUG] Synchronizer: Successfully yielded the execution to another replica for term 2 [MainThread (140737343412032)] 
2024-08-13 15:11:46,266 [DEBUG] Synchronizer: Synchronizer::Ready(YIELD): Done with proposal protocol for yield. Result: 0 [MainThread (140737343412032)] 
2024-08-13 15:11:46,266 [INFO] DistributedKernel: Completed call to synchronizer.ready(2) with YIELD proposal. shell.execution_count: 0 [MainThread (140737343412032)] 
Calling: 'smr_ReadCloser_Close'
Released GIL at beginning of 'Close'
2024-08-13 15:11:46,269 [DEBUG] RaftLog2: Returning from self._valueCommitted with value: b'' [Dummy-9 (140734602671680)] 
2024-08-13 15:11:46,268 [DEBUG] DistributedKernel: I will NOT leading this execution. [MainThread (140737343412032)] 
Returned from Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
Released GIL in Python callback of type smr.StateValueCallback [smr_LogNodeConfig_WithChangeCallback] 
2024-08-13 15:11:46,276 [DEBUG] DistributedKernel: Sent the following reply after yield_execute: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_81', 'msg_type': 'execute_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 46, 274103, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_81', 'msg_type': 'execute_reply', 'parent_header': {'msg_id': 'a5f00069-00b6-4fb5-8407-f21560f408a0', 'username': '', 'session': '1e0a5342-85fa-4848-b928-fb4189402f99', 'date': datetime.datetime(2024, 8, 13, 15, 11, 45, 851000, tzinfo=tzutc()), 'msg_type': 'yield_execute', 'version': '5.2'}, 'content': {'status': 'error', 'ename': 'ExecutionYieldError', 'evalue': 'Failed to lead the exectuion.', 'traceback': [], 'payload': []}, 'metadata': {'started': datetime.datetime(2024, 8, 13, 15, 11, 46, 163462, tzinfo=datetime.timezone.utc), 'dependencies_met': True, 'engine': 'e26db73f-1b87-4882-822c-8ab7f20e21f5', 'status': 'error'}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [MainThread (140737343412032)] 
2024-08-13 15:11:46,281 [DEBUG] DistributedKernel: Finished processing shell message a5f00069-00b6-4fb5-8407-f21560f408a0 of type "yield_execute" [MainThread (140737343412032)] 
2024-08-13 15:11:46,301 [DEBUG] DistributedKernel: Received control message fb2cf392-7373-4696-a89c-a47f4dba823c of type "prepare_to_migrate_request" [Control (140735131149888)] 
2024-08-13 15:11:46,304 [DEBUG] DistributedKernel: Sent 'ACK' for control prepare_to_migrate_request message "fb2cf392-7373-4696-a89c-a47f4dba823c": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_84', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 46, 304003, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_84', 'msg_type': 'ACK', 'parent_header': {'msg_id': 'fb2cf392-7373-4696-a89c-a47f4dba823c', 'username': 'username', 'session': '7e124e7c-e5d1105d25b18a8f45ae039b', 'date': '2024-08-13T15:11:46.300523984Z', 'msg_type': 'prepare_to_migrate_request', 'version': '1.0'}, 'content': {'type': 'prepare_to_migrate_request', 'msg_id': 'fb2cf392-7373-4696-a89c-a47f4dba823c', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'285cd012-9a28-4d5a-8359-e948698301c3', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.a6f18ce8-fc5e-4b71-ba00-ebebd75bc45c'] [Control (140735131149888)] 
2024-08-13 15:11:46,306 [INFO] DistributedKernel: Received 'prepare-to-migrate request'. [Control (140735131149888)] 
2024-08-13 15:11:46,307 [INFO] DistributedKernel: Preparing for migration of replica 2 of kernel 2ffa3dd3-f92d-449e-ac61-c6f85d9abec5. [Control (140735131149888)] 
2024-08-13 15:11:46,307 [INFO] DistributedKernel: Closing the SyncLog (and therefore the etcd-Raft process) now. [Control (140735131149888)] 
2024-08-13 15:11:46,308 [WARNING] RaftLog2: Closing LogNode 2 now. [Control (140735131149888)] 
2024-08-13 15:11:46,308 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.Close) [Control (140735131149888)] 
Calling: 'smr_LogNode_Close'
Released GIL at beginning of 'Close'
2024-08-13T15:11:46.310Z[8CINFO[4Csmr/lognode.go:720[6CClosing nodes...
2024-08-13T15:11:46.310Z[8CINFO[4Csmr/lognode.go:1581[5CClearing local proposal channel.
2024-08-13T15:11:46.310Z[8CINFO[4Csmr/lognode.go:1592[5CClearing local confChange channel.
2024-08-13T15:11:46.310Z[8CINFO[4Csmr/lognode.go:1604[5CClient closed channel(s). Shutting down Raft (if it isn't already shutdown).
2024-08-13T15:11:46.310Z[8CWARN[4Csmr/lognode.go:1683[5CLogNode 2 is stopping now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1683
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:838
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:536
2024-08-13T15:11:46.310Z[8CWARN[4Csmr/lognode.go:1438[5CStopping HTTP server now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopHTTP
[8C/go/src/in/smr/lognode.go:1438
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopServing
[8C/go/src/in/smr/lognode.go:1430
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1685
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:838
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:536
2024-08-13T15:11:46.310Z[8CINFO[4Csmr/lognode.go:691[6CWaiting for Raft node to stop...
2024-08-13T15:11:46.310Z[8CINFO[4Crafthttp/peer.go:330[4Cstopping remote peer[4C{"remote-peer-id": "3"}
2024-08-13T15:11:46.310Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "3"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
[Thread 0x7fff53fff640 (LWP 109) exited]
2024-08-13T15:11:46.310Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "3"}
2024-08-13T15:11:46.311Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream Message", "remote-peer-id": "3"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-13T15:11:46.311Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream Message", "remote-peer-id": "3"}
[New Thread 0x7fff53fff640 (LWP 131)]
[New Thread 0x7fff527fc640 (LWP 132)]
2024-08-13T15:11:46.312Z[8CINFO[4Crafthttp/pipeline.go:85 stopped HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "3"}
[New Thread 0x7fff51ffb640 (LWP 133)]
2024-08-13T15:11:46.312Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-13T15:11:46.312Z[8CWARN[4Crafthttp/peer_status.go:66[6Cpeer became inactive (message send to peer failed)[6C{"peer-id": "3", "error": "failed to read 3 on stream MsgApp v2 (context canceled)"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*peerStatus).deactivate
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/peer_status.go:66
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:435
2024-08-13T15:11:46.312Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:46.313Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-13T15:11:46.313Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "3"}
2024-08-13T15:11:46.313Z[8CINFO[4Crafthttp/peer.go:335[4Cstopped remote peer[5C{"remote-peer-id": "3"}
2024-08-13T15:11:46.313Z[8CINFO[4Crafthttp/peer.go:330[4Cstopping remote peer[4C{"remote-peer-id": "1"}
2024-08-13T15:11:46.313Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "1"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-13T15:11:46.313Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream MsgApp v2", "remote-peer-id": "1"}
2024-08-13T15:11:46.315Z[8CWARN[4Crafthttp/stream.go:286  closed TCP streaming connection with remote peer[8C{"stream-writer-type": "stream Message", "remote-peer-id": "1"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamWriter).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:286
2024-08-13T15:11:46.315Z[8CINFO[4Crafthttp/stream.go:294  stopped TCP streaming connection with remote peer[7C{"stream-writer-type": "stream Message", "remote-peer-id": "1"}
2024-08-13T15:11:46.315Z[8CINFO[4Crafthttp/pipeline.go:85 stopped HTTP pipelining with remote peer[8C{"local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:46.315Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/peer_status.go:66[6Cpeer became inactive (message send to peer failed)[6C{"peer-id": "1", "error": "failed to read 1 on stream MsgApp v2 (context canceled)"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*peerStatus).deactivate
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/peer_status.go:66
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:435
2024-08-13T15:11:46.316Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream MsgApp v2", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/stream.go:421  lost TCP streaming connection with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1", "error": "context canceled"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamReader).run
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/stream.go:421
2024-08-13T15:11:46.316Z[8CINFO[4Crafthttp/stream.go:442  stopped stream reader with remote peer  {"stream-reader-type": "stream Message", "local-member-id": "2", "remote-peer-id": "1"}
2024-08-13T15:11:46.316Z[8CINFO[4Crafthttp/peer.go:335[4Cstopped remote peer[5C{"remote-peer-id": "1"}
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "3", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "1", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "1", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-13T15:11:46.316Z[8CWARN[4Crafthttp/http.go:413[4Cfailed to find remote peer in cluster   {"local-member-id": "2", "remote-peer-id-stream-handler": "2", "remote-peer-id-from": "3", "cluster-id": "1000"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*streamHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:413
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024-08-13T15:11:46.316Z[8CWARN[4Csmr/lognode.go:1431[5CStopping raft node now.
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).stopServing
[8C/go/src/in/smr/lognode.go:1431
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).serveChannels
[8C/go/src/in/smr/lognode.go:1685
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).start
[8C/go/src/in/smr/lognode.go:838
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).Start.func1
[8C/go/src/in/smr/lognode.go:536
2024-08-13T15:11:46.317Z[8CINFO[4Csmr/lognode.go:696[6CClosed LogNode.
2024-08-13 15:11:46,317 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.Close) [Control (140735131149888)] 
2024-08-13 15:11:46,319 [DEBUG] RaftLog2: RaftLog 2 has closed. [Control (140735131149888)] 
2024-08-13 15:11:46,319 [INFO] DistributedKernel: SyncLog closed successfully. Writing etcd-Raft data directory to HDFS now. [Control (140735131149888)] 
2024-08-13 15:11:46,320 [INFO] RaftLog2: Writing etcd-Raft data directory to HDFS. [Control (140735131149888)] 
2024-08-13 15:11:46,320 [INFO] RaftLog2: Serialized important state to be written along with etcd-Raft data. Size: 2599 bytes. [Control (140735131149888)] 
2024-08-13 15:11:46,321 [DEBUG] RaftLog2: Registering callback future on _start_loop. _start_loop.is_running: True [Control (140735131149888)] 
2024-08-13 15:11:46,321 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.WriteDataDirectoryToHDFS) [Control (140735131149888)] 
[Thread 0x7fffa5fff640 (LWP 52) exited]
Calling: 'smr_LogNode_WriteDataDirectoryToHDFS'
Released GIL at beginning of 'WriteDataDirectoryToHDFS'
2024-08-13 15:11:46,329 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.WriteDataDirectoryToHDFS) [Control (140735131149888)] 
2024-08-13 15:11:46,331 [DEBUG] Future[write_data_hdfs]: Awaiting result. [Control (140735131149888)] 
2024-08-13T15:11:46.366Z[8CINFO[4Csmr/lognode.go:369[6CDialing HDFS DataNode. Original address: '127.0.0.1:9866'. Modified address: host.docker.internal:9866.

2024-08-13T15:11:46.370Z[8CERROR   smr/lognode.go:381[6CFailed to dial HDFS DataNode at address 'host.docker.internal:9866' because: dial tcp 192.168.65.254:9866: connect: connection refused
github.com/zhangjyr/distributed-notebook/smr.NewLogNode.func2
[8C/go/src/in/smr/lognode.go:381
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).connectNext
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:129
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:76
github.com/colinmarc/hdfs/v2.(*FileWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/file_writer.go:191
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeRaftLogSerializedStateToHdfs
[8C/go/src/in/smr/lognode.go:1003
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1185
2024-08-13T15:11:46.370Z[8CERROR   smr/lognode.go:1005[5CError while writing serialized state to file.   {"path": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/serialized_raft_log_states/serialized_state.json-node2.json", "error": "dial tcp 192.168.65.254:9866: connect: connection refused"}
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeRaftLogSerializedStateToHdfs
[8C/go/src/in/smr/lognode.go:1005
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1185
2024-08-13T15:11:46.376Z[8CINFO[4Csmr/lognode.go:1067[5CFound local directory '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2'[5C{"directory": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"}
2024-08-13T15:11:46.378Z[8CINFO[4Csmr/lognode.go:1075[5CSuccessfully created remote (HDFS) directory: '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2'[5C{"directory": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2"}
2024-08-13T15:11:46.378Z[8CINFO[4Csmr/lognode.go:1077[5CFound local file '/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2/0000000000000000-0000000000000000.wal'[4C{"file": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2/0000000000000000-0000000000000000.wal"}
2024-08-13T15:11:46.419Z[8CINFO[4Csmr/lognode.go:369[6CDialing HDFS DataNode. Original address: '127.0.0.1:9866'. Modified address: host.docker.internal:9866.

2024-08-13T15:11:46.423Z[8CERROR   smr/lognode.go:381[6CFailed to dial HDFS DataNode at address 'host.docker.internal:9866' because: dial tcp 192.168.65.254:9866: connect: connection refused
github.com/zhangjyr/distributed-notebook/smr.NewLogNode.func2
[8C/go/src/in/smr/lognode.go:381
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).connectNext
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:129
github.com/colinmarc/hdfs/v2/internal/transfer.(*BlockWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/internal/transfer/block_writer.go:76
github.com/colinmarc/hdfs/v2.(*FileWriter).Write
[8C/go/pkg/mod/github.com/colinmarc/hdfs/v2@v2.4.0/file_writer.go:191
io.copyBuffer
[8C/usr/local/go/src/io/io.go:431
io.Copy
[8C/usr/local/go/src/io/io.go:388
os.genericWriteTo
[8C/usr/local/go/src/os/file.go:269
os.(*File).WriteTo
[8C/usr/local/go/src/os/file.go:247
io.copyBuffer
[8C/usr/local/go/src/io/io.go:411
io.Copy
[8C/usr/local/go/src/io/io.go:388
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs.func1
[8C/go/src/in/smr/lognode.go:1112
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:443
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:465
path/filepath.WalkDir
[8C/usr/local/go/src/path/filepath/path.go:533
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs
[8C/go/src/in/smr/lognode.go:1064
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1188
2024-08-13T15:11:46.423Z[8CERROR   smr/lognode.go:1114[5CFailed to copy local file to HDFS.[6C{"path": "/storage/store/695c1414-2924-40ee-8318-10a15ca062de/dnlog-2/0000000000000000-0000000000000000.wal", "error": "dial tcp 192.168.65.254:9866: connect: connection refused"}
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs.func1
[8C/go/src/in/smr/lognode.go:1114
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:443
path/filepath.walkDir
[8C/usr/local/go/src/path/filepath/path.go:465
path/filepath.WalkDir
[8C/usr/local/go/src/path/filepath/path.go:533
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeLocalDirectoryToHdfs
[8C/go/src/in/smr/lognode.go:1064
github.com/zhangjyr/distributed-notebook/smr.(*LogNode).writeDataDirectoryToHDFSImpl
[8C/go/src/in/smr/lognode.go:1188
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Preparing to call into Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Acquired GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Setting up Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Setup Python arguments tuple for Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Calling into Python callback of type smr.ResolveCallback now [smr_LogNode_WriteDataDirectoryToHDFS] 
Returned from Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
Released GIL in Python callback of type smr.ResolveCallback [smr_LogNode_WriteDataDirectoryToHDFS] 
[Thread 0x7fff52ffd640 (LWP 129) exited]
2024-08-13 15:11:46,430 [DEBUG] Future[write_data_hdfs]: Setting exception to: dial tcp 192.168.65.254:9866: connect: connection refused [Control (140735131149888)] 
2024-08-13 15:11:46,431 [DEBUG] Future[write_data_hdfs]: Setting exception to: dial tcp 192.168.65.254:9866: connect: connection refused [Control (140735131149888)] 
2024-08-13 15:11:46,431 [ERROR] DistributedKernel: Failed to write the data directory of replica 2 of kernel 2ffa3dd3-f92d-449e-ac61-c6f85d9abec5 to HDFS: dial tcp 192.168.65.254:9866: connect: connection refused [Control (140735131149888)] 
2024-08-13 15:11:46,434 [ERROR] DistributedKernel: Traceback (most recent call last):
 [Control (140735131149888)] 
2024-08-13 15:11:46,434 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/kernel/kernel.py", line 1167, in prepare_to_migrate
    waldir_path:str = await self.synclog.write_data_dir_to_hdfs()
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 [Control (140735131149888)] 
2024-08-13 15:11:46,435 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/sync/raft_log2.py", line 1416, in write_data_dir_to_hdfs
    waldir_path:str = await future.result()
                      ^^^^^^^^^^^^^^^^^^^^^
 [Control (140735131149888)] 
2024-08-13 15:11:46,436 [ERROR] DistributedKernel:   File "/usr/local/lib/python3.11/site-packages/distributed_notebook/sync/future.py", line 27, in result
    res: Any = await self.future
               ^^^^^^^^^^^^^^^^^
 [Control (140735131149888)] 
2024-08-13 15:11:46,437 [ERROR] DistributedKernel: distributed_notebook.sync.errors.SyncError: dial tcp 192.168.65.254:9866: connect: connection refused
 [Control (140735131149888)] 
2024-08-13 15:11:46,438 [DEBUG] DistributedKernel: Sending 'error_report' message for error "Failed to Write HDFS Data Directory" now... [Control (140735131149888)] 
2024-08-13 15:11:46,439 [DEBUG] DistributedKernel: Sent 'error_report' message: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_85', 'msg_type': 'error_report', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 46, 438796, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_85', 'msg_type': 'error_report', 'parent_header': {}, 'content': {'error': 'Failed to Write HDFS Data Directory', 'message': 'dial tcp 192.168.65.254:9866: connect: connection refused', 'kernel_id': '2ffa3dd3-f92d-449e-ac61-c6f85d9abec5'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735131149888)] 
2024-08-13 15:11:46,440 [INFO] RaftLog2: >> CALLING INTO GO CODE (_log_node.CloseHdfsClient) [Control (140735131149888)] 
Calling: 'smr_LogNode_CloseHdfsClient'
Released GIL at beginning of 'CloseHdfsClient'
2024-08-13 15:11:46,442 [INFO] RaftLog2: << RETURNED FROM GO CODE (_log_node.CloseHdfsClient) [Control (140735131149888)] 
2024-08-13 15:11:46,448 [ERROR] DistributedKernel: Failed to prepare to migrate... [Control (140735131149888)] 
2024-08-13 15:11:46,449 [DEBUG] DistributedKernel: Sending 'prepare_to_migrate_reply' response now. [Control (140735131149888)] 
2024-08-13 15:11:46,450 [DEBUG] DistributedKernel: Sent 'prepare_to_migrate_reply message: {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_86', 'msg_type': 'prepare_to_migrate_reply', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 46, 449889, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_86', 'msg_type': 'prepare_to_migrate_reply', 'parent_header': {'msg_id': 'fb2cf392-7373-4696-a89c-a47f4dba823c', 'username': 'username', 'session': '7e124e7c-e5d1105d25b18a8f45ae039b', 'date': '2024-08-13T15:11:46.300523984Z', 'msg_type': 'prepare_to_migrate_request', 'version': '1.0'}, 'content': {'status': 'error', 'ename': 'SyncError', 'evalue': 'dial tcp 192.168.65.254:9866: connect: connection refused', 'traceback': []}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>} [Control (140735131149888)] 
2024-08-13 15:11:46,453 [DEBUG] DistributedKernel: Finished processing control message fb2cf392-7373-4696-a89c-a47f4dba823c of type "prepare_to_migrate_request" [Control (140735131149888)] 
2024-08-13T15:11:47.491Z[8CWARN[4Crafthttp/http.go:145[4Cfailed to process Raft message  {"local-member-id": "2", "error": "raft: stopped"}
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*pipelineHandler).ServeHTTP
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:145
net/http.(*ServeMux).ServeHTTP
[8C/usr/local/go/src/net/http/server.go:2688
net/http.serverHandler.ServeHTTP
[8C/usr/local/go/src/net/http/server.go:3142
net/http.(*conn).serve
[8C/usr/local/go/src/net/http/server.go:2044
2024/08/13 15:11:47 http: panic serving 172.18.0.11:56264: raft: stopped
goroutine 48 [running]:
net/http.(*conn).serve.func1()
[8C/usr/local/go/src/net/http/server.go:1903 +0x13f
panic({0x7ffff3aa0720?, 0xc0002067b0?})
[8C/usr/local/go/src/runtime/panic.go:770 +0x136
go.etcd.io/etcd/server/v3/etcdserver/api/rafthttp.(*pipelineHandler).ServeHTTP(0xc000208240, {0x7ffff3ba7878, 0xc000f7ca80}, 0xc0011aa240)
[8C/go/pkg/mod/go.etcd.io/etcd/server/v3@v3.5.2/etcdserver/api/rafthttp/http.go:153 +0x1189
net/http.(*ServeMux).ServeHTTP(0xc000210340, {0x7ffff3ba7878, 0xc000f7ca80}, 0xc0011aa240)
[8C/usr/local/go/src/net/http/server.go:2688 +0x37e
net/http.serverHandler.ServeHTTP({0xc00029e3c0}, {0x7ffff3ba7878, 0xc000f7ca80}, 0xc0011aa240)
[8C/usr/local/go/src/net/http/server.go:3142 +0x257
net/http.(*conn).serve(0xc000446ea0, {0x7ffff3ba8930, 0xc0004060f0})
[8C/usr/local/go/src/net/http/server.go:2044 +0x1ab5
created by net/http.(*Server).Serve in goroutine 102
[8C/usr/local/go/src/net/http/server.go:3290 +0xa9a
2024-08-13 15:11:51,459 [DEBUG] DistributedKernel: Received control message 8ad20d61-53b3-4c4c-aa79-faddd7611aba of type "shutdown_request" [Control (140735131149888)] 
2024-08-13 15:11:51,461 [DEBUG] DistributedKernel: Sent 'ACK' for control shutdown_request message "8ad20d61-53b3-4c4c-aa79-faddd7611aba": {'header': {'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_89', 'msg_type': 'ACK', 'username': 'username', 'session': 'a97177f0-00633d69ca60903e8de95440', 'date': datetime.datetime(2024, 8, 13, 15, 11, 51, 461072, tzinfo=datetime.timezone.utc), 'version': '5.3'}, 'msg_id': 'a97177f0-00633d69ca60903e8de95440_45_89', 'msg_type': 'ACK', 'parent_header': {'msg_id': '8ad20d61-53b3-4c4c-aa79-faddd7611aba', 'username': 'username', 'session': '7e124e7c-e5d1105d25b18a8f45ae039b', 'date': '2024-08-13T15:11:51.457841907Z', 'msg_type': 'shutdown_request', 'version': '1.0'}, 'content': {'type': 'shutdown_request', 'msg_id': '8ad20d61-53b3-4c4c-aa79-faddd7611aba', 'source': 'PYTHON KERNEL'}, 'metadata': {}, 'tracker': <zmq.sugar.tracker.MessageTracker object at 0x7ffff5de1e10>}. Idents: [b'285cd012-9a28-4d5a-8359-e948698301c3', b'dest.2ffa3dd3-f92d-449e-ac61-c6f85d9abec5.req.9ac03dac-b95b-43ca-a1bd-2d3be9673042'] [Control (140735131149888)] 
2024-08-13 15:11:51,463 [INFO] DistributedKernel: Replica 2 of kernel 2ffa3dd3-f92d-449e-ac61-c6f85d9abec5 is shutting down. [Control (140735131149888)] 
2024-08-13 15:11:51,464 [INFO] DistributedKernel: Closing the Synchronizer. [Control (140735131149888)] 
2024-08-13 15:11:51,465 [INFO] DistributedKernel: Successfully closed the Synchronizer. [Control (140735131149888)] 
2024-08-13 15:11:51,465 [INFO] DistributedKernel: Not stopping/removing node from etcd/raft cluster. [Control (140735131149888)] 
2024-08-13 15:11:51,470 [DEBUG] DistributedKernel: Sending <Signals.SIGTERM: 15> to subprocess psutil.Process(pid=69, name='python', status='sleeping', started='15:11:37') [Control (140735131149888)] 
2024-08-13 15:11:51,471 [DEBUG] DistributedKernel: Will sleep 0.01 sec before checking for children and retrying. [psutil.Process(pid=69, name='python', status='running', started='15:11:37')] [Control (140735131149888)] 
2024-08-13 15:11:51,484 [DEBUG] DistributedKernel: Sending <Signals.SIGTERM: 15> to subprocess psutil.Process(pid=69, name='python', status='zombie', started='15:11:37') [Control (140735131149888)] 
2024-08-13 15:11:51,486 [DEBUG] DistributedKernel: Will sleep 0.03 sec before checking for children and retrying. [psutil.Process(pid=69, name='python', status='zombie', started='15:11:37')] [Control (140735131149888)] 
