package scheduling_test

import (
	"errors"
	"fmt"
	. "github.com/onsi/ginkgo/v2"
	. "github.com/onsi/gomega"
	"github.com/zhangjyr/distributed-notebook/common/scheduling"
	"github.com/zhangjyr/distributed-notebook/common/types"
)

func containsOffendingResourceKind(lst []scheduling.ResourceKind, target scheduling.ResourceKind) bool {
	for _, elem := range lst {
		if elem == target {
			return true
		}
	}

	return false
}

var _ = Describe("ResourceManager", func() {
	var resourceManager *scheduling.ResourceManager

	Context("Standard ResourceManager resource spec", func() {
		resourceManagerSpec := types.NewDecimalSpec(8000, 64000, 8, 32)

		BeforeEach(func() {
			resourceManager = scheduling.NewResourceManager(resourceManagerSpec)
		})

		It("Will correctly handle a series of allocations and de-allocations", func() {
			kernel1Spec := types.NewDecimalSpec(1000, 2000, 2, 4)
			kernel2Spec := types.NewDecimalSpec(2000, 4000, 6, 12)
			kernel3Spec := types.NewDecimalSpec(5000, 12000, 2, 3)
			kernel4Spec := types.NewDecimalSpec(500, 1000, 1, 1)

			specs := []*types.DecimalSpec{kernel1Spec, kernel2Spec, kernel3Spec, kernel4Spec}

			sumFirstNSpecs := func(n int) *types.DecimalSpec {
				sumSpec := types.NewDecimalSpec(0, 0, 0, 0)

				for i := 0; i < n; i++ {
					sumSpec = sumSpec.Add(specs[i])
				}

				return sumSpec
			}

			By("Correctly handling all the replicas being scheduled (pending)")
			for i, spec := range specs {
				err := resourceManager.KernelReplicaScheduled(1, fmt.Sprintf("Kernel%d", i+1), spec)

				Expect(err).To(BeNil())

				Expect(resourceManager.NumAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumPendingAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))

				Expect(resourceManager.IdleResources()).To(Equal(resourceManagerSpec))
				Expect(resourceManager.CommittedResources().IsZero()).To(BeTrue())

				sumSpec := sumFirstNSpecs(i + 1)
				Expect(sumSpec).ToNot(BeNil())

				GinkgoWriter.Printf("sumSpec: %s\n", sumSpec.String())
				GinkgoWriter.Printf("resourceManager.PendingResources(): %s\n", resourceManager.PendingResources().String())

				Expect(resourceManager.PendingResources().Equals(sumSpec)).To(BeTrue())
			}

			// The code below is generated by the scripts/gen_res_mgr_unit_test.py Python script.

			var err error
			var ok bool
			var insufficientResourcesError *scheduling.InsufficientResourcesError

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())
		})

		It("Will correctly handle another even longer series of allocations and de-allocations", func() {
			kernel1Spec := types.NewDecimalSpec(1000, 2000, 2, 4)
			kernel2Spec := types.NewDecimalSpec(2000, 4000, 6, 12)
			kernel3Spec := types.NewDecimalSpec(5000, 12000, 2, 3)
			kernel4Spec := types.NewDecimalSpec(500, 1000, 1, 1)

			specs := []*types.DecimalSpec{kernel1Spec, kernel2Spec, kernel3Spec, kernel4Spec}

			sumFirstNSpecs := func(n int) *types.DecimalSpec {
				sumSpec := types.NewDecimalSpec(0, 0, 0, 0)

				for i := 0; i < n; i++ {
					sumSpec = sumSpec.Add(specs[i])
				}

				return sumSpec
			}

			By("Correctly handling all the replicas being scheduled (pending)")
			for i, spec := range specs {
				err := resourceManager.KernelReplicaScheduled(1, fmt.Sprintf("Kernel%d", i+1), spec)

				Expect(err).To(BeNil())

				Expect(resourceManager.NumAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumPendingAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))

				Expect(resourceManager.IdleResources()).To(Equal(resourceManagerSpec))
				Expect(resourceManager.CommittedResources().IsZero()).To(BeTrue())

				sumSpec := sumFirstNSpecs(i + 1)
				Expect(sumSpec).ToNot(BeNil())

				GinkgoWriter.Printf("sumSpec: %s\n", sumSpec.String())
				GinkgoWriter.Printf("resourceManager.PendingResources(): %s\n", resourceManager.PendingResources().String())

				Expect(resourceManager.PendingResources().Equals(sumSpec)).To(BeTrue())
			}

			// The code below is generated by the scripts/gen_res_mgr_unit_test.py Python script.
			var err error
			var ok bool
			var insufficientResourcesError *scheduling.InsufficientResourcesError

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel4Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel1Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel1Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel4Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))
		})
	})

	It("Will handle an extremely long series of allocations and de-allocations involving many kernels", func() {
		var err error
		var ok bool
		var insufficientResourcesError *scheduling.InsufficientResourcesError
		resourceManagerSpec := types.NewDecimalSpec(128000, 512000, 64, 512)
		resourceManager = scheduling.NewResourceManager(resourceManagerSpec)
		kernel1Spec := types.NewDecimalSpec(2823, 23847, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel1", kernel1Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
		kernel2Spec := types.NewDecimalSpec(986, 10336, 5, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel2", kernel2Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
		kernel3Spec := types.NewDecimalSpec(1822, 19241, 4, 3)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel3", kernel3Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
		kernel4Spec := types.NewDecimalSpec(1000, 10558, 2, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel4", kernel4Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(4))
		kernel5Spec := types.NewDecimalSpec(2597, 11178, 3, 3)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel5", kernel5Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(5))
		kernel6Spec := types.NewDecimalSpec(1896, 12627, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel6", kernel6Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(6))
		kernel7Spec := types.NewDecimalSpec(2052, 8638, 2, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel7", kernel7Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(7))
		kernel8Spec := types.NewDecimalSpec(2088, 8968, 2, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel8", kernel8Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(8))
		kernel9Spec := types.NewDecimalSpec(2110, 8415, 1, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel9", kernel9Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(9))
		kernel10Spec := types.NewDecimalSpec(1978, 20701, 5, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel10", kernel10Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(10))
		kernel11Spec := types.NewDecimalSpec(2407, 11046, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel11", kernel11Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(11))
		kernel12Spec := types.NewDecimalSpec(1970, 11456, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel12", kernel12Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		kernel13Spec := types.NewDecimalSpec(1953, 13967, 2, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel13", kernel13Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		kernel14Spec := types.NewDecimalSpec(3174, 5700, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel14", kernel14Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		kernel15Spec := types.NewDecimalSpec(1471, 19111, 6, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel15", kernel15Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		kernel16Spec := types.NewDecimalSpec(1164, 3539, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel16", kernel16Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		kernel17Spec := types.NewDecimalSpec(2531, 11251, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel17", kernel17Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		kernel18Spec := types.NewDecimalSpec(1627, 6404, 2, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel18", kernel18Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		kernel19Spec := types.NewDecimalSpec(3308, 13305, 3, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel19", kernel19Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		kernel20Spec := types.NewDecimalSpec(984, 6913, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel20", kernel20Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		kernel21Spec := types.NewDecimalSpec(2391, 14139, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel21", kernel21Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		kernel22Spec := types.NewDecimalSpec(1890, 13032, 5, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel22", kernel22Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		kernel23Spec := types.NewDecimalSpec(2912, 9075, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel23", kernel23Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		kernel24Spec := types.NewDecimalSpec(2044, 1384, 5, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel24", kernel24Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		kernel25Spec := types.NewDecimalSpec(2732, 8366, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel25", kernel25Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		kernel26Spec := types.NewDecimalSpec(2887, 11530, 2, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel26", kernel26Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		kernel27Spec := types.NewDecimalSpec(2550, 14316, 5, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel27", kernel27Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		kernel28Spec := types.NewDecimalSpec(1393, 20101, 6, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel28", kernel28Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		kernel29Spec := types.NewDecimalSpec(1711, 12630, 2, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel29", kernel29Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		kernel30Spec := types.NewDecimalSpec(1568, 13105, 6, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel30", kernel30Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		kernel31Spec := types.NewDecimalSpec(1351, 9945, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel31", kernel31Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		kernel32Spec := types.NewDecimalSpec(2451, 14391, 5, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel32", kernel32Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125403, 500822, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2597, 11178, 3, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126607, 491899, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1393, 20101, 6, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125890, 503585, 63, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2110, 8415, 1, 1))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(127000, 501442, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 10558, 2, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125890, 503585, 63, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2110, 8415, 1, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124419, 484474, 57, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3581, 27526, 7, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126529, 492889, 58, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1471, 19111, 6, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125948, 503362, 62, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2052, 8638, 2, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123417, 492111, 59, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4583, 19889, 5, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121439, 471410, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6561, 40590, 10, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118527, 462335, 50, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9473, 49665, 14, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121058, 473586, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6942, 38414, 11, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120074, 466673, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7926, 45327, 15, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122052, 487374, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5948, 24626, 10, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120162, 474342, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7838, 37658, 15, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117711, 459951, 44, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10289, 52049, 20, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119601, 472983, 49, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8399, 39017, 15, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121653, 481621, 51, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6347, 30379, 13, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119609, 480237, 46, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8391, 31763, 18, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122521, 489312, 50, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5479, 22688, 14, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120543, 468611, 45, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7457, 43389, 19, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119543, 458053, 43, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8457, 53947, 21, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121587, 459437, 48, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6413, 52563, 16, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122571, 466350, 52, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5429, 45650, 12, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119397, 460650, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8603, 51350, 15, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117770, 454246, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10230, 57754, 17, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120221, 468637, 52, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7779, 43363, 12, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117309, 459562, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10691, 52438, 16, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115413, 446935, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12587, 65065, 20, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113702, 434305, 42, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14298, 77695, 22, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115413, 446935, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12587, 65065, 20, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117309, 459562, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10691, 52438, 16, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115413, 446935, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12587, 65065, 20, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118587, 452635, 47, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9413, 59365, 17, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116196, 438496, 43, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11804, 73504, 21, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117196, 449054, 45, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10804, 62946, 19, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119587, 463193, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8413, 48807, 15, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121483, 475820, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6517, 36180, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118886, 464642, 50, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9114, 47358, 14, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121483, 475820, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6517, 36180, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119395, 466852, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8605, 45148, 13, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118409, 456516, 46, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9591, 55484, 18, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120497, 465484, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7503, 46516, 16, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119026, 446373, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8974, 65627, 22, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120497, 465484, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7503, 46516, 16, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122124, 471888, 50, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5876, 40112, 14, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124102, 492589, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3898, 19411, 9, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123118, 485676, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4882, 26324, 13, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126030, 494751, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1970, 17249, 9, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124559, 475640, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3441, 36360, 15, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121962, 464462, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6038, 47538, 18, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122946, 471375, 50, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5054, 40625, 14, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123932, 481711, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4068, 30289, 9, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121844, 472743, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6156, 39257, 11, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123932, 481711, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4068, 30289, 9, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122946, 471375, 50, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5054, 40625, 14, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123932, 481711, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4068, 30289, 9, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126529, 492889, 58, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1471, 19111, 6, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123642, 481359, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4358, 30641, 8, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125113, 500470, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2887, 11530, 2, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125549, 497609, 59, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2451, 14391, 5, 0))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126104, 499373, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1896, 12627, 4, 1))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126289, 499370, 62, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1711, 12630, 2, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125303, 489034, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2697, 22966, 7, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124139, 485495, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3861, 26505, 11, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122169, 474039, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5831, 37961, 15, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123155, 484375, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4845, 27625, 10, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120558, 473197, 51, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7442, 38803, 13, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118514, 471813, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9486, 40187, 18, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116404, 463398, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11596, 48602, 19, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114352, 454760, 43, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13648, 57240, 21, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112264, 445792, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15736, 66208, 23, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109873, 431653, 37, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18127, 80347, 27, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111037, 435192, 41, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16963, 76808, 23, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108506, 423941, 38, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19494, 88059, 26, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110897, 438080, 42, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17103, 73920, 22, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109733, 434541, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18267, 77459, 26, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106821, 425466, 34, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21179, 86534, 30, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108532, 438096, 36, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19468, 73904, 28, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107532, 427538, 34, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20468, 84462, 30, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105636, 414911, 30, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22364, 97089, 34, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102328, 401606, 27, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25672, 110394, 37, 16))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104224, 414233, 31, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23776, 97767, 33, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106268, 415617, 36, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21732, 96383, 28, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109576, 428922, 39, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18424, 83078, 25, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112488, 437997, 43, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15512, 74003, 21, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114598, 446412, 44, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13402, 65588, 20, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116650, 455050, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11350, 56950, 18, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113342, 441745, 43, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14658, 70255, 21, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114342, 452303, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13658, 59697, 19, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117650, 465608, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10350, 46392, 16, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115760, 452576, 43, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12240, 59424, 21, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118357, 463754, 46, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9643, 48246, 18, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115950, 452708, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12050, 59292, 22, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113972, 432007, 37, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14028, 79993, 27, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116503, 443258, 40, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11497, 68742, 24, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113906, 432080, 37, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14094, 79920, 27, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115994, 441048, 39, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12006, 70952, 25, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113950, 439664, 34, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14050, 72336, 30, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112128, 420423, 30, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15872, 91577, 34, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109396, 412057, 26, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18604, 99943, 38, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111374, 432758, 31, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16626, 79242, 33, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113196, 451999, 35, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14804, 60001, 29, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110309, 440469, 33, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17691, 71531, 31, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109323, 430133, 28, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18677, 81867, 36, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106792, 418882, 25, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21208, 93118, 39, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103618, 413182, 22, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24382, 98818, 42, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106025, 424228, 26, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21975, 87772, 38, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108757, 432594, 30, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19243, 79406, 34, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111288, 443845, 33, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16712, 68155, 31, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113178, 456877, 38, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14822, 55123, 26, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110355, 433030, 34, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17645, 78970, 30, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108533, 413789, 30, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19467, 98211, 34, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111356, 437636, 34, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16644, 74364, 30, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114530, 443336, 37, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13470, 68664, 27, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117417, 454866, 39, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10583, 57134, 25, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119461, 456250, 44, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8539, 55750, 20, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117893, 443145, 38, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10107, 68855, 26, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116266, 436741, 36, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11734, 75259, 28, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117430, 440280, 40, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10570, 71720, 24, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120027, 451458, 43, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7973, 60542, 21, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118676, 441513, 39, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9324, 70487, 25, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116145, 430262, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11855, 81738, 28, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117713, 443367, 42, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10287, 68633, 22, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119340, 449771, 44, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8660, 62229, 20, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116453, 438241, 42, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11547, 73759, 22, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118423, 449697, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9577, 62303, 18, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121310, 461227, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6690, 50773, 16, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118002, 447922, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9998, 64078, 19, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115179, 424075, 41, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12821, 87925, 23, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116165, 434411, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11835, 77589, 18, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118988, 458258, 50, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9012, 53742, 14, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120339, 468203, 54, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7661, 43797, 10, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122161, 487444, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5839, 24556, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124692, 498695, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3308, 13305, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125549, 497609, 59, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2451, 14391, 5, 0))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122726, 473762, 55, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5274, 38238, 9, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121375, 463817, 51, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6625, 48183, 13, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118643, 455451, 47, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9357, 56549, 17, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115469, 449751, 44, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12531, 62249, 20, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118643, 455451, 47, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9357, 56549, 17, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121466, 479298, 51, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6534, 32702, 13, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124198, 487664, 55, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3802, 24336, 9, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121667, 476413, 52, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6333, 35587, 12, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119777, 463381, 47, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8223, 48619, 17, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117807, 451925, 43, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10193, 60075, 21, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119158, 461870, 47, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8842, 50130, 17, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117048, 453455, 46, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10952, 58545, 18, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114451, 442277, 43, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13549, 69723, 21, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116421, 453733, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11579, 58267, 17, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114794, 447329, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13206, 64671, 19, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113443, 437384, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14557, 74616, 23, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112443, 426826, 39, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15557, 85174, 25, 12))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110355, 417858, 37, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17645, 94142, 27, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112465, 426273, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15535, 85727, 26, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111481, 419360, 34, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16519, 92640, 30, 13))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113108, 425764, 36, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14892, 86236, 28, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109800, 412459, 33, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18200, 99541, 31, 13))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112251, 426850, 38, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15749, 85150, 26, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109428, 403003, 34, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18572, 108997, 30, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108035, 382902, 28, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19965, 129098, 36, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107049, 372566, 23, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20951, 139434, 41, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108400, 382511, 27, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19600, 129489, 37, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110997, 393689, 30, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17003, 118311, 34, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109526, 374578, 24, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18474, 137422, 40, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107573, 360611, 22, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20427, 151389, 42, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105182, 346472, 18, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22818, 165528, 46, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103555, 340068, 16, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24445, 171932, 48, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104555, 350626, 18, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23445, 161374, 46, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102733, 331385, 14, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25267, 180615, 50, 21))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100763, 319929, 10, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27237, 192071, 54, 22))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98785, 299228, 5, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29215, 212772, 59, 24))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96741, 297844, 0, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31259, 214156, 64, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98719, 318545, 5, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29281, 193455, 59, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101542, 342392, 9, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26458, 169608, 55, 21))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98630, 333317, 5, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29370, 178683, 59, 22))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96179, 318926, 0, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31821, 193074, 64, 22))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel25Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96179, 318926, 0, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31821, 193074, 64, 22))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98223, 320310, 5, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29777, 191690, 59, 21))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99694, 339421, 11, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28306, 172579, 53, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100678, 346334, 15, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27322, 165666, 49, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103129, 360725, 20, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24871, 151275, 44, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101418, 348095, 18, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26582, 163905, 46, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103129, 360725, 20, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24871, 151275, 44, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105019, 373757, 25, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22981, 138243, 39, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107931, 382832, 29, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20069, 129168, 35, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109324, 402933, 35, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18676, 109067, 29, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107853, 383822, 29, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20147, 128178, 35, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109941, 392790, 31, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18059, 119210, 33, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110927, 403126, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17073, 108874, 28, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113318, 417265, 40, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14682, 94735, 24, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115288, 428721, 44, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12712, 83279, 20, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118596, 442026, 47, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9404, 69974, 17, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120418, 461267, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7582, 50733, 13, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118330, 452299, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9670, 59701, 15, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116278, 443661, 47, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11722, 68339, 17, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114382, 431034, 43, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13618, 80966, 21, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113382, 420476, 41, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14618, 91524, 23, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112398, 413563, 37, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15602, 98437, 27, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109575, 389716, 33, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18425, 122284, 31, 13))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111663, 398684, 35, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16337, 113316, 29, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113134, 417795, 41, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14866, 94205, 23, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115030, 430422, 45, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12970, 81578, 19, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112942, 421454, 43, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15058, 90546, 21, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111120, 402213, 39, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16880, 109787, 25, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109727, 382112, 33, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18273, 129888, 31, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108563, 378573, 29, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19437, 133427, 35, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105676, 367043, 27, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22324, 144957, 37, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107498, 386284, 31, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20502, 125716, 33, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104586, 377209, 27, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23414, 134791, 37, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105586, 387767, 29, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22414, 124233, 35, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103476, 379352, 28, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24524, 132648, 36, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104460, 386265, 32, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23540, 125735, 32, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106991, 397516, 35, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21009, 114484, 29, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106005, 387180, 30, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21995, 124820, 34, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103598, 376134, 26, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24402, 135866, 38, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106421, 399981, 30, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21579, 112019, 34, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104853, 386876, 24, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23147, 125124, 40, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106941, 395844, 26, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21059, 116156, 38, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104209, 387478, 22, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23791, 124522, 42, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107121, 396553, 26, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20879, 115447, 38, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105299, 377312, 22, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22701, 134688, 42, 21))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107409, 385727, 23, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20591, 126273, 41, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105365, 384343, 18, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22635, 127657, 46, 21))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103255, 375928, 17, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24745, 136072, 47, 22))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104823, 389033, 23, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23177, 122967, 41, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105987, 392572, 27, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22013, 119428, 37, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104017, 381116, 23, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23983, 130884, 41, 19))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103017, 370558, 21, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24983, 141442, 43, 21))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105127, 378973, 22, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22873, 133027, 42, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107859, 387339, 26, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20141, 124661, 38, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109486, 393743, 28, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18514, 118257, 36, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106936, 379427, 23, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21064, 132573, 41, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109486, 393743, 28, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18514, 118257, 36, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110879, 413844, 34, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17121, 98156, 30, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111865, 424180, 39, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16135, 87820, 25, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110879, 413844, 34, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17121, 98156, 30, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112849, 425300, 38, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15151, 86700, 26, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110299, 410984, 33, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17701, 101016, 31, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107908, 396845, 29, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20092, 115155, 35, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110795, 408375, 31, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17205, 103625, 33, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111795, 418933, 33, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16205, 93067, 31, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113617, 438174, 37, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14383, 73826, 27, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111020, 426996, 34, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16980, 85004, 30, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108910, 418581, 33, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19090, 93419, 31, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109896, 428917, 38, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18104, 83083, 26, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108328, 415812, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19672, 96188, 32, 12))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105441, 404282, 30, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22559, 107718, 34, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108328, 415812, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19672, 96188, 32, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105154, 410112, 29, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22846, 101888, 35, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103990, 406573, 25, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24010, 105427, 39, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106381, 420712, 29, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21619, 91288, 35, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108334, 434679, 31, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19666, 77321, 33, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106381, 420712, 29, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21619, 91288, 35, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108334, 434679, 31, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19666, 77321, 33, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106356, 413978, 26, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21644, 98022, 38, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104729, 407574, 24, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23271, 104426, 40, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106839, 415989, 25, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21161, 96011, 39, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105446, 395888, 19, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22554, 116112, 45, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106839, 415989, 25, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21161, 96011, 39, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104943, 403362, 21, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23057, 108638, 43, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103472, 384251, 15, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24528, 127749, 49, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102121, 374306, 11, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25879, 137694, 53, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103748, 380710, 13, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24252, 131290, 51, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105099, 390655, 17, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22901, 121345, 47, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107696, 401833, 20, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20304, 110167, 44, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110103, 412879, 24, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17897, 99121, 40, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113277, 418579, 27, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14723, 93421, 37, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111189, 409611, 25, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16811, 102389, 39, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113739, 423927, 30, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14261, 88073, 34, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111629, 415512, 29, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16371, 96488, 35, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113717, 424480, 31, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14283, 87520, 33, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110894, 400633, 27, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17106, 111367, 37, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108924, 389177, 23, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19076, 122823, 41, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107573, 379232, 19, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20427, 132768, 45, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105485, 370264, 17, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22515, 141736, 47, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102177, 356959, 14, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25823, 155041, 50, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104229, 365597, 16, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23771, 146403, 48, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107537, 378902, 19, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20463, 133098, 45, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105584, 364935, 17, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22416, 147065, 47, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103873, 352305, 15, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24127, 159695, 49, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101821, 343667, 13, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26179, 168333, 51, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100837, 336754, 9, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27163, 175246, 55, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102889, 345392, 11, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25111, 166608, 53, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104240, 355337, 15, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23760, 156663, 49, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106210, 366793, 19, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21790, 145207, 45, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103036, 361093, 16, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24964, 150907, 48, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100505, 349842, 13, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27495, 162158, 51, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97955, 335526, 8, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30045, 176474, 56, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96955, 324968, 6, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31045, 187032, 58, 20))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95133, 305727, 2, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32867, 206273, 62, 23))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96297, 309266, 6, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31703, 202734, 58, 21))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98193, 321893, 10, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29807, 190107, 54, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100146, 335860, 12, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27854, 176140, 52, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96838, 322555, 9, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31162, 189445, 55, 21))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95852, 312219, 4, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32148, 199781, 60, 23))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96838, 322555, 9, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31162, 189445, 55, 21))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99661, 346402, 13, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28339, 165598, 51, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97708, 332435, 11, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30292, 179565, 53, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98692, 339348, 15, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29308, 172652, 49, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95805, 327818, 13, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32195, 184182, 51, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97516, 340448, 15, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30484, 171552, 49, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100403, 351978, 17, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27597, 160022, 47, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99417, 341642, 12, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28583, 170358, 52, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101239, 360883, 16, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26761, 151117, 48, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98352, 349353, 14, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29648, 162647, 50, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100305, 363320, 16, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27695, 148680, 48, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98352, 349353, 14, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29648, 162647, 50, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100902, 363669, 19, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27098, 148331, 45, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102880, 384370, 24, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25120, 127630, 40, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100148, 376004, 20, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27852, 135996, 44, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97236, 366929, 16, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30764, 145071, 48, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99968, 375295, 20, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28032, 136705, 44, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101536, 388400, 26, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26464, 123600, 38, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104423, 399930, 28, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23577, 112070, 36, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107335, 409005, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20665, 102995, 32, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104512, 385158, 28, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23488, 126842, 36, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106465, 399125, 30, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21535, 112875, 34, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107451, 409461, 35, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20549, 102539, 29, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110625, 415161, 38, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17375, 96839, 26, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108655, 403705, 34, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19345, 108295, 30, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107304, 393760, 30, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20696, 118240, 34, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109392, 402728, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18608, 109272, 32, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112700, 416033, 35, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15300, 95967, 29, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113700, 426591, 37, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14300, 85409, 27, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111810, 413559, 32, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16190, 98441, 32, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113161, 423504, 36, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14839, 88496, 28, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115692, 434755, 39, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12308, 77245, 25, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112960, 426389, 35, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15040, 85611, 29, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115070, 434804, 36, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12930, 77196, 28, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116960, 447836, 41, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11040, 64164, 23, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119004, 449220, 46, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8996, 62780, 18, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120974, 460676, 50, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7026, 51324, 14, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123706, 469042, 54, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4294, 42958, 10, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121662, 467658, 49, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6338, 44342, 15, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120094, 454553, 43, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7906, 57447, 21, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119110, 447640, 39, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8890, 64360, 25, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116198, 438565, 35, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11802, 73435, 29, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117766, 451670, 41, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10234, 60330, 23, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120589, 475517, 45, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7411, 36483, 19, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122060, 494628, 51, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5940, 17372, 13, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123044, 501541, 55, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4956, 10459, 9, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125956, 510616, 59, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2044, 1384, 5, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125088, 502925, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2912, 9075, 4, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123110, 482224, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4890, 29776, 9, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125088, 502925, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2912, 9075, 4, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126649, 502055, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1351, 9945, 4, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124242, 491009, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3758, 20991, 8, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122132, 482594, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5868, 29406, 9, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123483, 492539, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4517, 19461, 5, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125593, 500954, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2407, 11046, 4, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123771, 481713, 56, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4229, 30287, 8, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121793, 461012, 51, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6207, 50988, 13, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120807, 450676, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7193, 61324, 18, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122785, 471377, 51, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5215, 40623, 13, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121392, 451276, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6608, 60724, 19, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119502, 438244, 40, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8498, 73756, 24, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118338, 434705, 36, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9662, 77295, 28, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115947, 420566, 32, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12053, 91434, 32, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113035, 411491, 28, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14965, 100509, 36, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111057, 390790, 23, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16943, 121210, 41, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109161, 378163, 19, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18839, 133837, 45, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107593, 365058, 13, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20407, 146942, 51, 20))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105043, 350742, 8, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22957, 161258, 56, 20))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103416, 344338, 6, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24584, 167662, 58, 22))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105238, 363579, 10, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22762, 148421, 54, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102351, 352049, 8, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25649, 159951, 56, 21))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100299, 343411, 6, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27701, 168589, 58, 22))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97768, 332160, 3, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30232, 179840, 61, 23))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95815, 318193, 1, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32185, 193807, 63, 24))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97867, 326831, 3, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30133, 185169, 61, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100779, 335906, 7, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27221, 176094, 57, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98957, 316665, 3, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29043, 195335, 61, 25))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96360, 305487, 0, 484))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31640, 206513, 64, 28))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97346, 315823, 5, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30654, 196177, 59, 26))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98739, 335924, 11, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29261, 176076, 53, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95827, 326849, 7, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32173, 185151, 57, 25))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94116, 314219, 5, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33884, 197781, 59, 26))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92146, 302763, 1, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35854, 209237, 63, 27))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel20Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92146, 302763, 1, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35854, 209237, 63, 27))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(93714, 315868, 7, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(34286, 196132, 57, 25))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96245, 327119, 10, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31755, 184881, 54, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94135, 318704, 9, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33865, 193296, 55, 25))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(91684, 304313, 4, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(36316, 207687, 60, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(93662, 325014, 9, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(34338, 186986, 55, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(90354, 311709, 6, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(37646, 200291, 58, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92244, 324741, 11, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35756, 187259, 53, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94140, 337368, 15, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33860, 174632, 49, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96093, 351335, 17, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31907, 160665, 47, 21))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97804, 363965, 19, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30196, 148035, 45, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99914, 372380, 20, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28086, 139620, 44, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103222, 385685, 23, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24778, 126315, 41, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104386, 389224, 27, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23614, 122776, 37, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106356, 400680, 31, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21644, 111320, 33, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104885, 381569, 25, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23115, 130431, 39, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107276, 395708, 29, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20724, 116292, 35, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109826, 410024, 34, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18174, 101976, 30, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107873, 396057, 32, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20127, 115943, 32, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105785, 387089, 30, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22215, 124911, 34, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103895, 374057, 25, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24105, 137943, 39, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102895, 363499, 23, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25105, 148501, 41, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105346, 377890, 28, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22654, 134110, 36, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104362, 370977, 24, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23638, 141023, 40, 21))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105346, 377890, 28, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22654, 134110, 36, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107434, 386858, 30, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20566, 125142, 34, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105464, 375402, 26, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22536, 136598, 38, 20))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103896, 362297, 20, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24104, 149703, 44, 22))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106303, 373343, 24, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21697, 138657, 40, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108125, 392584, 28, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19875, 119416, 36, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106414, 379954, 26, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21586, 132046, 38, 18))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104436, 359253, 21, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23564, 152747, 43, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107033, 370431, 24, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20967, 141569, 40, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104626, 359385, 20, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23374, 152615, 44, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106097, 378496, 26, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21903, 133504, 38, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107987, 391528, 31, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20013, 120472, 33, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109957, 402984, 35, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18043, 109016, 29, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112844, 414514, 37, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15156, 97486, 27, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115756, 423589, 41, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12244, 88411, 23, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117734, 444290, 46, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10266, 67710, 18, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119361, 450694, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8639, 61306, 16, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120929, 463799, 54, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7071, 48201, 10, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118959, 452343, 50, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9041, 59657, 14, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120912, 466310, 52, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7088, 45690, 12, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119285, 459906, 50, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8715, 52094, 14, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116398, 448376, 48, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11602, 63624, 16, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118368, 459832, 52, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9632, 52168, 12, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116398, 448376, 48, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11602, 63624, 16, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114502, 435749, 44, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13498, 76251, 20, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116129, 442153, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11871, 69847, 18, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117840, 454783, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10160, 57217, 16, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114532, 441478, 45, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13468, 70522, 19, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116428, 454105, 49, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11572, 57895, 15, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119315, 465635, 51, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8685, 46365, 13, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120315, 476193, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7685, 35807, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117583, 467827, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10417, 44173, 15, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120315, 476193, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7685, 35807, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118337, 455492, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9663, 56508, 16, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120315, 476193, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7685, 35807, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122285, 487649, 57, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5715, 24351, 7, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124692, 498695, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3308, 13305, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126529, 492889, 58, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1471, 19111, 6, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124078, 478498, 53, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3922, 33502, 11, 1))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126529, 492889, 58, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1471, 19111, 6, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124138, 478750, 54, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3862, 33250, 10, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126529, 492889, 58, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1471, 19111, 6, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124818, 480259, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3182, 31741, 8, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126289, 499370, 62, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1711, 12630, 2, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123377, 490295, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4623, 21705, 6, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120780, 479117, 55, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7220, 32883, 9, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122491, 491747, 57, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5509, 20253, 7, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120100, 477608, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7900, 34392, 11, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122697, 488786, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5303, 23214, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120801, 476159, 52, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7199, 35841, 12, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123192, 490298, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4808, 21702, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121565, 483894, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6435, 28106, 10, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123192, 490298, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4808, 21702, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121214, 469597, 51, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6786, 42403, 13, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119392, 450356, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8608, 61644, 17, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118392, 439798, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9608, 72202, 19, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121304, 448873, 49, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6696, 63127, 15, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119593, 436243, 47, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8407, 75757, 17, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117623, 424787, 43, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10377, 87213, 21, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118623, 435345, 45, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9377, 76655, 19, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117055, 422240, 39, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10945, 89760, 25, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118877, 441481, 43, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9123, 70519, 21, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120588, 454111, 45, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7412, 57889, 19, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122566, 474812, 50, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5434, 37188, 14, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124462, 487439, 54, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3538, 24561, 10, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121575, 475909, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6425, 36091, 12, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119523, 467271, 50, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8477, 44729, 14, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121575, 475909, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6425, 36091, 12, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119184, 461770, 48, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8816, 50230, 16, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117713, 442659, 42, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10287, 69341, 22, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116002, 430029, 40, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11998, 81971, 24, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118889, 441559, 42, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9111, 70441, 22, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116002, 430029, 40, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11998, 81971, 24, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113892, 421614, 39, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14108, 90386, 25, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116002, 430029, 40, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11998, 81971, 24, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117570, 443134, 46, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10430, 68866, 18, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114747, 419287, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13253, 92713, 22, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111573, 413587, 39, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16427, 98413, 25, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109751, 394346, 35, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18249, 117654, 29, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111222, 413457, 41, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16778, 98543, 23, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114109, 424987, 43, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13891, 87013, 21, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111999, 416572, 42, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16001, 95428, 22, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109548, 402181, 37, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18452, 109819, 27, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111518, 413637, 41, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16482, 98363, 23, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113628, 422052, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14372, 89948, 22, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116019, 436191, 46, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11981, 75809, 18, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117841, 455432, 50, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10159, 56568, 14, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119552, 468062, 52, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8448, 43938, 12, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122003, 482453, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5997, 29547, 7, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120376, 476049, 55, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7624, 35951, 9, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123199, 499896, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4801, 12104, 5, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120287, 490821, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7713, 21179, 9, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118317, 479365, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9683, 32635, 13, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115430, 467835, 49, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12570, 44165, 15, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118604, 473535, 52, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9396, 38465, 12, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116054, 459219, 47, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11946, 52781, 17, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(4))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114010, 457835, 42, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13990, 54165, 22, 7))).To(BeTrue())
	})
})
