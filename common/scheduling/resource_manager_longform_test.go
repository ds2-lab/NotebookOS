package scheduling_test

import (
	"errors"
	"fmt"
	. "github.com/onsi/ginkgo/v2"
	. "github.com/onsi/gomega"
	"github.com/zhangjyr/distributed-notebook/common/scheduling"
	"github.com/zhangjyr/distributed-notebook/common/types"
)

func containsOffendingResourceKind(lst []scheduling.ResourceKind, target scheduling.ResourceKind) bool {
	for _, elem := range lst {
		if elem == target {
			return true
		}
	}

	return false
}

var _ = Describe("ResourceManager Longform Tests", func() {
	var resourceManager *scheduling.ResourceManager

	Context("Standard ResourceManager resource spec", func() {
		resourceManagerSpec := types.NewDecimalSpec(8000, 64000, 8, 32)

		BeforeEach(func() {
			resourceManager = scheduling.NewResourceManager(resourceManagerSpec)
		})

		It("Will correctly handle a series of allocations and de-allocations", func() {
			kernel1Spec := types.NewDecimalSpec(1000, 2000, 2, 4)
			kernel2Spec := types.NewDecimalSpec(2000, 4000, 6, 12)
			kernel3Spec := types.NewDecimalSpec(5000, 12000, 2, 3)
			kernel4Spec := types.NewDecimalSpec(500, 1000, 1, 1)

			specs := []*types.DecimalSpec{kernel1Spec, kernel2Spec, kernel3Spec, kernel4Spec}

			sumFirstNSpecs := func(n int) *types.DecimalSpec {
				sumSpec := types.NewDecimalSpec(0, 0, 0, 0)

				for i := 0; i < n; i++ {
					sumSpec = sumSpec.Add(specs[i])
				}

				return sumSpec
			}

			By("Correctly handling all the replicas being scheduled (pending)")
			for i, spec := range specs {
				err := resourceManager.KernelReplicaScheduled(1, fmt.Sprintf("Kernel%d", i+1), spec)

				Expect(err).To(BeNil())

				Expect(resourceManager.NumAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumPendingAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))

				Expect(resourceManager.IdleResources()).To(Equal(resourceManagerSpec))
				Expect(resourceManager.CommittedResources().IsZero()).To(BeTrue())

				sumSpec := sumFirstNSpecs(i + 1)
				Expect(sumSpec).ToNot(BeNil())

				GinkgoWriter.Printf("sumSpec: %s\n", sumSpec.String())
				GinkgoWriter.Printf("resourceManager.PendingResources(): %s\n", resourceManager.PendingResources().String())

				Expect(resourceManager.PendingResources().Equals(sumSpec)).To(BeTrue())
			}

			// The code below is generated by the scripts/gen_res_mgr_unit_test.py Python script.

			var err error
			var ok bool
			var insufficientResourcesError *scheduling.InsufficientResourcesError

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(2))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.CPU)).To(BeTrue())
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())
		})

		It("Will correctly handle another even longer series of allocations and de-allocations", func() {
			kernel1Spec := types.NewDecimalSpec(1000, 2000, 2, 4)
			kernel2Spec := types.NewDecimalSpec(2000, 4000, 6, 12)
			kernel3Spec := types.NewDecimalSpec(5000, 12000, 2, 3)
			kernel4Spec := types.NewDecimalSpec(500, 1000, 1, 1)

			specs := []*types.DecimalSpec{kernel1Spec, kernel2Spec, kernel3Spec, kernel4Spec}

			sumFirstNSpecs := func(n int) *types.DecimalSpec {
				sumSpec := types.NewDecimalSpec(0, 0, 0, 0)

				for i := 0; i < n; i++ {
					sumSpec = sumSpec.Add(specs[i])
				}

				return sumSpec
			}

			By("Correctly handling all the replicas being scheduled (pending)")
			for i, spec := range specs {
				err := resourceManager.KernelReplicaScheduled(1, fmt.Sprintf("Kernel%d", i+1), spec)

				Expect(err).To(BeNil())

				Expect(resourceManager.NumAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumPendingAllocations()).To(Equal(i + 1))
				Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))

				Expect(resourceManager.IdleResources()).To(Equal(resourceManagerSpec))
				Expect(resourceManager.CommittedResources().IsZero()).To(BeTrue())

				sumSpec := sumFirstNSpecs(i + 1)
				Expect(sumSpec).ToNot(BeNil())

				GinkgoWriter.Printf("sumSpec: %s\n", sumSpec.String())
				GinkgoWriter.Printf("resourceManager.PendingResources(): %s\n", resourceManager.PendingResources().String())

				Expect(resourceManager.PendingResources().Equals(sumSpec)).To(BeTrue())
			}

			// The code below is generated by the scripts/gen_res_mgr_unit_test.py Python script.
			var err error
			var ok bool
			var insufficientResourcesError *scheduling.InsufficientResourcesError

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel4Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel1Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel1Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1000, 48000, 0, 17))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7000, 16000, 8, 15))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel3Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6000, 60000, 2, 20))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2000, 4000, 6, 12))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5500, 59000, 1, 19))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2500, 5000, 7, 13))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(3000, 52000, 6, 29))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5000, 12000, 2, 3))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2500, 51000, 5, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5500, 13000, 3, 4))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(1500, 49000, 3, 24))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6500, 15000, 5, 8))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel2Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(6500, 61000, 5, 27))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1500, 3000, 3, 5))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).ToNot(BeNil())
			ok = errors.As(err, &insufficientResourcesError)
			Expect(ok).To(BeTrue())
			Expect(insufficientResourcesError).ToNot(BeNil())
			Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
			Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
			Expect(kernel4Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
			Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(5000, 58000, 0, 16))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3000, 6000, 8, 16))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(2000, 50000, 4, 25))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6000, 14000, 4, 7))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7000, 62000, 6, 28))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1000, 2000, 2, 4))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))

			err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))

			err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
			Expect(err).To(BeNil())
			GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(7500, 63000, 7, 31))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(500, 1000, 1, 1))).To(BeTrue())

			err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
			Expect(err).To(BeNil())
			Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(8000, 64000, 8, 32))).To(BeTrue())
			Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
			Expect(resourceManager.NumAllocations()).To(Equal(4))
			Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
			Expect(resourceManager.NumPendingAllocations()).To(Equal(4))
		})
	})

	It("Will handle an extremely long series of allocations and de-allocations involving many kernels", func() {
		var err error
		var ok bool
		var insufficientResourcesError *scheduling.InsufficientResourcesError
		resourceManagerSpec := types.NewDecimalSpec(128000, 512000, 64, 512)
		resourceManager = scheduling.NewResourceManager(resourceManagerSpec)
		kernel1Spec := types.NewDecimalSpec(2585, 12569, 5, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel1", kernel1Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(1))
		kernel2Spec := types.NewDecimalSpec(1838, 9890, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel2", kernel2Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(2))
		kernel3Spec := types.NewDecimalSpec(1892, 2814, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel3", kernel3Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(3))
		kernel4Spec := types.NewDecimalSpec(1667, 12928, 2, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel4", kernel4Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(4))
		kernel5Spec := types.NewDecimalSpec(2750, 12973, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel5", kernel5Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(5))
		kernel6Spec := types.NewDecimalSpec(2892, 2601, 3, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel6", kernel6Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(6))
		kernel7Spec := types.NewDecimalSpec(3084, 7984, 6, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel7", kernel7Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(7))
		kernel8Spec := types.NewDecimalSpec(2173, 15196, 4, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel8", kernel8Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(8))
		kernel9Spec := types.NewDecimalSpec(2362, 4042, 2, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel9", kernel9Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(9))
		kernel10Spec := types.NewDecimalSpec(1921, 13384, 2, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel10", kernel10Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(10))
		kernel11Spec := types.NewDecimalSpec(3234, 8984, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel11", kernel11Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(11))
		kernel12Spec := types.NewDecimalSpec(969, 8240, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel12", kernel12Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		kernel13Spec := types.NewDecimalSpec(3421, 16977, 1, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel13", kernel13Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		kernel14Spec := types.NewDecimalSpec(2322, 11164, 2, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel14", kernel14Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		kernel15Spec := types.NewDecimalSpec(2057, 10201, 3, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel15", kernel15Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		kernel16Spec := types.NewDecimalSpec(3629, 16164, 4, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel16", kernel16Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		kernel17Spec := types.NewDecimalSpec(3342, 9349, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel17", kernel17Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		kernel18Spec := types.NewDecimalSpec(2353, 13022, 3, 3)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel18", kernel18Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		kernel19Spec := types.NewDecimalSpec(2303, 7080, 5, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel19", kernel19Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		kernel20Spec := types.NewDecimalSpec(2157, 9292, 4, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel20", kernel20Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		kernel21Spec := types.NewDecimalSpec(3239, 18005, 4, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel21", kernel21Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		kernel22Spec := types.NewDecimalSpec(1858, 14902, 3, 3)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel22", kernel22Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		kernel23Spec := types.NewDecimalSpec(3084, 12823, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel23", kernel23Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		kernel24Spec := types.NewDecimalSpec(1457, 16470, 2, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel24", kernel24Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		kernel25Spec := types.NewDecimalSpec(1994, 12307, 3, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel25", kernel25Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		kernel26Spec := types.NewDecimalSpec(1872, 21027, 5, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel26", kernel26Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		kernel27Spec := types.NewDecimalSpec(1776, 29019, 3, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel27", kernel27Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		kernel28Spec := types.NewDecimalSpec(2099, 17003, 3, 1)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel28", kernel28Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		kernel29Spec := types.NewDecimalSpec(1075, 11003, 2, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel29", kernel29Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		kernel30Spec := types.NewDecimalSpec(2573, 9926, 3, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel30", kernel30Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		kernel31Spec := types.NewDecimalSpec(1864, 17803, 2, 2)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel31", kernel31Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		kernel32Spec := types.NewDecimalSpec(2102, 16546, 2, 0)
		err = resourceManager.KernelReplicaScheduled(1, "Kernel32", kernel32Spec)
		Expect(err).To(BeNil())
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126142, 497098, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1858, 14902, 3, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124685, 480628, 59, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3315, 31372, 5, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122821, 462825, 57, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5179, 49175, 7, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124278, 479295, 59, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3722, 32705, 5, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126142, 497098, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1858, 14902, 3, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125415, 499431, 59, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2585, 12569, 5, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126142, 497098, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1858, 14902, 3, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125638, 507958, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2362, 4042, 2, 0))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122888, 494985, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5112, 17015, 6, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120967, 481601, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7033, 30399, 8, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119095, 460574, 51, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8905, 51426, 13, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120967, 481601, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7033, 30399, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117546, 464624, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10454, 47376, 9, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115688, 449722, 52, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12312, 62278, 12, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117546, 464624, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10454, 47376, 9, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119467, 478008, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8533, 33992, 7, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122888, 494985, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5112, 17015, 6, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121050, 485095, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6950, 26905, 10, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122888, 494985, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5112, 17015, 6, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125638, 507958, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2362, 4042, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122746, 505357, 59, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5254, 6643, 5, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125638, 507958, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2362, 4042, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124761, 493995, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3239, 18005, 4, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123304, 477525, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4696, 34475, 6, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120982, 466361, 56, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7018, 45639, 8, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118925, 456160, 53, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9075, 55840, 11, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120382, 472630, 55, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7618, 39370, 9, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122439, 482831, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5561, 29169, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119689, 469858, 54, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8311, 42142, 10, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122928, 487863, 58, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5072, 24137, 6, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125678, 500836, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2322, 11164, 2, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126925, 500997, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1075, 11003, 2, 0))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124603, 489833, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3397, 22167, 4, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126925, 500997, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1075, 11003, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124371, 495836, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3629, 16164, 4, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125827, 496804, 60, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2173, 15196, 4, 0))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122198, 480640, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5802, 31360, 8, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120306, 477826, 53, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7694, 34174, 11, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117733, 467900, 50, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10267, 44100, 14, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120306, 477826, 53, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7694, 34174, 11, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123935, 493990, 57, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4065, 18010, 7, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125827, 496804, 60, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2173, 15196, 4, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126224, 482981, 61, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1776, 29019, 3, 0))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125108, 509399, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2892, 2601, 3, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125250, 499027, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2750, 12973, 4, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124371, 495836, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3629, 16164, 4, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124579, 495023, 63, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3421, 16977, 1, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122912, 482095, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5088, 29905, 3, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119828, 474111, 55, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8172, 37889, 9, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122912, 482095, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5088, 29905, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124579, 495023, 63, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3421, 16977, 1, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122006, 485097, 60, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5994, 26903, 4, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125427, 502074, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2573, 9926, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122085, 492725, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5915, 19275, 7, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125427, 502074, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2573, 9926, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123651, 473055, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4349, 38945, 6, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126224, 482981, 61, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1776, 29019, 3, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124167, 472780, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3833, 39220, 6, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120928, 454775, 54, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7072, 57225, 10, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122985, 464976, 57, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5015, 47024, 7, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119564, 447999, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8436, 64001, 8, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117507, 437798, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10493, 74202, 11, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120928, 454775, 54, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7072, 57225, 10, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122704, 483794, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5296, 28206, 7, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125943, 501799, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2057, 10201, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124766, 503016, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3234, 8984, 3, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121137, 486852, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6863, 25148, 7, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118552, 474283, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9448, 37717, 12, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115660, 471682, 49, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12340, 40318, 15, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118245, 484251, 54, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9755, 27749, 10, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116324, 470867, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11676, 41133, 12, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119216, 473468, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8784, 38532, 9, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122450, 482452, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5550, 29548, 6, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120993, 465982, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7007, 46018, 8, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118894, 448979, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9106, 63021, 11, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120351, 465449, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7649, 46551, 9, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122272, 478833, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5728, 33167, 7, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125901, 494997, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2099, 17003, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122817, 487013, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5183, 24987, 9, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120953, 469210, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7047, 42790, 11, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123052, 486213, 56, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4948, 25787, 8, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126136, 494197, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1864, 17803, 2, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124079, 483996, 59, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3921, 28004, 5, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125943, 501799, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2057, 10201, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124916, 504016, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3084, 7984, 6, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125901, 494997, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2099, 17003, 3, 1))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124761, 493995, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3239, 18005, 4, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122662, 476992, 57, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5338, 35008, 7, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125901, 494997, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2099, 17003, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123328, 485071, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4672, 26929, 6, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119986, 475722, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8014, 36278, 10, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123328, 485071, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4672, 26929, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120975, 472049, 55, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7025, 39951, 9, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123074, 489052, 58, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4926, 22948, 6, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125647, 498978, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2353, 13022, 3, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125898, 495454, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2102, 16546, 2, 0))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124006, 492640, 59, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3994, 19360, 5, 1))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125898, 495454, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2102, 16546, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124006, 492640, 59, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3994, 19360, 5, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123037, 484400, 55, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4963, 27600, 9, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125139, 500946, 57, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2861, 11054, 7, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122247, 498345, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5753, 13655, 10, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123216, 506585, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4784, 5415, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125108, 509399, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2892, 2601, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123051, 499198, 58, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4949, 12802, 6, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120949, 482652, 56, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7051, 29348, 8, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118850, 465649, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9150, 46351, 11, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116958, 462835, 50, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11042, 49165, 14, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119057, 479838, 53, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8943, 32162, 11, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121949, 482439, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6051, 29561, 8, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118715, 473455, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9285, 38545, 11, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115373, 464106, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12627, 47894, 15, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117475, 480652, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10525, 31348, 13, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115808, 467724, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12192, 44276, 15, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117475, 480652, 51, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10525, 31348, 13, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119532, 490853, 54, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8468, 21147, 10, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122766, 499837, 57, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5234, 12163, 7, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124658, 502651, 60, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3342, 9349, 4, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126006, 499693, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1994, 12307, 3, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122767, 481688, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5233, 30312, 7, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120610, 472396, 53, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7390, 39604, 11, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122767, 481688, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5233, 30312, 7, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119533, 472704, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8467, 39296, 10, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116641, 470103, 51, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11359, 41897, 13, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115566, 459100, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12434, 52900, 15, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117560, 471407, 52, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10440, 40593, 12, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118635, 482410, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9365, 29590, 10, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121874, 500415, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6126, 11585, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120010, 482612, 56, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7990, 29388, 8, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117688, 471448, 54, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10312, 40552, 10, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115103, 458879, 49, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12897, 53121, 15, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113265, 448989, 45, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14735, 63011, 19, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116157, 451590, 48, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11843, 60410, 16, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114700, 435120, 46, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13300, 76880, 18, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112598, 418574, 44, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15402, 93426, 20, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114700, 435120, 46, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13300, 76880, 18, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111071, 418956, 42, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16929, 93044, 22, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114700, 435120, 46, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13300, 76880, 18, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117022, 446284, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10978, 65716, 16, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114660, 442242, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13340, 69758, 18, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116117, 458712, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11883, 53288, 16, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119351, 467696, 51, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8649, 44304, 13, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117294, 457495, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10706, 54505, 16, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115422, 436468, 43, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12578, 75532, 21, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117784, 440510, 45, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10216, 71490, 19, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119656, 461537, 50, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8344, 50463, 14, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117798, 446635, 47, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10202, 65365, 17, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119656, 461537, 50, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8344, 50463, 14, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117554, 444991, 48, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10446, 67009, 16, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120139, 457560, 53, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7861, 54440, 11, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118040, 440557, 50, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9960, 71443, 14, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114698, 431208, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13302, 80792, 18, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112541, 421916, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15459, 90084, 22, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110547, 409609, 39, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17453, 102391, 25, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108185, 405567, 37, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19815, 106433, 27, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110287, 422113, 39, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17713, 89887, 25, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107203, 414129, 33, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20797, 97871, 31, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109067, 431932, 35, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18933, 80068, 29, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106894, 416736, 31, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21106, 95264, 33, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104591, 409656, 26, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23409, 102344, 38, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102269, 398492, 24, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25731, 113508, 40, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99916, 385470, 21, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28084, 126530, 43, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96682, 376486, 18, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31318, 135514, 46, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99916, 385470, 21, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28084, 126530, 43, 16))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101910, 397777, 24, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26090, 114223, 40, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99989, 384393, 22, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28011, 127607, 42, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102162, 399589, 26, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25838, 112411, 38, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100060, 383043, 24, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27940, 128957, 40, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101898, 392933, 28, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26102, 119067, 36, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104000, 409479, 30, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24000, 102521, 34, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103031, 401239, 26, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24969, 110761, 38, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99792, 383234, 22, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28208, 128766, 42, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97690, 366688, 20, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30310, 145312, 44, 14))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94456, 357704, 17, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33544, 154296, 47, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92618, 347814, 13, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35382, 164186, 51, 17))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(89868, 334841, 9, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(38132, 177159, 55, 19))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(88201, 321913, 7, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(39799, 190087, 57, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(91285, 329897, 13, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(36715, 182103, 51, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(88712, 319971, 10, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(39288, 192029, 54, 20))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(86848, 302168, 8, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(41152, 209832, 56, 22))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84263, 289599, 3, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43737, 222401, 61, 24))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82371, 286785, 0, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45629, 225215, 64, 25))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel16Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82371, 286785, 0, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45629, 225215, 64, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84263, 289599, 3, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43737, 222401, 61, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82405, 274697, 0, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45595, 237303, 64, 27))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel29Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82405, 274697, 0, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45595, 237303, 64, 27))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel13Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82405, 274697, 0, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45595, 237303, 64, 27))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel13Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82405, 274697, 0, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45595, 237303, 64, 27))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84243, 284587, 4, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43757, 227413, 60, 25))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82786, 268117, 2, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45214, 243883, 62, 26))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84650, 285920, 4, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43350, 226080, 60, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(81229, 268943, 3, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(46771, 243057, 61, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(83551, 280107, 5, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(44449, 231893, 59, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(81713, 270217, 1, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(46287, 241783, 63, 25))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84016, 277297, 6, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43984, 234703, 58, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(81694, 266133, 4, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(46306, 245867, 60, 26))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(85115, 283110, 5, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(42885, 228890, 59, 25))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(20))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(12))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(83251, 265307, 3, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(44749, 246693, 61, 27))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(85613, 269349, 5, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(42387, 242651, 59, 27))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(86582, 277589, 9, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(41418, 234411, 55, 26))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84409, 262393, 5, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43591, 249607, 59, 26))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(87648, 280398, 9, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(40352, 231602, 55, 25))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(90882, 289382, 12, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(37118, 222618, 52, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92720, 299272, 16, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35280, 212728, 48, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94877, 308564, 20, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33123, 203436, 44, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(96934, 318765, 23, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(31066, 193235, 41, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(93695, 300760, 19, 491))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(34305, 211240, 45, 21))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(91701, 288453, 16, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(36299, 223547, 48, 23))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(89809, 285639, 13, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(38191, 226361, 51, 24))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(92382, 295565, 16, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(35618, 216435, 48, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(89809, 285639, 13, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(38191, 226361, 51, 24))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(91266, 302109, 15, 489))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(36734, 209891, 49, 23))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(87637, 285945, 11, 487))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(40363, 226055, 53, 25))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84553, 273122, 8, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43447, 238878, 56, 26))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(86655, 289668, 10, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(41345, 222332, 54, 26))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84352, 282588, 5, 485))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43648, 229412, 59, 27))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(86705, 295610, 8, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(41295, 216390, 56, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84548, 286318, 4, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43452, 225682, 60, 24))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82491, 276117, 1, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45509, 235883, 63, 26))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel12Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82491, 276117, 1, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45509, 235883, 63, 26))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel26Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82491, 276117, 1, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45509, 235883, 63, 26))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).ToNot(BeNil())
		ok = errors.As(err, &insufficientResourcesError)
		Expect(ok).To(BeTrue())
		Expect(insufficientResourcesError).ToNot(BeNil())
		Expect(len(insufficientResourcesError.OffendingResourceKinds)).To(Equal(1))
		Expect(containsOffendingResourceKind(insufficientResourcesError.OffendingResourceKinds, scheduling.GPU)).To(BeTrue())
		Expect(kernel27Spec.Equals(insufficientResourcesError.RequestedResources)).To(BeTrue())
		Expect(resourceManager.IdleResources().Equals(insufficientResourcesError.AvailableResources)).To(BeTrue())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(19))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(13))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(82491, 276117, 1, 486))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(45509, 235883, 63, 26))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(84548, 286318, 4, 488))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(43452, 225682, 60, 24))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(18))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(14))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(87298, 299291, 8, 490))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(40702, 212709, 56, 22))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(89162, 317094, 10, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(38838, 194906, 54, 20))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(17))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(15))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(87386, 288075, 7, 492))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(40614, 223925, 57, 20))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(90728, 297424, 11, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(37272, 214576, 53, 19))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(93812, 310247, 14, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(34188, 201753, 50, 18))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(16))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(16))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(90470, 300898, 10, 493))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(37530, 211102, 54, 19))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(94099, 317062, 14, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(33901, 194938, 50, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(15))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(17))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(95875, 346081, 17, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(32125, 165919, 47, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(14))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(18))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98032, 355373, 21, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29968, 156627, 43, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99953, 368757, 23, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28047, 143243, 41, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102526, 378683, 26, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25474, 133317, 38, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100424, 362137, 24, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27576, 149863, 40, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(97340, 349314, 21, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(30660, 162686, 43, 16))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99643, 356394, 26, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28357, 155606, 38, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101637, 368701, 29, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26363, 143299, 35, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100180, 352231, 27, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27820, 159769, 37, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101637, 368701, 29, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26363, 143299, 35, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103304, 381629, 31, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24696, 130371, 33, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105162, 396531, 34, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22838, 115469, 30, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103105, 386330, 31, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24895, 125670, 33, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104997, 389144, 34, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23003, 122856, 30, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel13", kernel13Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101576, 372167, 33, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26424, 139833, 31, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103898, 383331, 35, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24102, 128669, 29, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100269, 367167, 31, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27731, 144833, 33, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103508, 385172, 35, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24492, 126828, 29, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106093, 397741, 40, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21907, 114259, 24, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103936, 388449, 36, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24064, 123551, 28, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102861, 377446, 34, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25139, 134554, 30, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104963, 393992, 36, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23037, 118008, 28, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107062, 410995, 39, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20938, 101005, 25, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105395, 398067, 37, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22605, 113933, 27, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103938, 381597, 35, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24062, 130403, 29, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101046, 378996, 32, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26954, 133004, 32, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100077, 370756, 28, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27923, 141244, 36, 12))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(98301, 341737, 25, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(29699, 170263, 39, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101930, 357901, 29, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26070, 154099, 35, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(13))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(19))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99608, 346737, 27, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28392, 165263, 37, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(101930, 357901, 29, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(26070, 154099, 35, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103005, 368904, 31, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24995, 143096, 33, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100652, 355882, 28, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27348, 156118, 36, 13))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel13")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104073, 372859, 29, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23927, 139141, 35, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105849, 401878, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22151, 110122, 32, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102220, 385714, 28, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25780, 126286, 36, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104393, 400910, 32, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23607, 111090, 32, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102555, 391020, 28, 496))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25445, 120980, 36, 16))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(12))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(20))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(99471, 383036, 22, 494))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(28529, 128964, 42, 18))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(100928, 399506, 24, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(27072, 112494, 40, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103820, 402107, 27, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24180, 109893, 37, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105877, 412308, 30, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22123, 99692, 34, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103778, 395305, 27, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24222, 116695, 37, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106131, 408327, 30, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21869, 103673, 34, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108288, 417619, 34, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19712, 94381, 30, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106831, 401149, 32, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21169, 110851, 32, 12))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104246, 388580, 27, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23754, 123420, 37, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107588, 397929, 31, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20412, 114071, 33, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109687, 414932, 34, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18313, 97068, 30, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112272, 427501, 39, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15728, 84499, 25, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113729, 443971, 41, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14271, 68029, 23, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116813, 451955, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11187, 60045, 17, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117782, 460195, 51, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10218, 51805, 13, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120866, 473018, 54, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7134, 38982, 10, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118116, 460045, 50, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9884, 51955, 14, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115531, 447476, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12469, 64524, 19, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117198, 460404, 47, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10802, 51596, 17, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113856, 451055, 43, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14144, 60945, 21, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112887, 442815, 39, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15113, 69185, 25, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109995, 440214, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18005, 71786, 28, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110964, 448454, 40, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17036, 63546, 24, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114306, 457803, 44, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13694, 54197, 20, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117198, 460404, 47, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10802, 51596, 17, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119948, 473377, 51, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8052, 38623, 13, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117849, 456374, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10151, 55626, 16, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116880, 448134, 44, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11120, 63866, 20, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120509, 464298, 48, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7491, 47702, 16, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121478, 472538, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6522, 39462, 12, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119586, 469724, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8414, 42276, 15, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117919, 456796, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10081, 55204, 17, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115027, 454195, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12973, 57805, 20, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112705, 443031, 42, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15295, 68969, 22, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114543, 452921, 46, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13457, 59079, 18, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117128, 465490, 51, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10872, 46510, 13, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118795, 478418, 53, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9205, 33582, 11, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120894, 495421, 56, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7106, 16579, 8, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123216, 506585, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4784, 5415, 6, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126108, 509186, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1892, 2814, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123024, 496363, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4976, 15637, 6, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124916, 499177, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3084, 12823, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126142, 497098, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1858, 14902, 3, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel32", kernel32Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124040, 480552, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3960, 31448, 5, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121148, 477951, 56, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6852, 34049, 8, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119256, 475137, 53, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8744, 36863, 11, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122148, 477738, 56, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5852, 34262, 8, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120154, 465431, 53, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7846, 46569, 11, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117851, 458351, 48, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10149, 53649, 16, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116013, 448461, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11987, 63539, 20, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117871, 463363, 47, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10129, 48637, 17, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115950, 449979, 45, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12050, 62021, 19, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114981, 441739, 41, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13019, 70261, 23, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115950, 449979, 45, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12050, 62021, 19, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112866, 441995, 39, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15134, 70005, 25, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111008, 427093, 36, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16992, 84907, 28, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108116, 424492, 33, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19884, 87508, 31, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105366, 411519, 29, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22634, 100481, 35, 15))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(11))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(21))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(102781, 398950, 24, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(25219, 113050, 40, 17))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104702, 412334, 26, 495))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23298, 99666, 38, 17))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107287, 424903, 31, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20713, 87097, 33, 15))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109179, 427717, 34, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18821, 84283, 30, 14))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111929, 440690, 38, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16071, 71310, 26, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114821, 443291, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13179, 68709, 23, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112949, 422264, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15051, 89736, 28, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114787, 432154, 40, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13213, 79846, 24, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117871, 440138, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10129, 71862, 18, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119865, 452445, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8135, 59555, 15, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116523, 443096, 45, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11477, 68904, 19, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119865, 452445, 49, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8135, 59555, 15, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117808, 442244, 46, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10192, 69756, 18, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114179, 426080, 42, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13821, 85920, 22, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110837, 416731, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17163, 95269, 26, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108945, 413917, 35, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19055, 98083, 29, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110837, 416731, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17163, 95269, 26, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109868, 408491, 34, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18132, 103509, 30, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113210, 417840, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14790, 94160, 26, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109868, 408491, 34, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18132, 103509, 30, 12))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107546, 397327, 32, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20454, 114673, 32, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111175, 413491, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16825, 98509, 28, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112144, 421731, 40, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15856, 90269, 24, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114016, 442758, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13984, 69242, 19, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111443, 432832, 42, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16557, 79168, 22, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113500, 443033, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14500, 68967, 19, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110261, 425028, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17739, 86972, 23, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108485, 396009, 38, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19515, 115991, 26, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110261, 425028, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17739, 86972, 23, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112834, 434954, 44, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15166, 77046, 20, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115156, 446118, 46, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12844, 65882, 18, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113162, 433811, 43, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14838, 78189, 21, 8))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116401, 451816, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11599, 60184, 17, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118704, 458896, 52, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9296, 53104, 12, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel32")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120806, 475442, 54, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7194, 36558, 10, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122800, 487749, 57, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5200, 24251, 7, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126142, 497098, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1858, 14902, 3, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125067, 486095, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2933, 25905, 5, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123195, 465068, 54, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4805, 46932, 10, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125067, 486095, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2933, 25905, 5, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126925, 500997, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1075, 11003, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125647, 498978, 61, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2353, 13022, 3, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel18")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125678, 500836, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2322, 11164, 2, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124603, 489833, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3397, 22167, 4, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122711, 487019, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5289, 24981, 7, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119819, 484418, 54, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8181, 27582, 10, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121711, 487232, 57, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6289, 24768, 7, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124603, 489833, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3397, 22167, 4, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126925, 500997, 62, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1075, 11003, 2, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(126224, 482981, 61, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(1776, 29019, 3, 0))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel27")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125943, 501799, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2057, 10201, 3, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123844, 484796, 58, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4156, 27204, 6, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125901, 494997, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2099, 17003, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124063, 485107, 57, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3937, 26893, 7, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122988, 474104, 55, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5012, 37896, 9, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel20", kernel20Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120831, 464812, 51, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7169, 47188, 13, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118081, 451839, 47, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9919, 60161, 17, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116209, 430812, 42, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11791, 81188, 22, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel25", kernel25Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114215, 418505, 39, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13785, 93495, 25, 9))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116314, 435508, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11686, 76492, 22, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel19", kernel19Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114011, 428428, 37, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13989, 83572, 27, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112554, 411958, 35, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15446, 100042, 29, 10))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113629, 422961, 37, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14371, 89039, 27, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111962, 410033, 35, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16038, 101967, 29, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel25")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113956, 422340, 38, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14044, 89660, 26, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115413, 438810, 40, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12587, 73190, 24, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117285, 459837, 45, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10715, 52163, 19, 6))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel19")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119588, 466917, 50, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8412, 45083, 14, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116354, 457933, 47, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11646, 54067, 17, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118021, 470861, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9979, 41139, 15, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120771, 483834, 53, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7229, 28166, 11, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124005, 492818, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3995, 19182, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125843, 502708, 60, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2157, 9292, 4, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122604, 484703, 56, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5396, 27297, 8, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118975, 468539, 52, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9025, 43461, 12, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel20")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121132, 477831, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6868, 34169, 8, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel5", kernel5Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118382, 464858, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9618, 47142, 12, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115040, 455509, 48, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12960, 56491, 16, 6))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel22", kernel22Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(113182, 440607, 45, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(14818, 71393, 19, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111344, 430717, 41, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16656, 81283, 23, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel29", kernel29Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110269, 419714, 39, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17731, 92286, 25, 11))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel7", kernel7Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107185, 411730, 33, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20815, 100270, 31, 13))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105313, 390703, 28, 497))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22687, 121297, 36, 15))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel7")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108397, 398687, 34, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19603, 113313, 30, 13))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105313, 385864, 31, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22687, 126136, 33, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel22")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107171, 400766, 34, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20829, 111234, 30, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(103937, 391782, 31, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(24063, 120218, 33, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107279, 401131, 35, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20721, 110869, 29, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110363, 413954, 38, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17637, 98046, 26, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel31", kernel31Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(108499, 396151, 36, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(19501, 115849, 28, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111733, 405135, 39, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16267, 106865, 25, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel4", kernel4Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110066, 392207, 37, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17934, 119793, 27, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel4")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111733, 405135, 39, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16267, 106865, 25, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel15", kernel15Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109676, 394934, 36, 499))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18324, 117066, 28, 13))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel31")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111540, 412737, 38, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16460, 99263, 26, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel9", kernel9Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109178, 408695, 36, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18822, 103305, 28, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112807, 424859, 40, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15193, 87141, 24, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel26")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114679, 445886, 45, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13321, 66114, 19, 7))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(116517, 455776, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(11483, 56224, 15, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119756, 473781, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8244, 38219, 11, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel15")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121813, 483982, 56, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6187, 28018, 8, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel9")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124175, 488024, 58, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3825, 23976, 6, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel29")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125250, 499027, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2750, 12973, 4, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122011, 481022, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5989, 30978, 8, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120173, 471132, 52, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7827, 40868, 12, 5))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel5")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122923, 484105, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5077, 27895, 8, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121466, 467635, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6534, 44365, 10, 4))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117837, 451471, 50, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10163, 60529, 14, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(119675, 461361, 54, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(8325, 50639, 10, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121132, 477831, 56, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6868, 34169, 8, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel21")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124371, 495836, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3629, 16164, 4, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel30", kernel30Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121798, 485910, 57, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6202, 26090, 7, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125427, 502074, 61, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2573, 9926, 3, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel30")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel1", kernel1Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125415, 499431, 59, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2585, 12569, 5, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel1")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125678, 500836, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2322, 11164, 2, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(123786, 498022, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(4214, 13978, 5, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120702, 485199, 56, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7298, 26801, 8, 4))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel3")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122594, 488013, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5406, 23987, 5, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel23")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125678, 500836, 62, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2322, 11164, 2, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122444, 491852, 59, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5556, 20148, 5, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124766, 503016, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3234, 8984, 3, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(124371, 495836, 60, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(3629, 16164, 4, 2))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(128000, 512000, 64, 512))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(0, 0, 0, 0))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(0))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(32))

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(1))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(31))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(125901, 494997, 61, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(2099, 17003, 3, 1))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel17", kernel17Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122559, 485648, 57, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5441, 26352, 7, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel8", kernel8Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120386, 470452, 53, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7614, 41548, 11, 2))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118929, 453982, 51, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9071, 58018, 13, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel10", kernel10Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117008, 440598, 49, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10992, 71402, 15, 3))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel10")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(118929, 453982, 51, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(9071, 58018, 13, 3))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120386, 470452, 53, 510))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7614, 41548, 11, 2))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(122485, 487455, 56, 511))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(5515, 24545, 8, 1))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(2))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(30))

		err = resourceManager.CommitResources(1, "Kernel2", kernel2Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(120647, 477565, 52, 509))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(7353, 34435, 12, 3))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel6", kernel6Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117755, 474964, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10245, 37036, 15, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115656, 457961, 46, 506))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12344, 54039, 18, 6))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117755, 474964, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10245, 37036, 15, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(115433, 463800, 47, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(12567, 48200, 17, 7))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel14")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117755, 474964, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10245, 37036, 15, 5))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel17")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(121097, 484313, 53, 508))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(6903, 27687, 11, 4))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(3))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(29))

		err = resourceManager.CommitResources(1, "Kernel21", kernel21Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(4))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(28))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(117858, 466308, 49, 507))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(10142, 45692, 15, 5))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel16", kernel16Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(5))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(27))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114229, 450144, 45, 505))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13771, 61856, 19, 7))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel28", kernel28Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(112130, 433141, 42, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(15870, 78859, 22, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110673, 416671, 40, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17327, 95329, 24, 9))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel11", kernel11Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107439, 407687, 37, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20561, 104313, 27, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel12", kernel12Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106470, 399447, 33, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21530, 112553, 31, 11))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel6")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109362, 402048, 36, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18638, 109952, 28, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(110819, 418518, 38, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(17181, 93482, 26, 8))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel27", kernel27Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109043, 389499, 35, 504))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18957, 122501, 29, 8))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel14", kernel14Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106721, 378335, 33, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21279, 133665, 31, 10))).To(BeTrue())

		err = resourceManager.CommitResources(1, "Kernel26", kernel26Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104849, 357308, 28, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23151, 154692, 36, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel12")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105818, 365548, 32, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22182, 146452, 32, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.CommitResources(1, "Kernel24", kernel24Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(10))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(22))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(104361, 349078, 30, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(23639, 162922, 34, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel8")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(106534, 364274, 34, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(21466, 147726, 30, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel24")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107991, 380744, 36, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20009, 131256, 28, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.CommitResources(1, "Kernel18", kernel18Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(9))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(23))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(105638, 367722, 33, 498))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(22362, 144278, 31, 14))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel2")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107476, 377612, 37, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20524, 134388, 27, 12))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel28")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(109575, 394615, 40, 501))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(18425, 117385, 24, 11))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.CommitResources(1, "Kernel3", kernel3Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(8))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(24))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(107683, 391801, 37, 500))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(20317, 120199, 27, 12))).To(BeTrue())

		err = resourceManager.ReleaseCommittedResources(1, "Kernel16")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111312, 407965, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16688, 104035, 23, 10))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))

		err = resourceManager.ReleaseCommittedResources(1, "Kernel11")
		Expect(err).To(BeNil())
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(114546, 416949, 44, 503))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(13454, 95051, 20, 9))).To(BeTrue())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(6))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(26))

		err = resourceManager.CommitResources(1, "Kernel23", kernel23Spec, false)
		Expect(err).To(BeNil())
		GinkgoWriter.Printf("resourceManager.CommittedResources(): %s\n", resourceManager.CommittedResources().String())
		Expect(resourceManager.NumAllocations()).To(Equal(32))
		Expect(resourceManager.NumCommittedAllocations()).To(Equal(7))
		Expect(resourceManager.NumPendingAllocations()).To(Equal(25))
		Expect(resourceManager.IdleResources().Equals(types.NewDecimalSpec(111462, 404126, 41, 502))).To(BeTrue())
		Expect(resourceManager.CommittedResources().Equals(types.NewDecimalSpec(16538, 107874, 23, 10))).To(BeTrue())
	})
})
